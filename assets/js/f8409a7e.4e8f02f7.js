"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[206],{6620:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var o=t(5250),i=t(347),r=t(1719);const a={sidebar_position:1,id:"intro"},s="Getting started",l={id:"intro",title:"Getting started",description:"This editor uses Custom Element.",source:"@site/docs/intro.mdx",sourceDirName:".",slug:"/intro",permalink:"/visual-editor/docs/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/boxraiser/visual-editor/tree/main/docs/docs/intro.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,id:"intro"},sidebar:"tutorialSidebar",next:{title:"Defining your components",permalink:"/visual-editor/docs/component"}},c={},d=[{value:"Registering your page components",id:"registering-your-page-components",level:2},{value:"Add the editor on your page",id:"add-the-editor-on-your-page",level:2},{value:"How the data is formatted ?",id:"how-the-data-is-formatted-",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"getting-started",children:"Getting started"}),"\n",(0,o.jsxs)(n.p,{children:["This editor uses ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements",children:"Custom Element"}),"."]}),"\n","\n","\n",(0,o.jsx)(r.I,{}),"\n",(0,o.jsx)(n.h2,{id:"registering-your-page-components",children:"Registering your page components"}),"\n",(0,o.jsx)(n.p,{children:"Start by instantiating the editor."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { VisualEditor } from '@boxraiser/visual-editor'\n\nlet editor = new VisualEditor()\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Then register your page components using the ",(0,o.jsx)(n.code,{children:"registerComponent"})," method that expect 2 parameters"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A unique identifier for the block (string)"}),"\n",(0,o.jsxs)(n.li,{children:["An option object (see ",(0,o.jsx)(n.a,{href:"https://github.com/boxraiser/visual-editor/blob/main/visual-editor/src/types.ts#L38",children:"EditorComponentDefinition"})," for more information)"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { HTMLText, Repeater, Text, Row, Select } from '@boxraiser/visual-editor'\n\n// Register a component / block\neditor.registerComponent('hero', {\n  title: 'Hero',\n  category: 'Banner',\n  fields: [\n    Text('title', {multiline: false}),\n    HTMLText('content'),\n    Repeater('buttons', {\n      title: 'Boutons',\n      addLabel: 'Add a new button',\n      fields: [\n        Row([\n          Text('label', { label: 'Label', default: 'Call to action' }),\n          Text('url', { label: 'Link' }),\n          Select('type', {\n            default: 'primary',\n            label: 'type',\n            options: [\n              { label: 'Primaire', value: 'primary' },\n              { label: 'Secondaire', value: 'secondary' }\n            ]\n          })\n        ])\n      ]\n    })\n  ]\n})\n"})}),"\n",(0,o.jsxs)(n.p,{children:["When all your components are registered you can define the custom element using the ",(0,o.jsx)(n.code,{children:"defineElement"})," method."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"editor.defineElement()\n// You can also choose a custom component name with editor.defineElement('my-editor')\n"})}),"\n",(0,o.jsx)(n.h2,{id:"add-the-editor-on-your-page",children:"Add the editor on your page"}),"\n",(0,o.jsxs)(n.p,{children:["You now have a custom element ",(0,o.jsx)(n.code,{children:"visual-editor"})," that you can use to display the editor."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<visual-editor\n  hidden\n  name="content"\n  preview="http://localhost:3000/preview"\n  iconsUrl="/assets/editor/[name].svg"\n  value="[]"\n  insertPosition="start"\n></visual-editor>\n'})}),"\n",(0,o.jsx)(n.p,{children:"There are multiple mandatory attributes :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"hidden"}),", toggle this attribute to show or hide the editor"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"name"}),", name for the field (will be passed to an hidden textarea)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"preview"}),", endpoint called to render the preview"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"iconsUrl"}),", path used to resolve component icons URL ([name] will be replaced by the ID of the component)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"value"})," (optional), will set the default value for the editor (expect a JSON array)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"insertPosition"})," (optional), determine at which position the new block will be added (",(0,o.jsx)(n.strong,{children:"start"})," or ",(0,o.jsx)(n.strong,{children:"end"}),", ",(0,o.jsx)(n.strong,{children:"start"})," by default)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The custom element will create a hidden field that will be used to store the data, no need for additional JavaScript you will receive the data when the form is submitted."}),"\n",(0,o.jsx)(n.h2,{id:"how-the-data-is-formatted-",children:"How the data is formatted ?"}),"\n",(0,o.jsx)(n.p,{children:"The data follow a simple structure (to be usable with any framework or technology)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:' [\n  {\n    "_name": "hero",\n    "<fieldname>": "<value>",\n    "<fieldname>": "<value>",\n    "<fieldname>": "<value>"\n  },\n  {\n    "_name": "hero",\n    "<fieldname>": "<value>",\n    "<fieldname>": "<value>",\n    "<fieldname>": "<value>"\n  }\n]\n'})}),"\n",(0,o.jsx)(n.p,{children:"A real world example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "title": "Album example",\n    "titleAlign": "center",\n    "content": "<p>Something short and leading about the collection below\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don\'t simply skip over it entirely.</p>",\n    "buttons": [\n      {\n        "label": "Main call to action",\n        "url": "#",\n        "type": "primary"\n      },\n      {\n        "label": "Secondary action",\n        "url": "#",\n        "type": "secondary"\n      }\n    ],\n    "backgroundSize": "cover",\n    "backgroundRepeat": "no-repeat",\n    "backgroundXPosition": "center",\n    "backgroundYPosition": "center",\n    "padding": 5,\n    "_name": "hero",\n    "backgroundColor": null,\n    "textColor": "--bs-primary",\n    "background": "",\n    "backgroundMobile": ""\n  },\n  {\n    "icons": [\n      {\n        "title": "Pro",\n        "content": "<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>"\n      },\n      {\n        "title": "Pro",\n        "content": "<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>"\n      },\n      {\n        "title": "Pro",\n        "content": "<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>"\n      }\n    ],\n    "backgroundSize": "cover",\n    "backgroundRepeat": "no-repeat",\n    "backgroundXPosition": "center",\n    "backgroundYPosition": "center",\n    "padding": 5,\n    "_name": "icons-columns"\n  },\n  {\n    "title": "Pricing",\n    "titleAlign": "center",\n    "content": "<p>Quickly build an effective pricing table for your potential customers with this Bootstrap example. It\u2019s built with default Bootstrap components and utilities with little customization.</p>",\n    "prices": [\n      {\n        "title": "Free",\n        "price": "0\u20ac",\n        "features": "10 users included\\n2 GB of storage\\nEmail support\\nHelp center access",\n        "label": "Sign up for free",\n        "url": "#",\n        "type": "secondary"\n      },\n      {\n        "title": "Pro",\n        "price": "15\u20ac",\n        "features": "20 users included\\n10 GB of storage\\nPriority email support\\nHelp center access",\n        "label": "Get started",\n        "url": "#",\n        "type": "primary"\n      },\n      {\n        "title": "Enterprise",\n        "price": "29\u20ac",\n        "features": "30 users included\\n15 GB of storage\\nPhone and email support\\nHelp center access",\n        "label": "Contact us",\n        "url": "#",\n        "type": "primary"\n      }\n    ],\n    "backgroundSize": "cover",\n    "backgroundRepeat": "no-repeat",\n    "backgroundXPosition": "center",\n    "backgroundYPosition": "center",\n    "padding": 5,\n    "_name": "pricing"\n  },\n  {\n    "title": "Lorem ipsum dolor sit amet",\n    "titleAlign": "right",\n    "content": "<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>",\n    "buttons": [\n      {\n        "label": "Call to action",\n        "url": "",\n        "type": "primary"\n      },\n      {\n        "label": "Call to action",\n        "url": "",\n        "type": "secondary"\n      }\n    ],\n    "backgroundSize": "cover",\n    "backgroundRepeat": "no-repeat",\n    "backgroundXPosition": "center",\n    "backgroundYPosition": "center",\n    "padding": 3,\n    "_name": "hero",\n    "backgroundColor": null\n  }\n]\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},1719:(e,n,t)=>{t.d(n,{I:()=>s});var o=t(79),i=t(9581);const r=JSON.parse('[{"title":"Album example","titleAlign":"center","content":"<p>Something short and leading about the collection below\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don\'t simply skip over it entirely.</p>","buttons":[{"label":"Main call to action","url":"#","type":"primary"},{"label":"Secondary action","url":"#","type":"secondary"}],"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundXPosition":"center","backgroundYPosition":"center","padding":5,"_name":"hero","backgroundColor":null,"textColor":"--bs-primary","background":"","backgroundMobile":""},{"icons":[{"title":"First title","content":"<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p><p><br></p>"},{"title":"Second title","content":"<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>"},{"title":"Third title","content":"<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>"}],"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundXPosition":"center","backgroundYPosition":"center","padding":5,"_name":"icons-columns"},{"title":"Pricing","titleAlign":"center","content":"<p>Quickly build an effective pricing table for your potential customers with this Bootstrap example. It\u2019s built with default Bootstrap components and utilities with little customization.</p>","prices":[{"title":"Free","price":"0\u20ac","features":"10 users included\\n2 GB of storage\\nEmail support\\nHelp center access","label":"Sign up for free","url":"#","type":"secondary"},{"title":"Pro","price":"15\u20ac","features":"20 users included\\n10 GB of storage\\nPriority email support\\nHelp center access","label":"Get started","url":"#","type":"primary"},{"title":"Enterprise","price":"29\u20ac","features":"30 users included\\n15 GB of storage\\nPhone and email support\\nHelp center access","label":"Contact us","url":"#","type":"primary"}],"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundXPosition":"center","backgroundYPosition":"center","padding":5,"_name":"pricing"},{"title":"Lorem ipsum dolor sit amet","titleAlign":"right","content":"<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>","buttons":[{"label":"Call to action","url":"","type":"primary"},{"label":"Call to action","url":"","type":"secondary"}],"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundXPosition":"center","backgroundYPosition":"center","padding":3,"_name":"hero","backgroundColor":null}]');var a=t(5250);function s(e){let{className:n,withoutContent:s,title:l}=e;const[c,d]=(0,o.useState)("hidden"),u=(0,o.useRef)();return(0,o.useEffect)((()=>{Promise.all([t.e(592),t.e(2)]).then(t.bind(t,3002)),u.current.addEventListener("close",(()=>d("hidden")))}),[u.current]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:`button button--secondary ${n}`,onClick:()=>d((e=>void 0===e?"hidden":void 0)),children:l??"Test the editor"}),"undefined"!=typeof document&&i.createPortal((0,a.jsx)("div",{style:{zIndex:9999,position:"relative",isolation:"isolate"},children:(0,a.jsx)("visual-editor",{hidden:c,name:"content",preview:"https://x6475apkns.preview.infomaniak.website",iconsUrl:"/visual-editor/img/[name].svg",value:s?"[]":JSON.stringify(r),ref:u})}),document.body)]})}}}]);