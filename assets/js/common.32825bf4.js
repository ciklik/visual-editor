/*! For license information please see common.32825bf4.js.LICENSE.txt */
(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[76],{9881(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{A:()=>r})},9374(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{A:()=>r})},4746(e,t,n){"use strict";n.d(t,{Ng:()=>a,sb:()=>i,vq:()=>o});var r=n(9374);function o(e){return e instanceof(0,r.A)(e).Element||e instanceof Element}function i(e){return e instanceof(0,r.A)(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,r.A)(e).ShadowRoot||e instanceof ShadowRoot)}},9982(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(9881),o=n(4746);const i={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},a=t.elements[e];(0,o.sb)(a)&&(0,r.A)(a)&&(Object.assign(a.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});(0,o.sb)(i)&&(0,r.A)(i)&&(Object.assign(i.style,s),Object.keys(a).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]}},6341(e,t,n){"use strict";n.d(t,{n4:()=>ye});var r=n(4746),o=Math.max,i=Math.min,a=Math.round,s=n(9374);function l(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(l())}function d(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=e.getBoundingClientRect(),i=1,l=1;t&&(0,r.sb)(e)&&(i=e.offsetWidth>0&&a(o.width)/e.offsetWidth||1,l=e.offsetHeight>0&&a(o.height)/e.offsetHeight||1);var d=((0,r.vq)(e)?(0,s.A)(e):window).visualViewport,u=!c()&&n,p=(o.left+(u&&d?d.offsetLeft:0))/i,h=(o.top+(u&&d?d.offsetTop:0))/l,f=o.width/i,m=o.height/l;return{width:f,height:m,top:h,right:p+f,bottom:h+m,left:p,x:p,y:h}}function u(e){var t=(0,s.A)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}var p=n(9881);function h(e){return(((0,r.vq)(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return d(h(e)).left+u(e).scrollLeft}function m(e){return(0,s.A)(e).getComputedStyle(e)}function g(e){var t=m(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function v(e,t,n){void 0===n&&(n=!1);var o,i,l=(0,r.sb)(t),c=(0,r.sb)(t)&&function(e){var t=e.getBoundingClientRect(),n=a(t.width)/e.offsetWidth||1,r=a(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),m=h(t),v=d(e,c,n),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(l||!l&&!n)&&(("body"!==(0,p.A)(t)||g(m))&&(y=(o=t)!==(0,s.A)(o)&&(0,r.sb)(o)?{scrollLeft:(i=o).scrollLeft,scrollTop:i.scrollTop}:u(o)),(0,r.sb)(t)?((b=d(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):m&&(b.x=f(m))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function y(e){var t=d(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function b(e){return"html"===(0,p.A)(e)?e:e.assignedSlot||e.parentNode||((0,r.Ng)(e)?e.host:null)||h(e)}function w(e){return["html","body","#document"].indexOf((0,p.A)(e))>=0?e.ownerDocument.body:(0,r.sb)(e)&&g(e)?e:w(b(e))}function k(e,t){var n;void 0===t&&(t=[]);var r=w(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=(0,s.A)(r),a=o?[i].concat(i.visualViewport||[],g(r)?r:[]):r,l=t.concat(a);return o?l:l.concat(k(b(a)))}function x(e){return["table","td","th"].indexOf((0,p.A)(e))>=0}function C(e){return(0,r.sb)(e)&&"fixed"!==m(e).position?e.offsetParent:null}function S(e){for(var t=(0,s.A)(e),n=C(e);n&&x(n)&&"static"===m(n).position;)n=C(n);return n&&("html"===(0,p.A)(n)||"body"===(0,p.A)(n)&&"static"===m(n).position)?t:n||function(e){var t=/firefox/i.test(l());if(/Trident/i.test(l())&&(0,r.sb)(e)&&"fixed"===m(e).position)return null;var n=b(e);for((0,r.Ng)(n)&&(n=n.host);(0,r.sb)(n)&&["html","body"].indexOf((0,p.A)(n))<0;){var o=m(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}var M="top",D="bottom",E="right",T="left",_="auto",O=[M,D,E,T],A="start",N="end",R="viewport",I="popper",P=O.reduce(function(e,t){return e.concat([t+"-"+A,t+"-"+N])},[]),L=[].concat(O,[_]).reduce(function(e,t){return e.concat([t,t+"-"+A,t+"-"+N])},[]),z=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||o(e)}),r}var H={placement:"bottom",modifiers:[],strategy:"absolute"};function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function B(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?H:i;return function(e,t,n){void 0===n&&(n=a);var i,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},H,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(n){var i="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},a,l.options,i),l.scrollParents={reference:(0,r.vq)(e)?k(e):e.contextElement?k(e.contextElement):[],popper:k(t)};var s,d,h=function(e){var t=F(e);return z.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((s=[].concat(o,l.options.modifiers),d=s.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(d).map(function(e){return d[e]})));return l.orderedModifiers=h.filter(function(e){return e.enabled}),l.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:l,name:t,instance:u,options:r}),a=function(){};c.push(i||a)}}),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(j(t,n)){l.rects={reference:v(t,S(n),"fixed"===l.options.strategy),popper:y(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(e){return l.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,c=o.name;"function"==typeof i&&(l=i({state:l,options:s,name:c,instance:u})||l)}else l.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(e){u.forceUpdate(),e(l)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(i())})})),s}),destroy:function(){p(),d=!0}};if(!j(e,t))return u;function p(){c.forEach(function(e){return e()}),c=[]}return u.setOptions(n).then(function(e){!d&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var $={passive:!0};const V={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,l=void 0===a||a,c=(0,s.A)(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(e){e.addEventListener("scroll",n.update,$)}),l&&c.addEventListener("resize",n.update,$),function(){i&&d.forEach(function(e){e.removeEventListener("scroll",n.update,$)}),l&&c.removeEventListener("resize",n.update,$)}},data:{}};function U(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function Y(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?U(o):null,a=o?W(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case M:t={x:s,y:n.y-r.height};break;case D:t={x:s,y:n.y+n.height};break;case E:t={x:n.x+n.width,y:l};break;case T:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Y(i):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case A:t[c]=t[c]-(n[d]/2-r[d]/2);break;case N:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}const K={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var J={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,l=e.offsets,c=e.position,d=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,f=e.isFixed,g=l.x,v=void 0===g?0:g,y=l.y,b=void 0===y?0:y,w="function"==typeof p?p({x:v,y:b}):{x:v,y:b};v=w.x,b=w.y;var k=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),C=T,_=M,O=window;if(u){var A=S(n),R="clientHeight",I="clientWidth";if(A===(0,s.A)(n)&&"static"!==m(A=h(n)).position&&"absolute"===c&&(R="scrollHeight",I="scrollWidth"),o===M||(o===T||o===E)&&i===N)_=D,b-=(f&&A===O&&O.visualViewport?O.visualViewport.height:A[R])-r.height,b*=d?1:-1;if(o===T||(o===M||o===D)&&i===N)C=E,v-=(f&&A===O&&O.visualViewport?O.visualViewport.width:A[I])-r.width,v*=d?1:-1}var P,L=Object.assign({position:c},u&&J),z=!0===p?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:a(n*o)/o||0,y:a(r*o)/o||0}}({x:v,y:b},(0,s.A)(n)):{x:v,y:b};return v=z.x,b=z.y,d?Object.assign({},L,((P={})[_]=x?"0":"",P[C]=k?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",P)):Object.assign({},L,((t={})[_]=x?b+"px":"",t[C]=k?v+"px":"",t.transform="",t))}const G={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:U(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Q(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var X=n(9982);const Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=L.reduce(function(e,n){return e[n]=function(e,t,n){var r=U(e),o=[T,M].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[T,E].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var ee={left:"right",right:"left",bottom:"top",top:"bottom"};function te(e){return e.replace(/left|right|bottom|top/g,function(e){return ee[e]})}var ne={start:"end",end:"start"};function re(e){return e.replace(/start|end/g,function(e){return ne[e]})}function oe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Ng)(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ie(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ae(e,t,n){return t===R?ie(function(e,t){var n=(0,s.A)(e),r=h(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,d=0;if(o){i=o.width,a=o.height;var u=c();(u||!u&&"fixed"===t)&&(l=o.offsetLeft,d=o.offsetTop)}return{width:i,height:a,x:l+f(e),y:d}}(e,n)):(0,r.vq)(t)?function(e,t){var n=d(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ie(function(e){var t,n=h(e),r=u(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=o(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=o(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+f(e),c=-r.scrollTop;return"rtl"===m(i||n).direction&&(l+=o(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:l,y:c}}(h(e)))}function se(e,t,n,a){var s="clippingParents"===t?function(e){var t=k(b(e)),n=["absolute","fixed"].indexOf(m(e).position)>=0&&(0,r.sb)(e)?S(e):e;return(0,r.vq)(n)?t.filter(function(e){return(0,r.vq)(e)&&oe(e,n)&&"body"!==(0,p.A)(e)}):[]}(e):[].concat(t),l=[].concat(s,[n]),c=l[0],d=l.reduce(function(t,n){var r=ae(e,n,a);return t.top=o(r.top,t.top),t.right=i(r.right,t.right),t.bottom=i(r.bottom,t.bottom),t.left=o(r.left,t.left),t},ae(e,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function le(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ce(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function de(e,t){void 0===t&&(t={});var n=t,o=n.placement,i=void 0===o?e.placement:o,a=n.strategy,s=void 0===a?e.strategy:a,l=n.boundary,c=void 0===l?"clippingParents":l,u=n.rootBoundary,p=void 0===u?R:u,f=n.elementContext,m=void 0===f?I:f,g=n.altBoundary,v=void 0!==g&&g,y=n.padding,b=void 0===y?0:y,w=le("number"!=typeof b?b:ce(b,O)),k=m===I?"reference":I,x=e.rects.popper,C=e.elements[v?k:m],S=se((0,r.vq)(C)?C:C.contextElement||h(e.elements.popper),c,p,s),T=d(e.elements.reference),_=q({reference:T,element:x,strategy:"absolute",placement:i}),A=ie(Object.assign({},x,_)),N=m===I?A:T,P={top:S.top-N.top+w.top,bottom:N.bottom-S.bottom+w.bottom,left:S.left-N.left+w.left,right:N.right-S.right+w.right},L=e.modifiersData.offset;if(m===I&&L){var z=L[i];Object.keys(P).forEach(function(e){var t=[E,D].indexOf(e)>=0?1:-1,n=[M,D].indexOf(e)>=0?"y":"x";P[e]+=z[n]*t})}return P}const ue={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,v=U(g),y=l||(v===g||!f?[te(g)]:function(e){if(U(e)===_)return[];var t=te(e);return[re(e),t,re(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(U(n)===_?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?L:l,d=W(r),u=d?s?P:P.filter(function(e){return W(e)===d}):O,p=u.filter(function(e){return c.indexOf(e)>=0});0===p.length&&(p=u);var h=p.reduce(function(t,n){return t[n]=de(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[U(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)},[]),w=t.rects.reference,k=t.rects.popper,x=new Map,C=!0,S=b[0],N=0;N<b.length;N++){var R=b[N],I=U(R),z=W(R)===A,F=[M,D].indexOf(I)>=0,H=F?"width":"height",j=de(t,{placement:R,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),B=F?z?E:T:z?D:M;w[H]>k[H]&&(B=te(B));var $=te(B),V=[];if(i&&V.push(j[I]<=0),s&&V.push(j[B]<=0,j[$]<=0),V.every(function(e){return e})){S=R,C=!1;break}x.set(R,V)}if(C)for(var Y=function(e){var t=b.find(function(t){var n=x.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},q=f?3:1;q>0;q--){if("break"===Y(q))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function pe(e,t,n){return o(e,i(t,n))}const he={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=void 0===a||a,l=n.altAxis,c=void 0!==l&&l,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,h=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,b=de(t,{boundary:d,rootBoundary:u,padding:h,altBoundary:p}),w=U(t.placement),k=W(t.placement),x=!k,C=Y(w),_="x"===C?"y":"x",O=t.modifiersData.popperOffsets,N=t.rects.reference,R=t.rects.popper,I="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,P="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(O){if(s){var F,H="y"===C?M:T,j="y"===C?D:E,B="y"===C?"height":"width",$=O[C],V=$+b[H],q=$-b[j],K=m?-R[B]/2:0,J=k===A?N[B]:R[B],Q=k===A?-R[B]:-N[B],G=t.elements.arrow,X=m&&G?y(G):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=Z[H],te=Z[j],ne=pe(0,N[B],X[B]),re=x?N[B]/2-K-ne-ee-P.mainAxis:J-ne-ee-P.mainAxis,oe=x?-N[B]/2+K+ne+te+P.mainAxis:Q+ne+te+P.mainAxis,ie=t.elements.arrow&&S(t.elements.arrow),ae=ie?"y"===C?ie.clientTop||0:ie.clientLeft||0:0,se=null!=(F=null==L?void 0:L[C])?F:0,le=$+oe-se,ce=pe(m?i(V,$+re-se-ae):V,$,m?o(q,le):q);O[C]=ce,z[C]=ce-$}if(c){var ue,he="x"===C?M:T,fe="x"===C?D:E,me=O[_],ge="y"===_?"height":"width",ve=me+b[he],ye=me-b[fe],be=-1!==[M,T].indexOf(w),we=null!=(ue=null==L?void 0:L[_])?ue:0,ke=be?ve:me-N[ge]-R[ge]-we+P.altAxis,xe=be?me+N[ge]+R[ge]-we-P.altAxis:ye,Ce=m&&be?function(e,t,n){var r=pe(e,t,n);return r>n?n:r}(ke,me,xe):pe(m?ke:ve,me,m?xe:ye);O[_]=Ce,z[_]=Ce-me}t.modifiersData[r]=z}},requiresIfExists:["offset"]};const fe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=U(n.placement),l=Y(s),c=[T,E].indexOf(s)>=0?"height":"width";if(i&&a){var d=function(e,t){return le("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ce(e,O))}(o.padding,n),u=y(i),p="y"===l?M:T,h="y"===l?D:E,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=S(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,w=d[p],k=v-u[c]-d[h],x=v/2-u[c]/2+b,C=pe(w,x,k),_=l;n.modifiersData[r]=((t={})[_]=C,t.centerOffset=C-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&oe(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function me(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ge(e){return[M,E,D,T].some(function(t){return e[t]>=0})}const ve={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=de(t,{elementContext:"reference"}),s=de(t,{altBoundary:!0}),l=me(a,r),c=me(s,o,i),d=ge(l),u=ge(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}};var ye=B({defaultModifiers:[V,K,G,X.A,Z,ue,he,fe,ve]})},1772(e,t,n){"use strict";n.d(t,{A:()=>i});n(7378);var r=n(7073),o=n(6106);function i({children:e,fallback:t}){return(0,r.A)()?(0,o.jsx)(o.Fragment,{children:e?.()}):t??null}},733(e,t,n){"use strict";n.d(t,{A:()=>f});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const o=function(e,t,n){var o,i=r[e];return o="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function i(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const a={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const l=function(e,t,n,r){return s[e]};function c(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=null!=n&&n.width?String(n.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const d={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:c({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:c({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:c({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:c({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:c({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function u(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a,s=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(s)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(s)});return a=e.valueCallback?e.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}var p,h={ordinalNumber:(p={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(p.matchPattern);if(!n)return null;var r=n[0],o=e.match(p.parsePattern);if(!o)return null;var i=p.valueCallback?p.valueCallback(o[0]):o[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(r.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const f={code:"en-US",formatDistance:o,formatLong:a,formatRelative:l,localize:d,match:h,options:{weekStartsOn:0,firstWeekContainsDate:1}}},2585(e,t,n){"use strict";n.d(t,{q:()=>o});var r={};function o(){return r}},3521(e,t,n){"use strict";n.d(t,{A:()=>i});var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},o=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const i={p:o,P:function(e,t){var n,i=e.match(/(P+)(p+)?/)||[],a=i[1],s=i[2];if(!s)return r(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(a,t)).replace("{{time}}",o(s,t))}}},2609(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{A:()=>r})},3583(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(2862),o=n(8522),i=n(9094),a=n(4156);function s(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=(0,o.A)(t).getTime()-function(e){(0,a.A)(1,arguments);var t=(0,i.A)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,o.A)(n)}(t).getTime();return Math.round(n/6048e5)+1}},9094(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(2862),o=n(4156),i=n(8522);function a(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,i.A)(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,i.A)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},1695(e,t,n){"use strict";n.d(t,{A:()=>c});var r=n(2862),o=n(1689),i=n(8115),a=n(4156),s=n(5341),l=n(2585);function c(e,t){(0,a.A)(1,arguments);var n=(0,r.default)(e),c=(0,o.A)(n,t).getTime()-function(e,t){var n,r,c,d,u,p,h,f;(0,a.A)(1,arguments);var m=(0,l.q)(),g=(0,s.A)(null!==(n=null!==(r=null!==(c=null!==(d=null==t?void 0:t.firstWeekContainsDate)&&void 0!==d?d:null==t||null===(u=t.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==c?c:m.firstWeekContainsDate)&&void 0!==r?r:null===(h=m.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1),v=(0,i.A)(e,t),y=new Date(0);return y.setUTCFullYear(v,0,g),y.setUTCHours(0,0,0,0),(0,o.A)(y,t)}(n,t).getTime();return Math.round(c/6048e5)+1}},8115(e,t,n){"use strict";n.d(t,{A:()=>l});var r=n(2862),o=n(4156),i=n(1689),a=n(5341),s=n(2585);function l(e,t){var n,l,c,d,u,p,h,f;(0,o.A)(1,arguments);var m=(0,r.default)(e),g=m.getUTCFullYear(),v=(0,s.q)(),y=(0,a.A)(null!==(n=null!==(l=null!==(c=null!==(d=null==t?void 0:t.firstWeekContainsDate)&&void 0!==d?d:null==t||null===(u=t.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==c?c:v.firstWeekContainsDate)&&void 0!==l?l:null===(h=v.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,y),b.setUTCHours(0,0,0,0);var w=(0,i.A)(b,t),k=new Date(0);k.setUTCFullYear(g,0,y),k.setUTCHours(0,0,0,0);var x=(0,i.A)(k,t);return m.getTime()>=w.getTime()?g+1:m.getTime()>=x.getTime()?g:g-1}},764(e,t,n){"use strict";n.d(t,{ef:()=>i,lJ:()=>s,xM:()=>a});var r=["D","DD"],o=["YY","YYYY"];function i(e){return-1!==r.indexOf(e)}function a(e){return-1!==o.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},4156(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>r})},8522(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=t.getUTCDay(),i=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}},1689(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(2862),o=n(4156),i=n(5341),a=n(2585);function s(e,t){var n,s,l,c,d,u,p,h;(0,o.A)(1,arguments);var f=(0,a.q)(),m=(0,i.A)(null!==(n=null!==(s=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==s?s:null===(p=f.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.default)(e),v=g.getUTCDay(),y=(v<m?7:0)+v-m;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}},5341(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>r})},1269(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},9125(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2200),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.A)(e,36e5*n)}},2200(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e).getTime(),a=(0,r.A)(t);return new Date(n+a)}},1559(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2200),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.A)(e,6e4*n)}},2921(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var s=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+a+1,0),s>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}},4371(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2921),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=3*(0,r.A)(t);return(0,o.default)(e,n)}},1663(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(1269),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=7*(0,r.A)(t);return(0,o.default)(e,n)}},4424(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2921),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.default)(e,12*n)}},1132(e,t,n){"use strict";n.d(t,{Cg:()=>r,_m:()=>i,s0:()=>o});Math.pow(10,8);var r=6e4,o=36e5,i=1e3},5498(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(2609),o=n(5626),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,o.default)(t),s=n.getTime()-(0,r.A)(n),l=a.getTime()-(0,r.A)(a);return Math.round((s-l)/864e5)}},2802(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}},4657(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()-i.getFullYear()}},6737(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}},3209(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},8033(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2585),o=n(2862),i=n(5341),a=n(4156);function s(e,t){var n,s,l,c,d,u,p,h;(0,a.A)(1,arguments);var f=(0,r.q)(),m=(0,i.A)(null!==(n=null!==(s=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==s?s:null===(p=f.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,o.default)(e),v=g.getDay(),y=6+(v<m?-7:0)-(v-m);return g.setDate(g.getDate()+y),g.setHours(23,59,59,999),g}},704(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},8505(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>P});var r=n(9615),o=n(2313),i=n(2862),a=n(4156);var s=n(3583),l=n(9094),c=n(1695),d=n(8115);function u(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const p={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return u("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):u(n+1,2)},d:function(e,t){return u(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return u(e.getUTCHours()%12||12,t.length)},H:function(e,t){return u(e.getUTCHours(),t.length)},m:function(e,t){return u(e.getUTCMinutes(),t.length)},s:function(e,t){return u(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return u(Math.floor(r*Math.pow(10,n-3)),t.length)}};var h="midnight",f="noon",m="morning",g="afternoon",v="evening",y="night",b={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return p.y(e,t)},Y:function(e,t,n,r){var o=(0,d.A)(e,r),i=o>0?o:1-o;return"YY"===t?u(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):u(i,t.length)},R:function(e,t){return u((0,l.A)(e),t.length)},u:function(e,t){return u(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return u(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return u(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return p.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return u(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=(0,c.A)(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):u(o,t.length)},I:function(e,t,n){var r=(0,s.A)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):u(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):p.d(e,t)},D:function(e,t,n){var r=function(e){(0,a.A)(1,arguments);var t=(0,i.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):u(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return u(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return u(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return u(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?f:0===o?h:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?v:o>=12?g:o>=4?m:y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return p.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):p.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):u(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):u(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):p.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):p.s(e,t)},S:function(e,t){return p.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return k(o);case"XXXX":case"XX":return x(o);default:return x(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return k(o);case"xxxx":case"xx":return x(o);default:return x(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+w(o,":");default:return"GMT"+x(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+w(o,":");default:return"GMT"+x(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return u(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return u((r._originalDate||e).getTime(),t.length)}};function w(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=t||"";return n+String(o)+a+u(i,2)}function k(e,t){return e%60==0?(e>0?"-":"+")+u(Math.abs(e)/60,2):x(e,t)}function x(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+u(Math.floor(o/60),2)+n+u(o%60,2)}const C=b;var S=n(3521),M=n(2609),D=n(764),E=n(5341),T=n(2585),_=n(733),O=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N=/^'([^]*?)'?$/,R=/''/g,I=/[a-zA-Z]/;function P(e,t,n){var s,l,c,d,u,p,h,f,m,g,v,y,b,w,k,x,P,L;(0,a.A)(2,arguments);var z=String(t),F=(0,T.q)(),H=null!==(s=null!==(l=null==n?void 0:n.locale)&&void 0!==l?l:F.locale)&&void 0!==s?s:_.A,j=(0,E.A)(null!==(c=null!==(d=null!==(u=null!==(p=null==n?void 0:n.firstWeekContainsDate)&&void 0!==p?p:null==n||null===(h=n.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==u?u:F.firstWeekContainsDate)&&void 0!==d?d:null===(m=F.locale)||void 0===m||null===(g=m.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==c?c:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=(0,E.A)(null!==(v=null!==(y=null!==(b=null!==(w=null==n?void 0:n.weekStartsOn)&&void 0!==w?w:null==n||null===(k=n.locale)||void 0===k||null===(x=k.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==b?b:F.weekStartsOn)&&void 0!==y?y:null===(P=F.locale)||void 0===P||null===(L=P.options)||void 0===L?void 0:L.weekStartsOn)&&void 0!==v?v:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!H.localize)throw new RangeError("locale must contain localize property");if(!H.formatLong)throw new RangeError("locale must contain formatLong property");var $=(0,i.default)(e);if(!(0,r.default)($))throw new RangeError("Invalid time value");var V=(0,M.A)($),U=(0,o.A)($,V),W={firstWeekContainsDate:j,weekStartsOn:B,locale:H,_originalDate:$};return z.match(A).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,S.A[t])(e,H.formatLong):e}).join("").match(O).map(function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(e){var t=e.match(N);if(!t)return e;return t[1].replace(R,"'")}(r);var i=C[o];if(i)return null!=n&&n.useAdditionalWeekYearTokens||!(0,D.xM)(r)||(0,D.lJ)(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!(0,D.ef)(r)||(0,D.lJ)(r,t,String(e)),i(U,r,H.localize,W);if(o.match(I))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r}).join("")}},2817(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getDate()}},4837(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getDay()}},3188(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getHours()}},1572(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(2862),o=n(4352),i=n(4156);function a(e){return(0,i.A)(1,arguments),(0,o.default)(e,{weekStartsOn:1})}function s(e){(0,i.A)(1,arguments);var t=function(e){(0,i.A)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var s=a(o),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var c=a(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),a(n)}function l(e){(0,i.A)(1,arguments);var t=(0,r.default)(e),n=a(t).getTime()-s(t).getTime();return Math.round(n/6048e5)+1}},4890(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getMinutes()}},9413(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getMonth()}},7587(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e);return Math.floor(t.getMonth()/3)+1}},6102(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getSeconds()}},7284(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getTime()}},5388(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){return(0,o.A)(1,arguments),(0,r.default)(e).getFullYear()}},3411(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()>i.getTime()}},9144(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()<i.getTime()}},8951(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(1816),o=n(4156);function i(e){return(0,o.A)(1,arguments),e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===Object.prototype.toString.call(e)}},9661(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},5057(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5626),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},6969(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},7583(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2920),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},9168(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()===i.getFullYear()}},9615(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8951),o=n(2862),i=n(4156);function a(e){if((0,i.A)(1,arguments),!(0,r.default)(e)&&"number"!=typeof e)return!1;var t=(0,o.default)(e);return!isNaN(Number(t))}},1669(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e,t){(0,o.A)(2,arguments);var n=(0,r.default)(e).getTime(),i=(0,r.default)(t.start).getTime(),a=(0,r.default)(t.end).getTime();if(!(i<=a))throw new RangeError("Invalid interval");return n>=i&&n<=a}},2887(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1816),o=n(2862),i=n(4156);function a(e){var t,n;if((0,i.A)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,r.A)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,o.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}},8285(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1816),o=n(2862),i=n(4156);function a(e){var t,n;if((0,i.A)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,r.A)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,o.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)}),n||new Date(NaN)}},6469(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>rt});var r=n(1816);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}var a=n(733),s=n(2313),l=n(2862);function c(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var d=n(3521),u=n(2609),p=n(764),h=n(5341),f=n(4156);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=n(1282);function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,g.A)(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function w(e){var t=b();return function(){var n,o=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"==(0,r.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function S(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(){function e(){k(this,e),M(this,"priority",void 0),M(this,"subPriority",0)}return S(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),E=function(e){v(n,e);var t=w(n);function n(e,r,o,i,a){var s;return k(this,n),(s=t.call(this)).value=e,s.validateValue=r,s.setValue=o,s.priority=i,a&&(s.subPriority=a),s}return S(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(D),T=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",10),M(m(e),"subPriority",-1),e}return S(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(D),_=function(){function e(){k(this,e),M(this,"incompatibleTokens",void 0),M(this,"priority",void 0),M(this,"subPriority",void 0)}return S(e,[{key:"run",value:function(e,t,n,r){var o=this.parse(e,t,n,r);return o?{setter:new E(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),O=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",140),M(m(e),"incompatibleTokens",["R","u","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),A=n(1132),N=/^(1[0-2]|0?\d)/,R=/^(3[0-1]|[0-2]?\d)/,I=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,P=/^(5[0-3]|[0-4]?\d)/,L=/^(2[0-3]|[0-1]?\d)/,z=/^(2[0-4]|[0-1]?\d)/,F=/^(1[0-1]|0?\d)/,H=/^(1[0-2]|0?\d)/,j=/^[0-5]?\d/,B=/^[0-5]?\d/,$=/^\d/,V=/^\d{1,2}/,U=/^\d{1,3}/,W=/^\d{1,4}/,Y=/^-?\d+/,q=/^-?\d/,K=/^-?\d{1,2}/,J=/^-?\d{1,3}/,Q=/^-?\d{1,4}/,G=/^([+-])(\d{2})(\d{2})?|Z/,X=/^([+-])(\d{2})(\d{2})|Z/,Z=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ee=/^([+-])(\d{2}):(\d{2})|Z/,te=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ne(e,t){return e?{value:t(e.value),rest:e.rest}:e}function re(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function oe(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(o*A.s0+i*A.Cg+a*A._m),rest:t.slice(n[0].length)}}function ie(e){return re(Y,e)}function ae(e,t){switch(e){case 1:return re($,t);case 2:return re(V,t);case 3:return re(U,t);case 4:return re(W,t);default:return re(new RegExp("^\\d{1,"+e+"}"),t)}}function se(e,t){switch(e){case 1:return re(q,t);case 2:return re(K,t);case 3:return re(J,t);case 4:return re(Q,t);default:return re(new RegExp("^-?\\d{1,"+e+"}"),t)}}function le(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ce(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var i=o+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}function de(e){return e%400==0||e%4==0&&e%100!=0}var ue=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",130),M(m(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return ne(ae(4,e),r);case"yo":return ne(n.ordinalNumber(e,{unit:"year"}),r);default:return ne(ae(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var o=ce(n.year,r);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),pe=n(8115),he=n(1689),fe=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",130),M(m(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return ne(ae(4,e),r);case"Yo":return ne(n.ordinalNumber(e,{unit:"year"}),r);default:return ne(ae(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var o=(0,pe.A)(e,r);if(n.isTwoDigitYear){var i=ce(n.year,o);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,he.A)(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,he.A)(e,r)}}]),n}(_),me=n(8522),ge=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",130),M(m(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t){return se("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),(0,me.A)(r)}}]),n}(_),ve=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",130),M(m(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t){return se("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),ye=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",120),M(m(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return ae(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(_),be=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",120),M(m(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return ae(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(_),we=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),M(m(e),"priority",110),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return ne(re(N,e),r);case"MM":return ne(ae(2,e),r);case"Mo":return ne(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),ke=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",110),M(m(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return ne(re(N,e),r);case"LL":return ne(ae(2,e),r);case"Lo":return ne(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),xe=n(1695);var Ce=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",100),M(m(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return re(P,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return(0,he.A)(function(e,t,n){(0,f.A)(2,arguments);var r=(0,l.default)(e),o=(0,h.A)(t),i=(0,xe.A)(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)}}]),n}(_),Se=n(3583);var Me=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",100),M(m(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return re(P,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,me.A)(function(e,t){(0,f.A)(2,arguments);var n=(0,l.default)(e),r=(0,h.A)(t),o=(0,Se.A)(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n))}}]),n}(_),De=[31,28,31,30,31,30,31,31,30,31,30,31],Ee=[31,29,31,30,31,30,31,31,30,31,30,31],Te=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",90),M(m(e),"subPriority",1),M(m(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return re(R,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){var n=de(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=Ee[r]:t>=1&&t<=De[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(_),_e=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",90),M(m(e),"subpriority",1),M(m(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return re(I,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return de(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(_),Oe=n(2585);function Ae(e,t,n){var r,o,i,a,s,c,d,u;(0,f.A)(2,arguments);var p=(0,Oe.q)(),m=(0,h.A)(null!==(r=null!==(o=null!==(i=null!==(a=null==n?void 0:n.weekStartsOn)&&void 0!==a?a:null==n||null===(s=n.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==i?i:p.weekStartsOn)&&void 0!==o?o:null===(d=p.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,l.default)(e),v=(0,h.A)(t),y=((v%7+7)%7<m?7:0)+v-g.getUTCDay();return g.setUTCDate(g.getUTCDate()+y),g}var Ne=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",90),M(m(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ae(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(_),Re=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",90),M(m(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ne(ae(t.length,e),o);case"eo":return ne(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ae(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(_),Ie=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",90),M(m(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ne(ae(t.length,e),o);case"co":return ne(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ae(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(_);var Pe=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",90),M(m(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ae(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ne(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ne(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ne(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ne(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){(0,f.A)(2,arguments);var n=(0,h.A)(t);n%7==0&&(n-=7);var r=(0,l.default)(e),o=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+o),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(_),Le=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",80),M(m(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(le(n),0,0,0),e}}]),n}(_),ze=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",80),M(m(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(le(n),0,0,0),e}}]),n}(_),Fe=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",80),M(m(e),"incompatibleTokens",["a","b","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(le(n),0,0,0),e}}]),n}(_),He=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",70),M(m(e),"incompatibleTokens",["H","K","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return re(H,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(_),je=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",70),M(m(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return re(L,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(_),Be=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",70),M(m(e),"incompatibleTokens",["h","H","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return re(F,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(_),$e=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",70),M(m(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return re(z,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(_),Ve=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",60),M(m(e),"incompatibleTokens",["t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return re(j,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(_),Ue=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",50),M(m(e),"incompatibleTokens",["t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return re(B,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ae(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(_),We=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",30),M(m(e),"incompatibleTokens",["t","T"]),e}return S(n,[{key:"parse",value:function(e,t){return ne(ae(t.length,e),function(e){return Math.floor(e*Math.pow(10,3-t.length))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(_),Ye=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",10),M(m(e),"incompatibleTokens",["t","T","x"]),e}return S(n,[{key:"parse",value:function(e,t){switch(t){case"X":return oe(G,e);case"XX":return oe(X,e);case"XXXX":return oe(Z,e);case"XXXXX":return oe(te,e);default:return oe(ee,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(_),qe=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",10),M(m(e),"incompatibleTokens",["t","T","X"]),e}return S(n,[{key:"parse",value:function(e,t){switch(t){case"x":return oe(G,e);case"xx":return oe(X,e);case"xxxx":return oe(Z,e);case"xxxxx":return oe(te,e);default:return oe(ee,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(_),Ke=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",40),M(m(e),"incompatibleTokens","*"),e}return S(n,[{key:"parse",value:function(e){return ie(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(_),Je=function(e){v(n,e);var t=w(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(m(e=t.call.apply(t,[this].concat(o))),"priority",20),M(m(e),"incompatibleTokens","*"),e}return S(n,[{key:"parse",value:function(e){return ie(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(_),Qe={G:new O,y:new ue,Y:new fe,R:new ge,u:new ve,Q:new ye,q:new be,M:new we,L:new ke,w:new Ce,I:new Me,d:new Te,D:new _e,E:new Ne,e:new Re,c:new Ie,i:new Pe,a:new Le,b:new ze,B:new Fe,h:new He,H:new je,K:new Be,k:new $e,m:new Ve,s:new Ue,S:new We,X:new Ye,x:new qe,t:new Ke,T:new Je},Ge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ze=/^'([^]*?)'?$/,et=/''/g,tt=/\S/,nt=/[a-zA-Z]/;function rt(e,t,n,o){var m,g,v,y,b,w,k,x,C,S,M,D,E,_,O,A,N,R;(0,f.A)(3,arguments);var I=String(e),P=String(t),L=(0,Oe.q)(),z=null!==(m=null!==(g=null==o?void 0:o.locale)&&void 0!==g?g:L.locale)&&void 0!==m?m:a.A;if(!z.match)throw new RangeError("locale must contain match property");var F=(0,h.A)(null!==(v=null!==(y=null!==(b=null!==(w=null==o?void 0:o.firstWeekContainsDate)&&void 0!==w?w:null==o||null===(k=o.locale)||void 0===k||null===(x=k.options)||void 0===x?void 0:x.firstWeekContainsDate)&&void 0!==b?b:L.firstWeekContainsDate)&&void 0!==y?y:null===(C=L.locale)||void 0===C||null===(S=C.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==v?v:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=(0,h.A)(null!==(M=null!==(D=null!==(E=null!==(_=null==o?void 0:o.weekStartsOn)&&void 0!==_?_:null==o||null===(O=o.locale)||void 0===O||null===(A=O.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==E?E:L.weekStartsOn)&&void 0!==D?D:null===(N=L.locale)||void 0===N||null===(R=N.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==M?M:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===P)return""===I?(0,l.default)(n):new Date(NaN);var j,B={firstWeekContainsDate:F,weekStartsOn:H,locale:z},$=[new T],V=P.match(Xe).map(function(e){var t=e[0];return t in d.A?(0,d.A[t])(e,z.formatLong):e}).join("").match(Ge),U=[],W=i(V);try{var Y=function(){var t=j.value;null!=o&&o.useAdditionalWeekYearTokens||!(0,p.xM)(t)||(0,p.lJ)(t,P,e),null!=o&&o.useAdditionalDayOfYearTokens||!(0,p.ef)(t)||(0,p.lJ)(t,P,e);var n=t[0],r=Qe[n];if(r){var i=r.incompatibleTokens;if(Array.isArray(i)){var a=U.find(function(e){return i.includes(e.token)||e.token===n});if(a)throw new RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&U.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));U.push({token:n,fullToken:t});var s=r.run(I,t,z.match,B);if(!s)return{v:new Date(NaN)};$.push(s.setter),I=s.rest}else{if(n.match(nt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(Ze)[1].replace(et,"'")),0!==I.indexOf(t))return{v:new Date(NaN)};I=I.slice(t.length)}};for(W.s();!(j=W.n()).done;){var q=Y();if("object"===(0,r.A)(q))return q.v}}catch(ne){W.e(ne)}finally{W.f()}if(I.length>0&&tt.test(I))return new Date(NaN);var K=$.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return $.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),J=(0,l.default)(n);if(isNaN(J.getTime()))return new Date(NaN);var Q,G=(0,s.A)(J,(0,u.A)(J)),X={},Z=i(K);try{for(Z.s();!(Q=Z.n()).done;){var ee=Q.value;if(!ee.validate(G,B))return new Date(NaN);var te=ee.set(G,X,B);Array.isArray(te)?(G=te[0],c(X,te[1])):G=te}}catch(ne){Z.e(ne)}finally{Z.f()}return G}},931(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1132),o=n(4156),i=n(5341);function a(e,t){var n;(0,o.A)(1,arguments);var a=(0,i.A)(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==a&&1!==a&&0!==a)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var m,g=function(e){var t,n={},r=e.split(s.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],s.timeZoneDelimiter.test(n.date)&&(n.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var o=s.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e);if(g.date){var v=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(g.date,a);m=function(e,t){if(null===t)return new Date(NaN);var n=e.match(l);if(!n)return new Date(NaN);var r=!!n[4],o=u(n[1]),i=u(n[2])-1,a=u(n[3]),s=u(n[4]),c=u(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,c):new Date(NaN);var d=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(h[t]||(f(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(f(e)?366:365)}(t,o)?(d.setUTCFullYear(t,i,Math.max(o,a)),d):new Date(NaN)}(v.restDateString,v.year)}if(!m||isNaN(m.getTime()))return new Date(NaN);var y,b=m.getTime(),w=0;if(g.time&&(w=function(e){var t=e.match(c);if(!t)return NaN;var n=p(t[1]),o=p(t[2]),i=p(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,o,i))return NaN;return n*r.s0+o*r.Cg+1e3*i}(g.time),isNaN(w)))return new Date(NaN);if(!g.timezone){var k=new Date(b+w),x=new Date(0);return x.setFullYear(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()),x.setHours(k.getUTCHours(),k.getUTCMinutes(),k.getUTCSeconds(),k.getUTCMilliseconds()),x}return y=function(e){if("Z"===e)return 0;var t=e.match(d);if(!t)return 0;var n="+"===t[1]?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(o*r.s0+i*r.Cg)}(g.timezone),isNaN(y)?new Date(NaN):new Date(b+w+y)}var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){return e?parseInt(e):1}function p(e){return e&&parseFloat(e.replace(",","."))||0}var h=[31,null,31,30,31,30,31,31,30,31,30,31];function f(e){return e%400==0||e%4==0&&e%100!=0}},4369(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(1816),o=n(2862),i=n(5152),a=n(5341),s=n(4156);function l(e,t){if((0,s.A)(2,arguments),"object"!==(0,r.A)(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,o.default)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,i.default)(n,t.month)),null!=t.date&&n.setDate((0,a.A)(t.date)),null!=t.hours&&n.setHours((0,a.A)(t.hours)),null!=t.minutes&&n.setMinutes((0,a.A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,a.A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,a.A)(t.milliseconds)),n)}},1424(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t);return n.setHours(a),n}},7758(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t);return n.setMinutes(a),n}},5152(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t),s=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(s,a,15),c.setHours(0,0,0,0);var d=function(e){(0,i.A)(1,arguments);var t=(0,o.default)(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}(c);return n.setMonth(a,Math.min(l,d)),n}},551(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(5341),o=n(2862),i=n(5152),a=n(4156);function s(e,t){(0,a.A)(2,arguments);var n=(0,o.default)(e),s=(0,r.A)(t)-(Math.floor(n.getMonth()/3)+1);return(0,i.default)(n,n.getMonth()+3*s)}},6930(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t);return n.setSeconds(a),n}},152(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2862),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,o.default)(e),a=(0,r.A)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}},5626(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}},4982(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},2920(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}},4352(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2862),o=n(5341),i=n(4156),a=n(2585);function s(e,t){var n,s,l,c,d,u,p,h;(0,i.A)(1,arguments);var f=(0,a.q)(),m=(0,o.A)(null!==(n=null!==(s=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==s?s:null===(p=f.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.default)(e),v=g.getDay(),y=(v<m?7:0)+v-m;return g.setDate(g.getDate()-y),g.setHours(0,0,0,0),g}},9925(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2862),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},6560(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1269),o=n(4156),i=n(5341);function a(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(t);return(0,r.default)(e,-n)}},2313(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(2200),o=n(4156),i=n(5341);function a(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(t);return(0,r.A)(e,-n)}},3016(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(2921),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.default)(e,-n)}},5166(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(4371),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.default)(e,-n)}},8788(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(1663),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.default)(e,-n)}},4399(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5341),o=n(4424),i=n(4156);function a(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,o.default)(e,-n)}},2862(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(1816),o=n(4156);function i(e){(0,o.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},342(e,t,n){!function(e,t,n,r,o,i,a,s,l,c,d,u,p,h,f,m,g,v,y,b,w,k,x,C,S,M,D,E,T,_,O,A,N,R,I,P,L,z,F,H,j,B,$,V,U,W,Y,q,K,J,Q,G,X,Z,ee,te,ne,re,oe,ie,ae,se,le,ce){"use strict";function de(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ue=de(t),pe=de(r),he=de(o),fe=de(i),me=de(a),ge=de(s),ve=de(l),ye=de(c),be=de(d),we=de(u),ke=de(p),xe=de(h),Ce=de(f),Se=de(m),Me=de(g),De=de(v),Ee=de(y),Te=de(b),_e=de(w),Oe=de(k),Ae=de(x),Ne=de(C),Re=de(S),Ie=de(M),Pe=de(D),Le=de(E),ze=de(T),Fe=de(_),He=de(O),je=de(A),Be=de(N),$e=de(R),Ve=de(I),Ue=de(P),We=de(L),Ye=de(z),qe=de(F),Ke=de(H),Je=de(j),Qe=de(B),Ge=de($),Xe=de(V),Ze=de(U),et=de(W),tt=de(q),nt=de(K),rt=de(J),ot=de(Q),it=de(G),at=de(X),st=de(Z),lt=de(ee),ct=de(te),dt=de(ne),ut=de(re),pt=de(oe),ht=de(ie),ft=de(ae),mt=de(se),gt=de(ce);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach(function(t){Ct(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nt(r.key),r)}}function xt(e,t,n){return t&&kt(e.prototype,t),n&&kt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ct(e,t,n){return(t=Nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function Et(e,t){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Et(e,t)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tt(e)}(this,n)}}function Ot(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Rt=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},It=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Pt={p:It,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return Rt(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Rt(o,t)).replace("{{time}}",It(i,t))}},Lt=12,zt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ft(e){var t=e?"string"==typeof e||e instanceof String?ht.default(e):ut.default(e):new Date;return Ht(t)?t:null}function Ht(e,t){return t=t||new Date("1/1/1000"),fe.default(e)&&!ct.default(e,t)}function jt(e,t,n){if("en"===n)return me.default(e,t,{awareOfUnicodeTokens:!0});var r=tn(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&en()&&tn(en())&&(r=tn(en())),me.default(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Bt(e,t){var n=t.dateFormat,r=t.locale;return e&&jt(e,Array.isArray(n)?n[0]:n,r)||""}function $t(e,t){var n=t.hour,r=void 0===n?0:n,o=t.minute,i=void 0===o?0:o,a=t.second,s=void 0===a?0:a;return je.default(He.default(Fe.default(e,s),i),r)}function Vt(e,t,n){var r=tn(t||en());return Qe.default(e,{locale:r,weekStartsOn:n})}function Ut(e){return Ge.default(e)}function Wt(e){return Ze.default(e)}function Yt(e){return Xe.default(e)}function qt(){return Je.default(Ft())}function Kt(e,t){return e&&t?at.default(e,t):!e&&!t}function Jt(e,t){return e&&t?it.default(e,t):!e&&!t}function Qt(e,t){return e&&t?st.default(e,t):!e&&!t}function Gt(e,t){return e&&t?ot.default(e,t):!e&&!t}function Xt(e,t){return e&&t?rt.default(e,t):!e&&!t}function Zt(e,t,n){var r,o=Je.default(t),i=et.default(n);try{r=dt.default(e,{start:o,end:i})}catch(e){r=!1}return r}function en(){return("undefined"!=typeof window?window:globalThis).__localeId__}function tn(e){if("string"==typeof e){var t="undefined"!=typeof window?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function nn(e,t){return jt(Be.default(Ft(),e),"LLLL",t)}function rn(e,t){return jt(Be.default(Ft(),e),"LLL",t)}function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.excludeDateIntervals,a=t.includeDates,s=t.includeDateIntervals,l=t.filterDate;return hn(e,{minDate:n,maxDate:r})||o&&o.some(function(t){return Gt(e,t)})||i&&i.some(function(t){var n=t.start,r=t.end;return dt.default(e,{start:n,end:r})})||a&&!a.some(function(t){return Gt(e,t)})||s&&!s.some(function(t){var n=t.start,r=t.end;return dt.default(e,{start:n,end:r})})||l&&!l(Ft(e))||!1}function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(t){var n=t.start,r=t.end;return dt.default(e,{start:n,end:r})}):n&&n.some(function(t){return Gt(e,t)})||!1}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return hn(e,{minDate:Ge.default(n),maxDate:tt.default(r)})||o&&o.some(function(t){return Jt(e,t)})||i&&!i.some(function(t){return Jt(e,t)})||a&&!a(Ft(e))||!1}function ln(e,t,n,r){var o=Le.default(e),i=Ie.default(e),a=Le.default(t),s=Ie.default(t),l=Le.default(r);return o===a&&o===l?i<=n&&n<=s:o<a?l===o&&i<=n||l===a&&s>=n||l<a&&l>o:void 0}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return hn(e,{minDate:n,maxDate:r})||o&&o.some(function(t){return Qt(e,t)})||i&&!i.some(function(t){return Qt(e,t)})||a&&!a(Ft(e))||!1}function dn(e,t,n){if(!fe.default(t)||!fe.default(n))return!1;var r=Le.default(t),o=Le.default(n);return r<=e&&o>=e}function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate,s=new Date(e,0,1);return hn(s,{minDate:Ze.default(n),maxDate:nt.default(r)})||o&&o.some(function(e){return Kt(s,e)})||i&&!i.some(function(e){return Kt(s,e)})||a&&!a(Ft(s))||!1}function pn(e,t,n,r){var o=Le.default(e),i=Pe.default(e),a=Le.default(t),s=Pe.default(t),l=Le.default(r);return o===a&&o===l?i<=n&&n<=s:o<a?l===o&&i<=n||l===a&&s>=n||l<a&&l>o:void 0}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&Ye.default(e,n)<0||r&&Ye.default(e,r)>0}function fn(e,t){return t.some(function(t){return Oe.default(t)===Oe.default(e)&&_e.default(t)===_e.default(e)})}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,o=t.filterTime;return n&&fn(e,n)||r&&!fn(e,r)||o&&!o(e)||!1}function gn(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o,i=Ft(),a=je.default(He.default(i,_e.default(e)),Oe.default(e)),s=je.default(He.default(i,_e.default(n)),Oe.default(n)),l=je.default(He.default(i,_e.default(r)),Oe.default(r));try{o=!dt.default(a,{start:s,end:l})}catch(e){o=!1}return o}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,o=Me.default(e,1);return n&&qe.default(n,o)>0||r&&r.every(function(e){return qe.default(e,o)>0})||!1}function yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,o=we.default(e,1);return n&&qe.default(o,n)>0||r&&r.every(function(e){return qe.default(o,e)>0})||!1}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,o=Ee.default(e,1);return n&&Ke.default(n,o)>0||r&&r.every(function(e){return Ke.default(e,o)>0})||!1}function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,o=xe.default(e,1);return n&&Ke.default(o,n)>0||r&&r.every(function(e){return Ke.default(o,e)>0})||!1}function kn(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(e){return Ye.default(e,t)>=0});return Ue.default(r)}return n?Ue.default(n):t}function xn(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(e){return Ye.default(e,t)<=0});return We.default(r)}return n?We.default(n):t}function Cn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,o=e.length;r<o;r++){var i=e[r];if(he.default(i)){var a=jt(i,"MM.dd.yyyy"),s=n.get(a)||[];s.includes(t)||(s.push(t),n.set(a,s))}else if("object"===bt(i)){var l=Object.keys(i),c=l[0],d=i[l[0]];if("string"==typeof c&&d.constructor===Array)for(var u=0,p=d.length;u<p;u++){var h=jt(d[u],"MM.dd.yyyy"),f=n.get(h)||[];f.includes(c)||(f.push(c),n.set(h,f))}}}return n}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--holidays",n=new Map;return e.forEach(function(e){var r=e.date,o=e.holidayName;if(he.default(r)){var i=jt(r,"MM.dd.yyyy"),a=n.get(i)||{};if(!("className"in a)||a.className!==t||(s=a.holidayNames,l=[o],s.length!==l.length||!s.every(function(e,t){return e===l[t]}))){var s,l;a.className=t;var c=a.holidayNames;a.holidayNames=c?[].concat(Ot(c),[o]):[o],n.set(i,a)}}}),n}function Mn(e,t,n,r,o){for(var i=o.length,a=[],s=0;s<i;s++){var l=ge.default(ve.default(e,Oe.default(o[s])),_e.default(o[s])),c=ge.default(e,(n+1)*r);lt.default(l,t)&&ct.default(l,c)&&a.push(o[s])}return a}function Dn(e){return e<10?"0".concat(e):"".concat(e)}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt,n=Math.ceil(Le.default(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function Tn(e){var t=e.getSeconds(),n=e.getMilliseconds();return ut.default(e.getTime()-1e3*t-n)}function _n(e,t,n,r){for(var o=[],i=0;i<2*t+1;i++){var a=e+t-i,s=!0;n&&(s=Le.default(n)<=a),r&&s&&(s=Le.default(r)>=a),s&&o.push(a)}return o}var On=function(e){Mt(r,e);var n=_t(r);function r(e){var o;wt(this,r),Ct(Tt(o=n.call(this,e)),"renderOptions",function(){var e=o.props.year,t=o.state.yearsList.map(function(t){return ue.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:o.onChange.bind(Tt(o),t),"aria-selected":e===t?"true":void 0},e===t?ue.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)}),n=o.props.minDate?Le.default(o.props.minDate):null,r=o.props.maxDate?Le.default(o.props.maxDate):null;return r&&o.state.yearsList.find(function(e){return e===r})||t.unshift(ue.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},ue.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&o.state.yearsList.find(function(e){return e===n})||t.push(ue.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},ue.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t}),Ct(Tt(o),"onChange",function(e){o.props.onChange(e)}),Ct(Tt(o),"handleClickOutside",function(){o.props.onCancel()}),Ct(Tt(o),"shiftYears",function(e){var t=o.state.yearsList.map(function(t){return t+e});o.setState({yearsList:t})}),Ct(Tt(o),"incrementYears",function(){return o.shiftYears(1)}),Ct(Tt(o),"decrementYears",function(){return o.shiftYears(-1)});var i=e.yearDropdownItemNumber,a=e.scrollableYearDropdown,s=i||(a?10:5);return o.state={yearsList:_n(o.props.year,s,o.props.minDate,o.props.maxDate)},o.dropdownRef=t.createRef(),o}return xt(r,[{key:"componentDidMount",value:function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}}},{key:"render",value:function(){var e=pe.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ue.default.createElement("div",{className:e,ref:this.dropdownRef},this.renderOptions())}}]),r}(ue.default.Component),An=ft.default(On),Nn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"state",{dropdownVisible:!1}),Ct(Tt(e),"renderSelectOptions",function(){for(var t=e.props.minDate?Le.default(e.props.minDate):1900,n=e.props.maxDate?Le.default(e.props.maxDate):2100,r=[],o=t;o<=n;o++)r.push(ue.default.createElement("option",{key:o,value:o},o));return r}),Ct(Tt(e),"onSelectChange",function(t){e.onChange(t.target.value)}),Ct(Tt(e),"renderSelectMode",function(){return ue.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())}),Ct(Tt(e),"renderReadView",function(t){return ue.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},ue.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ue.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))}),Ct(Tt(e),"renderDropdown",function(){return ue.default.createElement(An,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})}),Ct(Tt(e),"renderScrollMode",function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n}),Ct(Tt(e),"onChange",function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)}),Ct(Tt(e),"toggleDropdown",function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)})}),Ct(Tt(e),"handleYearChange",function(t,n){e.onSelect(t,n),e.setOpen()}),Ct(Tt(e),"onSelect",function(t,n){e.props.onSelect&&e.props.onSelect(t,n)}),Ct(Tt(e),"setOpen",function(){e.props.setOpen&&e.props.setOpen(!0)}),e}return xt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return ue.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(ue.default.Component),Rn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"isSelectedMonth",function(t){return e.props.month===t}),Ct(Tt(e),"renderOptions",function(){return e.props.monthNames.map(function(t,n){return ue.default.createElement("div",{className:e.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(Tt(e),n),"aria-selected":e.isSelectedMonth(n)?"true":void 0},e.isSelectedMonth(n)?ue.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)})}),Ct(Tt(e),"onChange",function(t){return e.props.onChange(t)}),Ct(Tt(e),"handleClickOutside",function(){return e.props.onCancel()}),e}return xt(n,[{key:"render",value:function(){return ue.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(ue.default.Component),In=ft.default(Rn),Pn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"state",{dropdownVisible:!1}),Ct(Tt(e),"renderSelectOptions",function(e){return e.map(function(e,t){return ue.default.createElement("option",{key:t,value:t},e)})}),Ct(Tt(e),"renderSelectMode",function(t){return ue.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))}),Ct(Tt(e),"renderReadView",function(t,n){return ue.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},ue.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ue.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))}),Ct(Tt(e),"renderDropdown",function(t){return ue.default.createElement(In,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})}),Ct(Tt(e),"renderScrollMode",function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r}),Ct(Tt(e),"onChange",function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)}),Ct(Tt(e),"toggleDropdown",function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})}),e}return xt(n,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return rn(e,t.props.locale)}:function(e){return nn(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return ue.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(ue.default.Component);function Ln(e,t){for(var n=[],r=Ut(e),o=Ut(t);!lt.default(r,o);)n.push(Ft(r)),r=we.default(r,1);return n}var zn=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),Ct(Tt(r=t.call(this,e)),"renderOptions",function(){return r.state.monthYearsList.map(function(e){var t=ze.default(e),n=Kt(r.props.date,e)&&Jt(r.props.date,e);return ue.default.createElement("div",{className:n?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:r.onChange.bind(Tt(r),t),"aria-selected":n?"true":void 0},n?ue.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",jt(e,r.props.dateFormat,r.props.locale))})}),Ct(Tt(r),"onChange",function(e){return r.props.onChange(e)}),Ct(Tt(r),"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:Ln(r.props.minDate,r.props.maxDate)},r}return xt(n,[{key:"render",value:function(){var e=pe.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ue.default.createElement("div",{className:e},this.renderOptions())}}]),n}(ue.default.Component),Fn=ft.default(zn),Hn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"state",{dropdownVisible:!1}),Ct(Tt(e),"renderSelectOptions",function(){for(var t=Ut(e.props.minDate),n=Ut(e.props.maxDate),r=[];!lt.default(t,n);){var o=ze.default(t);r.push(ue.default.createElement("option",{key:o,value:o},jt(t,e.props.dateFormat,e.props.locale))),t=we.default(t,1)}return r}),Ct(Tt(e),"onSelectChange",function(t){e.onChange(t.target.value)}),Ct(Tt(e),"renderSelectMode",function(){return ue.default.createElement("select",{value:ze.default(Ut(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())}),Ct(Tt(e),"renderReadView",function(t){var n=jt(e.props.date,e.props.dateFormat,e.props.locale);return ue.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},ue.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ue.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))}),Ct(Tt(e),"renderDropdown",function(){return ue.default.createElement(Fn,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})}),Ct(Tt(e),"renderScrollMode",function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n}),Ct(Tt(e),"onChange",function(t){e.toggleDropdown();var n=Ft(parseInt(t));Kt(e.props.date,n)&&Jt(e.props.date,n)||e.props.onChange(n)}),Ct(Tt(e),"toggleDropdown",function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})}),e}return xt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return ue.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(ue.default.Component),jn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"dayEl",ue.default.createRef()),Ct(Tt(e),"handleClick",function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)}),Ct(Tt(e),"handleMouseEnter",function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)}),Ct(Tt(e),"handleOnKeyDown",function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)}),Ct(Tt(e),"isSameDay",function(t){return Gt(e.props.day,t)}),Ct(Tt(e),"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!(e.isSameDay(e.props.selected)||e.isSameWeek(e.props.selected))&&(e.isSameDay(e.props.preSelection)||e.isSameWeek(e.props.preSelection))}),Ct(Tt(e),"isDisabled",function(){return on(e.props.day,e.props)}),Ct(Tt(e),"isExcluded",function(){return an(e.props.day,e.props)}),Ct(Tt(e),"isStartOfWeek",function(){return Gt(e.props.day,Vt(e.props.day,e.props.locale,e.props.calendarStartDay))}),Ct(Tt(e),"isSameWeek",function(t){return e.props.showWeekPicker&&Gt(t,Vt(e.props.day,e.props.locale,e.props.calendarStartDay))}),Ct(Tt(e),"getHighLightedClass",function(){var t=e.props,n=t.day,r=t.highlightDates;if(!r)return!1;var o=jt(n,"MM.dd.yyyy");return r.get(o)}),Ct(Tt(e),"getHolidaysClass",function(){var t=e.props,n=t.day,r=t.holidays;if(!r)return!1;var o=jt(n,"MM.dd.yyyy");return r.has(o)?[r.get(o).className]:void 0}),Ct(Tt(e),"isInRange",function(){var t=e.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Zt(n,r,o)}),Ct(Tt(e),"isInSelectingRange",function(){var t,n=e.props,r=n.day,o=n.selectsStart,i=n.selectsEnd,a=n.selectsRange,s=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,d=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(o||i||a)||!d||!s&&e.isDisabled())&&(o&&c&&(ct.default(d,c)||Xt(d,c))?Zt(r,d,c):(i&&l&&(lt.default(d,l)||Xt(d,l))||!(!a||!l||c||!lt.default(d,l)&&!Xt(d,l)))&&Zt(r,l,d))}),Ct(Tt(e),"isSelectingRangeStart",function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,o=n.startDate,i=n.selectsStart,a=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Gt(r,i?a:o)}),Ct(Tt(e),"isSelectingRangeEnd",function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,o=n.endDate,i=n.selectsEnd,a=n.selectsRange,s=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Gt(r,i||a?s:o)}),Ct(Tt(e),"isRangeStart",function(){var t=e.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Gt(r,n)}),Ct(Tt(e),"isRangeEnd",function(){var t=e.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Gt(o,n)}),Ct(Tt(e),"isWeekend",function(){var t=Ae.default(e.props.day);return 0===t||6===t}),Ct(Tt(e),"isAfterMonth",function(){return void 0!==e.props.month&&(e.props.month+1)%12===Ie.default(e.props.day)}),Ct(Tt(e),"isBeforeMonth",function(){return void 0!==e.props.month&&(Ie.default(e.props.day)+1)%12===e.props.month}),Ct(Tt(e),"isCurrentDay",function(){return e.isSameDay(Ft())}),Ct(Tt(e),"isSelected",function(){return e.isSameDay(e.props.selected)||e.isSameWeek(e.props.selected)}),Ct(Tt(e),"getClassNames",function(t){var n,r=e.props.dayClassName?e.props.dayClassName(t):void 0;return pe.default("react-datepicker__day",r,"react-datepicker__day--"+jt(e.props.day,"ddd",n),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"),e.getHolidaysClass())}),Ct(Tt(e),"getAriaLabel",function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,o=void 0===r?"Choose":r,i=t.ariaLabelPrefixWhenDisabled,a=void 0===i?"Not available":i,s=e.isDisabled()||e.isExcluded()?a:o;return"".concat(s," ").concat(jt(n,"PPPP",e.props.locale))}),Ct(Tt(e),"getTitle",function(){var t=e.props,n=t.day,r=t.holidays,o=void 0===r?new Map:r,i=jt(n,"MM.dd.yyyy");return o.has(i)&&o.get(i).holidayNames.length>0?o.get(i).holidayNames.join(", "):""}),Ct(Tt(e),"getTabIndex",function(t,n){var r=t||e.props.selected,o=n||e.props.preSelection;return(!e.props.showWeekPicker||!e.props.showWeekNumber&&e.isStartOfWeek())&&(e.isKeyboardSelected()||e.isSameDay(r)&&Gt(o,r))?0:-1}),Ct(Tt(e),"handleFocusDay",function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!1;0===e.getTabIndex()&&!n.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(r=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(r=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(r=!0),e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()&&(r=!1),e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()&&(r=!1)),r&&(null===(t=e.dayEl.current)||void 0===t||t.focus({preventScroll:!0}))}),Ct(Tt(e),"renderDayContents",function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Ne.default(e.props.day),e.props.day):Ne.default(e.props.day)}),Ct(Tt(e),"render",function(){return ue.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),""!==e.getTitle()&&ue.default.createElement("span",{className:"holiday-overlay"},e.getTitle()))}),e}return xt(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),n}(ue.default.Component),Bn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"weekNumberEl",ue.default.createRef()),Ct(Tt(e),"handleClick",function(t){e.props.onClick&&e.props.onClick(t)}),Ct(Tt(e),"handleOnKeyDown",function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)}),Ct(Tt(e),"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!Gt(e.props.date,e.props.selected)&&Gt(e.props.date,e.props.preSelection)}),Ct(Tt(e),"getTabIndex",function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||Gt(e.props.date,e.props.selected)&&Gt(e.props.preSelection,e.props.selected))?0:-1}),Ct(Tt(e),"handleFocusWeekNumber",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&Gt(e.props.date,e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(n=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})}),e}return xt(n,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(e){this.handleFocusWeekNumber(e)}},{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,r=void 0===n?"week ":n,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick,"react-datepicker__week-number--selected":Gt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return ue.default.createElement("div",{ref:this.weekNumberEl,className:pe.default(o),"aria-label":"".concat(r," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},t)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),n}(ue.default.Component),$n=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"handleDayClick",function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)}),Ct(Tt(e),"handleDayMouseEnter",function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)}),Ct(Tt(e),"handleWeekClick",function(t,n,r){if("function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.showWeekPicker){var o=Vt(t,e.props.locale,e.props.calendarStartDay);e.handleDayClick(o,r)}e.props.shouldCloseOnSelect&&e.props.setOpen(!1)}),Ct(Tt(e),"formatWeekNumber",function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):function(e,t){var n=t&&tn(t)||en()&&tn(en());return Re.default(e,n?{locale:n}:null)}(t)}),Ct(Tt(e),"renderDays",function(){var t=Vt(e.props.day,e.props.locale,e.props.calendarStartDay),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var o=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(Tt(e),t,r):void 0;n.push(ue.default.createElement(Bn,{key:"W",weekNumber:r,date:t,onClick:o,selected:e.props.selected,preSelection:e.props.preSelection,ariaLabelPrefix:e.props.ariaLabelPrefix,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef}))}return n.concat([0,1,2,3,4,5,6].map(function(n){var r=ye.default(t,n);return ue.default.createElement(jn,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(Tt(e),r),onMouseEnter:e.handleDayMouseEnter.bind(Tt(e),r),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})}))}),Ct(Tt(e),"startOfWeek",function(){return Vt(e.props.day,e.props.locale,e.props.calendarStartDay)}),Ct(Tt(e),"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!Gt(e.startOfWeek(),e.props.selected)&&Gt(e.startOfWeek(),e.props.preSelection)}),e}return xt(n,[{key:"render",value:function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Gt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ue.default.createElement("div",{className:pe.default(e)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(ue.default.Component),Vn="two_columns",Un="three_columns",Wn="four_columns",Yn=Ct(Ct(Ct({},Vn,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Un,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Wn,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function qn(e,t){return e?Wn:t?Vn:Un}var Kn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"MONTH_REFS",Ot(Array(12)).map(function(){return ue.default.createRef()})),Ct(Tt(e),"QUARTER_REFS",Ot(Array(4)).map(function(){return ue.default.createRef()})),Ct(Tt(e),"isDisabled",function(t){return on(t,e.props)}),Ct(Tt(e),"isExcluded",function(t){return an(t,e.props)}),Ct(Tt(e),"handleDayClick",function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)}),Ct(Tt(e),"handleDayMouseEnter",function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)}),Ct(Tt(e),"handleMouseLeave",function(){e.props.onMouseLeave&&e.props.onMouseLeave()}),Ct(Tt(e),"isRangeStartMonth",function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Jt(Be.default(r,t),o)}),Ct(Tt(e),"isRangeStartQuarter",function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Qt($e.default(r,t),o)}),Ct(Tt(e),"isRangeEndMonth",function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Jt(Be.default(r,t),i)}),Ct(Tt(e),"isRangeEndQuarter",function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Qt($e.default(r,t),i)}),Ct(Tt(e),"isInSelectingRangeMonth",function(t){var n,r=e.props,o=r.day,i=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(i||a||s)||!d)&&(i&&c?ln(d,c,t,o):(a&&l||!(!s||!l||c))&&ln(l,d,t,o))}),Ct(Tt(e),"isSelectingMonthRangeStart",function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,o=r.day,i=r.startDate,a=r.selectsStart,s=Be.default(o,t),l=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return Jt(s,a?l:i)}),Ct(Tt(e),"isSelectingMonthRangeEnd",function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,o=r.day,i=r.endDate,a=r.selectsEnd,s=r.selectsRange,l=Be.default(o,t),c=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return Jt(l,a||s?c:i)}),Ct(Tt(e),"isInSelectingRangeQuarter",function(t){var n,r=e.props,o=r.day,i=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(i||a||s)||!d)&&(i&&c?pn(d,c,t,o):(a&&l||!(!s||!l||c))&&pn(l,d,t,o))}),Ct(Tt(e),"isWeekInMonth",function(t){var n=e.props.day,r=ye.default(t,6);return Jt(t,n)||Jt(r,n)}),Ct(Tt(e),"isCurrentMonth",function(e,t){return Le.default(e)===Le.default(Ft())&&t===Ie.default(Ft())}),Ct(Tt(e),"isCurrentQuarter",function(e,t){return Le.default(e)===Le.default(Ft())&&t===Pe.default(Ft())}),Ct(Tt(e),"isSelectedMonth",function(e,t,n){return Ie.default(n)===t&&Le.default(e)===Le.default(n)}),Ct(Tt(e),"isSelectedQuarter",function(e,t,n){return Pe.default(e)===t&&Le.default(e)===Le.default(n)}),Ct(Tt(e),"renderWeeks",function(){for(var t=[],n=e.props.fixedHeight,r=0,o=!1,i=Vt(Ut(e.props.day),e.props.locale,e.props.calendarStartDay);t.push(ue.default.createElement($n,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:r,day:i,month:Ie.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,showWeekNumber:e.props.showWeekNumbers,showWeekPicker:e.props.showWeekPicker,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!o;){r++,i=be.default(i,1);var a=n&&r>=6,s=!n&&!e.isWeekInMonth(i);if(a||s){if(!e.props.peekNextMonth)break;o=!0}}return t}),Ct(Tt(e),"onMonthClick",function(t,n){e.handleDayClick(Ut(Be.default(e.props.day,n)),t)}),Ct(Tt(e),"onMonthMouseEnter",function(t){e.handleDayMouseEnter(Ut(Be.default(e.props.day,t)))}),Ct(Tt(e),"handleMonthNavigation",function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())}),Ct(Tt(e),"onMonthKeyDown",function(t,n){var r=e.props,o=r.selected,i=r.preSelection,a=r.disabledKeyboardNavigation,s=r.showTwoColumnMonthYearPicker,l=r.showFourColumnMonthYearPicker,c=r.setPreSelection,d=t.key;if("Tab"!==d&&t.preventDefault(),!a){var u=qn(l,s),p=Yn[u].verticalNavigationOffset,h=Yn[u].grid;switch(d){case"Enter":e.onMonthClick(t,n),c(o);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,we.default(i,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,Me.default(i,1));break;case"ArrowUp":e.handleMonthNavigation(h[0].includes(n)?n+12-p:n-p,Me.default(i,p));break;case"ArrowDown":e.handleMonthNavigation(h[h.length-1].includes(n)?n-12+p:n+p,we.default(i,p))}}}),Ct(Tt(e),"onQuarterClick",function(t,n){e.handleDayClick(Yt($e.default(e.props.day,n)),t)}),Ct(Tt(e),"onQuarterMouseEnter",function(t){e.handleDayMouseEnter(Yt($e.default(e.props.day,t)))}),Ct(Tt(e),"handleQuarterNavigation",function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.QUARTER_REFS[t-1].current&&e.QUARTER_REFS[t-1].current.focus())}),Ct(Tt(e),"onQuarterKeyDown",function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onQuarterClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleQuarterNavigation(4===n?1:n+1,ke.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleQuarterNavigation(1===n?4:n-1,De.default(e.props.preSelection,1))}}),Ct(Tt(e),"getMonthClassNames",function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate,a=n.selected,s=n.minDate,l=n.maxDate,c=n.preSelection,d=n.monthClassName,u=n.excludeDates,p=n.includeDates,h=d?d(Be.default(r,t)):void 0,f=Be.default(r,t);return pe.default("react-datepicker__month-text","react-datepicker__month-".concat(t),h,{"react-datepicker__month-text--disabled":(s||l||u||p)&&sn(f,e.props),"react-datepicker__month-text--selected":e.isSelectedMonth(r,t,a),"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&Ie.default(c)===t,"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":ln(o,i,t,r),"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(r,t)})}),Ct(Tt(e),"getTabIndex",function(t){var n=Ie.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"}),Ct(Tt(e),"getQuarterTabIndex",function(t){var n=Pe.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"}),Ct(Tt(e),"getAriaLabel",function(t){var n=e.props,r=n.chooseDayAriaLabelPrefix,o=void 0===r?"Choose":r,i=n.disabledDayAriaLabelPrefix,a=void 0===i?"Not available":i,s=n.day,l=Be.default(s,t),c=e.isDisabled(l)||e.isExcluded(l)?a:o;return"".concat(c," ").concat(jt(l,"MMMM yyyy"))}),Ct(Tt(e),"getQuarterClassNames",function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate,a=n.selected,s=n.minDate,l=n.maxDate,c=n.preSelection,d=n.disabledKeyboardNavigation;return pe.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":(s||l)&&cn($e.default(r,t),e.props),"react-datepicker__quarter-text--selected":e.isSelectedQuarter(r,t,a),"react-datepicker__quarter-text--keyboard-selected":!d&&Pe.default(c)===t,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":pn(o,i,t,r),"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t)})}),Ct(Tt(e),"getMonthContent",function(t){var n=e.props,r=n.showFullMonthYearPicker,o=n.renderMonthContent,i=n.locale,a=n.day,s=rn(t,i),l=nn(t,i);return o?o(t,s,l,a):r?l:s}),Ct(Tt(e),"getQuarterContent",function(t){var n=e.props,r=n.renderQuarterContent,o=function(e,t){return jt($e.default(Ft(),e),"QQQ",t)}(t,n.locale);return r?r(t,o):o}),Ct(Tt(e),"renderMonths",function(){var t=e.props,n=t.showTwoColumnMonthYearPicker,r=t.showFourColumnMonthYearPicker,o=t.day,i=t.selected;return Yn[qn(r,n)].grid.map(function(t,n){return ue.default.createElement("div",{className:"react-datepicker__month-wrapper",key:n},t.map(function(t,n){return ue.default.createElement("div",{ref:e.MONTH_REFS[t],key:n,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){e.onMonthKeyDown(n,t)},onMouseEnter:function(){return e.onMonthMouseEnter(t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"option","aria-label":e.getAriaLabel(t),"aria-current":e.isCurrentMonth(o,t)?"date":void 0,"aria-selected":e.isSelectedMonth(o,t,i)},e.getMonthContent(t))}))})}),Ct(Tt(e),"renderQuarters",function(){var t=e.props,n=t.day,r=t.selected;return ue.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(t,o){return ue.default.createElement("div",{key:o,ref:e.QUARTER_REFS[o],role:"option",onClick:function(n){e.onQuarterClick(n,t)},onKeyDown:function(n){e.onQuarterKeyDown(n,t)},onMouseEnter:function(){return e.onQuarterMouseEnter(t)},className:e.getQuarterClassNames(t),"aria-selected":e.isSelectedQuarter(n,t,r),tabIndex:e.getQuarterTabIndex(t),"aria-current":e.isCurrentQuarter(n,t)?"date":void 0},e.getQuarterContent(t))}))}),Ct(Tt(e),"getClassNames",function(){var t=e.props,n=t.selectingDate,r=t.selectsStart,o=t.selectsEnd,i=t.showMonthYearPicker,a=t.showQuarterYearPicker,s=t.showWeekPicker;return pe.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||o)},{"react-datepicker__monthPicker":i},{"react-datepicker__quarterPicker":a},{"react-datepicker__weekPicker":s})}),e}return xt(n,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,o=e.ariaLabelPrefix,i=void 0===o?"month ":o;return ue.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(i," ").concat(jt(r,"yyyy-MM")),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(ue.default.Component),Jn=function(e){Mt(n,e);var t=_t(n);function n(){var e;wt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Tt(e=t.call.apply(t,[this].concat(o))),"state",{height:null}),Ct(Tt(e),"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){e.list&&(e.list.scrollTop=e.centerLi&&n.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-e.header.clientHeight:e.list.clientHeight,e.centerLi))})}),Ct(Tt(e),"handleClick",function(t){(e.props.minTime||e.props.maxTime)&&gn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&mn(t,e.props)||e.props.onChange(t)}),Ct(Tt(e),"isSelectedTime",function(t){return e.props.selected&&(n=t,Tn(e.props.selected).getTime()===Tn(n).getTime());var n}),Ct(Tt(e),"isDisabledTime",function(t){return(e.props.minTime||e.props.maxTime)&&gn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&mn(t,e.props)}),Ct(Tt(e),"liClasses",function(t){var n=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&n.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&n.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*Oe.default(t)+_e.default(t))%e.props.intervals!=0&&n.push("react-datepicker__time-list-item--injected"),n.join(" ")}),Ct(Tt(e),"handleOnKeyDown",function(t,n){" "===t.key&&(t.preventDefault(),t.key="Enter"),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||!t.target.previousSibling||(t.preventDefault(),t.target.previousSibling.focus()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||!t.target.nextSibling||(t.preventDefault(),t.target.nextSibling.focus()),"Enter"===t.key&&e.handleClick(n),e.props.handleOnKeyDown(t)}),Ct(Tt(e),"renderTimes",function(){for(var t,n=[],r=e.props.format?e.props.format:"p",o=e.props.intervals,i=e.props.selected||e.props.openToDate||Ft(),a=(t=i,Je.default(t)),s=e.props.injectTimes&&e.props.injectTimes.sort(function(e,t){return e-t}),l=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(i),c=l/o,d=0;d<c;d++){var u=ge.default(a,d*o);if(n.push(u),s){var p=Mn(a,u,d,o,s);n=n.concat(p)}}var h=n.reduce(function(e,t){return t.getTime()<=i.getTime()?t:e},n[0]);return n.map(function(t,n){return ue.default.createElement("li",{key:n,onClick:e.handleClick.bind(Tt(e),t),className:e.liClasses(t),ref:function(n){t===h&&(e.centerLi=n)},onKeyDown:function(n){e.handleOnKeyDown(n,t)},tabIndex:t===h?0:-1,role:"option","aria-selected":e.isSelectedTime(t)?"true":void 0,"aria-disabled":e.isDisabledTime(t)?"true":void 0},jt(t,r,e.props.locale))})}),e}return xt(n,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return ue.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},ue.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},ue.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),ue.default.createElement("div",{className:"react-datepicker__time"},ue.default.createElement("div",{className:"react-datepicker__time-box"},ue.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(ue.default.Component);Ct(Jn,"calcCenterPosition",function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)});var Qn=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),Ct(Tt(r=t.call(this,e)),"YEAR_REFS",Ot(Array(r.props.yearItemNumber)).map(function(){return ue.default.createRef()})),Ct(Tt(r),"isDisabled",function(e){return on(e,r.props)}),Ct(Tt(r),"isExcluded",function(e){return an(e,r.props)}),Ct(Tt(r),"selectingDate",function(){var e;return null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection}),Ct(Tt(r),"updateFocusOnPaginate",function(e){var t=function(){this.YEAR_REFS[e].current.focus()}.bind(Tt(r));window.requestAnimationFrame(t)}),Ct(Tt(r),"handleYearClick",function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)}),Ct(Tt(r),"handleYearNavigation",function(e,t){var n=r.props,o=n.date,i=n.yearItemNumber,a=En(o,i).startPeriod;r.isDisabled(t)||r.isExcluded(t)||(r.props.setPreSelection(t),e-a==-1?r.updateFocusOnPaginate(i-1):e-a===i?r.updateFocusOnPaginate(0):r.YEAR_REFS[e-a].current.focus())}),Ct(Tt(r),"isSameDay",function(e,t){return Gt(e,t)}),Ct(Tt(r),"isCurrentYear",function(e){return e===Le.default(Ft())}),Ct(Tt(r),"isRangeStart",function(e){return r.props.startDate&&r.props.endDate&&Kt(Ve.default(Ft(),e),r.props.startDate)}),Ct(Tt(r),"isRangeEnd",function(e){return r.props.startDate&&r.props.endDate&&Kt(Ve.default(Ft(),e),r.props.endDate)}),Ct(Tt(r),"isInRange",function(e){return dn(e,r.props.startDate,r.props.endDate)}),Ct(Tt(r),"isInSelectingRange",function(e){var t=r.props,n=t.selectsStart,o=t.selectsEnd,i=t.selectsRange,a=t.startDate,s=t.endDate;return!(!(n||o||i)||!r.selectingDate())&&(n&&s?dn(e,r.selectingDate(),s):(o&&a||!(!i||!a||s))&&dn(e,a,r.selectingDate()))}),Ct(Tt(r),"isSelectingRangeStart",function(e){if(!r.isInSelectingRange(e))return!1;var t=r.props,n=t.startDate,o=t.selectsStart;return Kt(Ve.default(Ft(),e),o?r.selectingDate():n)}),Ct(Tt(r),"isSelectingRangeEnd",function(e){if(!r.isInSelectingRange(e))return!1;var t=r.props,n=t.endDate,o=t.selectsEnd,i=t.selectsRange;return Kt(Ve.default(Ft(),e),o||i?r.selectingDate():n)}),Ct(Tt(r),"isKeyboardSelected",function(e){var t=Wt(Ve.default(r.props.date,e));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Gt(t,Wt(r.props.selected))&&Gt(t,Wt(r.props.preSelection))}),Ct(Tt(r),"onYearClick",function(e,t){var n=r.props.date;r.handleYearClick(Wt(Ve.default(n,t)),e)}),Ct(Tt(r),"onYearKeyDown",function(e,t){var n=e.key;if(!r.props.disabledKeyboardNavigation)switch(n){case"Enter":r.onYearClick(e,t),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(t+1,xe.default(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(t-1,Ee.default(r.props.preSelection,1))}}),Ct(Tt(r),"getYearClassNames",function(e){var t=r.props,n=t.minDate,o=t.maxDate,i=t.selected,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return pe.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===Le.default(i),"react-datepicker__year-text--disabled":(n||o||a||s||l)&&un(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--range-start":r.isRangeStart(e),"react-datepicker__year-text--range-end":r.isRangeEnd(e),"react-datepicker__year-text--in-range":r.isInRange(e),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(e),"react-datepicker__year-text--today":r.isCurrentYear(e)})}),Ct(Tt(r),"getYearTabIndex",function(e){return r.props.disabledKeyboardNavigation?"-1":e===Le.default(r.props.preSelection)?"0":"-1"}),Ct(Tt(r),"getYearContainerClassNames",function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,o=e.selectsEnd,i=e.selectsRange;return pe.default("react-datepicker__year",{"react-datepicker__year--selecting-range":t&&(n||o||i)})}),Ct(Tt(r),"getYearContent",function(e){return r.props.renderYearContent?r.props.renderYearContent(e):e}),r}return xt(n,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=n.date,o=n.yearItemNumber,i=n.onYearMouseEnter,a=n.onYearMouseLeave,s=En(r,o),l=s.startPeriod,c=s.endPeriod,d=function(n){t.push(ue.default.createElement("div",{ref:e.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){e.onYearKeyDown(t,n)},tabIndex:e.getYearTabIndex(n),className:e.getYearClassNames(n),onMouseEnter:function(e){return i(e,n)},onMouseLeave:function(e){return a(e,n)},key:n,"aria-current":e.isCurrentYear(n)?"date":void 0},e.getYearContent(n)))},u=l;u<=c;u++)d(u);return ue.default.createElement("div",{className:this.getYearContainerClassNames()},ue.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},t))}}]),n}(ue.default.Component),Gn=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),Ct(Tt(r=t.call(this,e)),"onTimeChange",function(e){r.setState({time:e});var t=r.props.date,n=t instanceof Date&&!isNaN(t)?t:new Date;n.setHours(e.split(":")[0]),n.setMinutes(e.split(":")[1]),r.props.onChange(n)}),Ct(Tt(r),"renderTimeInput",function(){var e=r.state.time,t=r.props,n=t.date,o=t.timeString,i=t.customTimeInput;return i?ue.default.cloneElement(i,{date:n,value:e,onChange:r.onTimeChange}):ue.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||o)}})}),r.state={time:r.props.timeString},r}return xt(n,[{key:"render",value:function(){return ue.default.createElement("div",{className:"react-datepicker__input-time-container"},ue.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ue.default.createElement("div",{className:"react-datepicker-time__input-container"},ue.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),n}(ue.default.Component);function Xn(e){var t=e.className,n=e.children,r=e.showPopperArrow,o=e.arrowProps,i=void 0===o?{}:o;return ue.default.createElement("div",{className:t},r&&ue.default.createElement("div",St({className:"react-datepicker__triangle"},i)),n)}var Zn=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],er=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),Ct(Tt(r=t.call(this,e)),"handleClickOutside",function(e){r.props.onClickOutside(e)}),Ct(Tt(r),"setClickOutsideRef",function(){return r.containerRef.current}),Ct(Tt(r),"handleDropdownFocus",function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Zn.some(function(t){return e.indexOf(t)>=0})})(e.target)&&r.props.onDropdownFocus()}),Ct(Tt(r),"getDateInView",function(){var e=r.props,t=e.preSelection,n=e.selected,o=e.openToDate,i=kn(r.props),a=xn(r.props),s=Ft();return o||n||t||(i&&ct.default(s,i)?i:a&&lt.default(s,a)?a:s)}),Ct(Tt(r),"increaseMonth",function(){r.setState(function(e){var t=e.date;return{date:we.default(t,1)}},function(){return r.handleMonthChange(r.state.date)})}),Ct(Tt(r),"decreaseMonth",function(){r.setState(function(e){var t=e.date;return{date:Me.default(t,1)}},function(){return r.handleMonthChange(r.state.date)})}),Ct(Tt(r),"handleDayClick",function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)}),Ct(Tt(r),"handleDayMouseEnter",function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)}),Ct(Tt(r),"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),Ct(Tt(r),"handleYearMouseEnter",function(e,t){r.setState({selectingDate:Ve.default(Ft(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)}),Ct(Tt(r),"handleYearMouseLeave",function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)}),Ct(Tt(r),"handleYearChange",function(e){r.props.onYearChange&&(r.props.onYearChange(e),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)}),Ct(Tt(r),"handleMonthChange",function(e){r.handleCustomMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)}),Ct(Tt(r),"handleCustomMonthChange",function(e){r.props.onMonthChange&&(r.props.onMonthChange(e),r.setState({isRenderAriaLiveMessage:!0}))}),Ct(Tt(r),"handleMonthYearChange",function(e){r.handleYearChange(e),r.handleMonthChange(e)}),Ct(Tt(r),"changeYear",function(e){r.setState(function(t){var n=t.date;return{date:Ve.default(n,e)}},function(){return r.handleYearChange(r.state.date)})}),Ct(Tt(r),"changeMonth",function(e){r.setState(function(t){var n=t.date;return{date:Be.default(n,e)}},function(){return r.handleMonthChange(r.state.date)})}),Ct(Tt(r),"changeMonthYear",function(e){r.setState(function(t){var n=t.date;return{date:Ve.default(Be.default(n,Ie.default(e)),Le.default(e))}},function(){return r.handleMonthYearChange(r.state.date)})}),Ct(Tt(r),"header",function(){var e=Vt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),t=[];return r.props.showWeekNumbers&&t.push(ue.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map(function(t){var n=ye.default(e,t),o=r.formatWeekday(n,r.props.locale),i=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return ue.default.createElement("div",{key:t,className:pe.default("react-datepicker__day-name",i)},o)}))}),Ct(Tt(r),"formatWeekday",function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(jt(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return jt(e,"EEE",t)}(e,t):function(e,t){return jt(e,"EEEEEE",t)}(e,t)}),Ct(Tt(r),"decreaseYear",function(){r.setState(function(e){var t=e.date;return{date:Ee.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),Ct(Tt(r),"clearSelectingDate",function(){r.setState({selectingDate:null})}),Ct(Tt(r),"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=bn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,o=void 0===r?Lt:r,i=En(Wt(Ee.default(e,o)),o).endPeriod,a=n&&Le.default(n);return a&&a>i||!1}(r.state.date,r.props);break;default:e=vn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,i=r.props,a=i.previousMonthButtonLabel,s=i.previousYearButtonLabel,l=r.props,c=l.previousMonthAriaLabel,d=void 0===c?"string"==typeof a?a:"Previous Month":c,u=l.previousYearAriaLabel,p=void 0===u?"string"==typeof s?s:"Previous Year":u;return ue.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?p:d},ue.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},o?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),Ct(Tt(r),"increaseYear",function(){r.setState(function(e){var t=e.date;return{date:xe.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),Ct(Tt(r),"renderNextButton",function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=wn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,o=void 0===r?Lt:r,i=En(xe.default(e,o),o).startPeriod,a=n&&Le.default(n);return a&&a<i||!1}(r.state.date,r.props);break;default:e=yn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,i=r.props,a=i.nextMonthButtonLabel,s=i.nextYearButtonLabel,l=r.props,c=l.nextMonthAriaLabel,d=void 0===c?"string"==typeof a?a:"Next Month":c,u=l.nextYearAriaLabel,p=void 0===u?"string"==typeof s?s:"Next Year":u;return ue.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?p:d},ue.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},o?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),Ct(Tt(r),"renderCurrentMonth",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),ue.default.createElement("div",{className:t.join(" ")},jt(e,r.props.dateFormat,r.props.locale))}),Ct(Tt(r),"renderYearDropdown",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return ue.default.createElement(Nn,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Le.default(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),Ct(Tt(r),"renderMonthDropdown",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return ue.default.createElement(Pn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Ie.default(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),Ct(Tt(r),"renderMonthYearDropdown",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return ue.default.createElement(Hn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),Ct(Tt(r),"handleTodayButtonClick",function(e){r.props.onSelect(qt(),e),r.props.setPreSelection&&r.props.setPreSelection(qt())}),Ct(Tt(r),"renderTodayButton",function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return ue.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.handleTodayButtonClick(e)}},r.props.todayButton)}),Ct(Tt(r),"renderDefaultHeader",function(e){var t=e.monthDate,n=e.i;return ue.default.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),ue.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),ue.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))}),Ct(Tt(r),"renderCustomHeader",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,n=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var o=vn(r.state.date,r.props),i=yn(r.state.date,r.props),a=bn(r.state.date,r.props),s=wn(r.state.date,r.props),l=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ue.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(yt(yt({},r.state),{},{customHeaderCount:n,monthDate:t,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:i,prevYearButtonDisabled:a,nextYearButtonDisabled:s})),l&&ue.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))}),Ct(Tt(r),"renderYearHeader",function(){var e=r.state.date,t=r.props,n=t.showYearPicker,o=En(e,t.yearItemNumber),i=o.startPeriod,a=o.endPeriod;return ue.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(i," - ").concat(a):Le.default(e))}),Ct(Tt(r),"renderHeader",function(e){switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(e);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(e);default:return r.renderDefaultHeader(e)}}),Ct(Tt(r),"renderMonths",function(){var e;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var t=[],n=r.props.showPreviousMonths?r.props.monthsShown-1:0,o=Me.default(r.state.date,n),i=null!==(e=r.props.monthSelectedIn)&&void 0!==e?e:n,a=0;a<r.props.monthsShown;++a){var s=a-i+n,l=we.default(o,s),c="month-".concat(a),d=a<r.props.monthsShown-1,u=a>0;t.push(ue.default.createElement("div",{key:c,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.renderHeader({monthDate:l,i:a}),ue.default.createElement(Kn,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:l,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:a,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:d,monthShowsDuplicateDaysStart:u})))}return t}}),Ct(Tt(r),"renderYears",function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?ue.default.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),ue.default.createElement(Qn,St({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0}),Ct(Tt(r),"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ue.default.createElement(Jn,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),Ct(Tt(r),"renderInputTimeSection",function(){var e=new Date(r.props.selected),t=Ht(e)&&Boolean(r.props.selected)?"".concat(Dn(e.getHours()),":").concat(Dn(e.getMinutes())):"";if(r.props.showTimeInput)return ue.default.createElement(Gn,{date:e,timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),Ct(Tt(r),"renderAriaLiveRegion",function(){var e,t=En(r.state.date,r.props.yearItemNumber),n=t.startPeriod,o=t.endPeriod;return e=r.props.showYearPicker?"".concat(n," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Le.default(r.state.date):"".concat(nn(Ie.default(r.state.date),r.props.locale)," ").concat(Le.default(r.state.date)),ue.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&e)}),Ct(Tt(r),"renderChildren",function(){if(r.props.children)return ue.default.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=ue.default.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return xt(n,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(!this.props.preSelection||Gt(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Gt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Jt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}}},{key:"render",value:function(){var e=this.props.container||Xn;return ue.default.createElement("div",{style:{display:"contents"},ref:this.containerRef},ue.default.createElement(e,{className:pe.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Lt}}}]),n}(ue.default.Component),tr=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,o=e.onClick,i="react-datepicker__calendar-icon";return ue.default.isValidElement(t)?ue.default.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(i," ").concat(r),onClick:function(e){"function"==typeof t.props.onClick&&t.props.onClick(e),"function"==typeof o&&o(e)}}):"string"==typeof t?ue.default.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:o}):ue.default.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ue.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},nr=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return xt(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return mt.default.createPortal(this.props.children,this.el)}}]),n}(ue.default.Component),rr=function(e){return!e.disabled&&-1!==e.tabIndex},or=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),Ct(Tt(r=t.call(this,e)),"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(rr)}),Ct(Tt(r),"handleFocusStart",function(){var e=r.getTabChildren();e&&e.length>1&&e[e.length-1].focus()}),Ct(Tt(r),"handleFocusEnd",function(){var e=r.getTabChildren();e&&e.length>1&&e[0].focus()}),r.tabLoopRef=ue.default.createRef(),r}return xt(n,[{key:"render",value:function(){return this.props.enableTabLoop?ue.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ue.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,ue.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(ue.default.Component),ir=function(e){Mt(n,e);var t=_t(n);function n(){return wt(this,n),t.apply(this,arguments)}return xt(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.wrapperClassName,o=t.hidePopper,i=t.popperComponent,a=t.popperModifiers,s=t.popperPlacement,l=t.popperProps,c=t.targetComponent,d=t.enableTabLoop,u=t.popperOnKeyDown,p=t.portalId,h=t.portalHost;if(!o){var f=pe.default("react-datepicker-popper",n);e=ue.default.createElement(le.Popper,St({modifiers:a,placement:s},l),function(e){var t=e.ref,n=e.style,r=e.placement,o=e.arrowProps;return ue.default.createElement(or,{enableTabLoop:d},ue.default.createElement("div",{ref:t,style:n,className:f,"data-placement":r,onKeyDown:u},ue.default.cloneElement(i,{arrowProps:o})))})}this.props.popperContainer&&(e=ue.default.createElement(this.props.popperContainer,{},e)),p&&!o&&(e=ue.default.createElement(nr,{portalId:p,portalHost:h},e));var m=pe.default("react-datepicker-wrapper",r);return ue.default.createElement(le.Manager,{className:"react-datepicker-manager"},ue.default.createElement(le.Reference,null,function(e){var t=e.ref;return ue.default.createElement("div",{ref:t,className:m},c)}),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(ue.default.Component),ar="react-datepicker-ignore-onclickoutside",sr=ft.default(er),lr="Date input not valid.",cr=function(e){Mt(n,e);var t=_t(n);function n(e){var r;return wt(this,n),Ct(Tt(r=t.call(this,e)),"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ft()}),Ct(Tt(r),"modifyHolidays",function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return fe.default(n)?[].concat(Ot(e),[yt(yt({},t),{},{date:n})]):e},[])}),Ct(Tt(r),"calcInitialState",function(){var e,t=r.getPreSelection(),n=kn(r.props),o=xn(r.props),i=n&&ct.default(t,Je.default(n))?n:o&&lt.default(t,et.default(o))?o:t;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:i,highlightDates:Cn(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),Ct(Tt(r),"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),Ct(Tt(r),"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),Ct(Tt(r),"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),Ct(Tt(r),"setOpen",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ur},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.setBlur(),r.setState({inputValue:null})})})}),Ct(Tt(r),"inputOk",function(){return he.default(r.state.preSelection)}),Ct(Tt(r),"isCalendarOpen",function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),Ct(Tt(r),"handleFocus",function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})}),Ct(Tt(r),"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),Ct(Tt(r),"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),Ct(Tt(r),"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),Ct(Tt(r),"handleDropdownFocus",function(){r.cancelFocusInput()}),Ct(Tt(r),"handleBlur",function(e){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(e),r.setState({focused:!1})}),Ct(Tt(r),"handleCalendarClickOutside",function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()}),Ct(Tt(r),"handleChange",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(Tt(r),t),"function"==typeof o.isDefaultPrevented&&!o.isDefaultPrevented())){r.setState({inputValue:o.target.value,lastPreSelectChange:dr});var i,a,s,l,c,d,u,p,h=(i=o.target.value,a=r.props.dateFormat,s=r.props.locale,l=r.props.strictParsing,c=r.props.minDate,d=null,u=tn(s)||tn(en()),p=!0,Array.isArray(a)?(a.forEach(function(e){var t=pt.default(i,e,new Date,{locale:u});l&&(p=Ht(t,c)&&i===jt(t,e,s)),Ht(t,c)&&p&&(d=t)}),d):(d=pt.default(i,a,new Date,{locale:u}),l?p=Ht(d)&&i===jt(d,a,s):Ht(d)||(a=a.match(zt).map(function(e){var t=e[0];return"p"===t||"P"===t?u?(0,Pt[t])(e,u.formatLong):t:e}).join(""),i.length>0&&(d=pt.default(i,a.slice(0,i.length),new Date)),Ht(d)||(d=new Date(i))),Ht(d)&&p?d:null));r.props.showTimeSelectOnly&&r.props.selected&&h&&!Gt(h,r.props.selected)&&(h=gt.default(r.props.selected,{hours:Oe.default(h),minutes:_e.default(h),seconds:Te.default(h)})),!h&&o.target.value||(r.props.showWeekPicker&&(h=Vt(h,r.props.locale,r.props.calendarStartDay)),r.setSelected(h,o,!0))}}),Ct(Tt(r),"handleSelect",function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.props.showWeekPicker&&(e=Vt(e,r.props.locale,r.props.calendarStartDay)),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,i=o.startDate,a=o.endDate;!i||a||ct.default(e,i)||r.setOpen(!1)}}),Ct(Tt(r),"setSelected",function(e,t,n,o){var i=e;if(r.props.showYearPicker){if(null!==i&&un(Le.default(i),r.props))return}else if(r.props.showMonthYearPicker){if(null!==i&&sn(i,r.props))return}else if(null!==i&&on(i,r.props))return;var a=r.props,s=a.onChange,l=a.selectsRange,c=a.startDate,d=a.endDate;if(!Xt(r.props.selected,i)||r.props.allowSameDay||l)if(null!==i&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(i=$t(i,{hour:Oe.default(r.props.selected),minute:_e.default(r.props.selected),second:Te.default(r.props.selected)})),r.props.inline||r.setState({preSelection:i}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),l){var u=c&&d;c||d?c&&!d&&(ct.default(i,c)?s([i,null],t):s([c,i],t)):s([i,null],t),u&&s([i,null],t)}else s(i,t);n||(r.props.onSelect(i,t),r.setState({inputValue:null}))}),Ct(Tt(r),"setPreSelection",function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,o=!0;if(e){r.props.showWeekPicker&&(e=Vt(e,r.props.locale,r.props.calendarStartDay));var i=Je.default(e);if(t&&n)o=Zt(e,r.props.minDate,r.props.maxDate);else if(t){var a=Je.default(r.props.minDate);o=lt.default(e,a)||Xt(i,a)}else if(n){var s=et.default(r.props.maxDate);o=ct.default(e,s)||Xt(i,s)}}o&&r.setState({preSelection:e})}),Ct(Tt(r),"toggleCalendar",function(){r.setOpen(!r.state.open)}),Ct(Tt(r),"handleTimeChange",function(e){var t=r.props.selected?r.props.selected:r.getPreSelection(),n=r.props.selected?e:$t(t,{hour:Oe.default(e),minute:_e.default(e)});r.setState({preSelection:n}),r.props.onChange(n),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),Ct(Tt(r),"onInputClick",function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()}),Ct(Tt(r),"onInputKeyDown",function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',o=r.calendar.componentNode&&r.calendar.componentNode.querySelector(n);return void(o&&o.focus({preventScroll:!0}))}var i=Ft(r.state.preSelection);"Enter"===t?(e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===ur?(r.handleSelect(i,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(i)):r.setOpen(!1)):"Escape"===t?(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):"Tab"===t&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:lr})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||r.onInputClick()}),Ct(Tt(r),"onPortalKeyDown",function(e){"Escape"===e.key&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),Ct(Tt(r),"onDayKeyDown",function(e){r.props.onKeyDown(e);var t=e.key,n=Ft(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:lr});else if(!r.props.disabledKeyboardNavigation){var o;switch(t){case"ArrowLeft":o=r.props.showWeekPicker?Se.default(n,1):Ce.default(n,1);break;case"ArrowRight":o=r.props.showWeekPicker?be.default(n,1):ye.default(n,1);break;case"ArrowUp":o=Se.default(n,1);break;case"ArrowDown":o=be.default(n,1);break;case"PageUp":o=Me.default(n,1);break;case"PageDown":o=we.default(n,1);break;case"Home":o=Ee.default(n,1);break;case"End":o=xe.default(n,1);break;default:o=null}if(!o)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:lr}));if(e.preventDefault(),r.setState({lastPreSelectChange:ur}),r.props.adjustDateOnChange&&r.setSelected(o),r.setPreSelection(o),r.props.inline){var i=Ie.default(n),a=Ie.default(o),s=Le.default(n),l=Le.default(o);i!==a||s!==l?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),Ct(Tt(r),"onPopperKeyDown",function(e){"Escape"===e.key&&(e.preventDefault(),r.sendFocusBackToInput())}),Ct(Tt(r),"onClearClick",function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],e):r.props.onChange(null,e),r.setState({inputValue:null})}),Ct(Tt(r),"clear",function(){r.onClearClick()}),Ct(Tt(r),"onScroll",function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)}),Ct(Tt(r),"renderCalendar",function(){return r.props.inline||r.isCalendarOpen()?ue.default.createElement(sr,{ref:function(e){r.calendar=e},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:Sn(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:ar,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,showPopperArrow:r.props.showPopperArrow,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null}),Ct(Tt(r),"renderAriaLiveRegion",function(){var e,t=r.props,n=t.dateFormat,o=t.locale,i=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Bt(r.props.startDate,{dateFormat:i,locale:o}),". ").concat(r.props.endDate?"End date: "+Bt(r.props.endDate,{dateFormat:i,locale:o}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Bt(r.props.selected,{dateFormat:n,locale:o})):r.props.showYearPicker?"Selected year: ".concat(Bt(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?"Selected month: ".concat(Bt(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Bt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):"Selected date: ".concat(Bt(r.props.selected,{dateFormat:i,locale:o})),ue.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)}),Ct(Tt(r),"renderDateInput",function(){var e,t=pe.default(r.props.className,Ct({},ar,r.state.open)),n=r.props.customInput||ue.default.createElement("input",{type:"text"}),o=r.props.customInputRef||"ref",i="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Bt(e,n),o=t?Bt(t,n):"";return"".concat(r," - ").concat(o)}(r.props.startDate,r.props.endDate,r.props):Bt(r.props.selected,r.props);return ue.default.cloneElement(n,(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(e={},o,function(e){r.input=e}),"value",i),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(Ct(e,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",pe.default(n.props.className,t)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),Ct(Ct(Ct(e,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),Ct(Tt(r),"renderClearButton",function(){var e=r.props,t=e.isClearable,n=e.disabled,o=e.selected,i=e.startDate,a=e.endDate,s=e.clearButtonTitle,l=e.clearButtonClassName,c=void 0===l?"":l,d=e.ariaLabelClose,u=void 0===d?"Close":d;return!t||null==o&&null==i&&null==a?null:ue.default.createElement("button",{type:"button",className:pe.default("react-datepicker__close-icon",c,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":u,onClick:r.onClearClick,title:s,tabIndex:-1})}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return xt(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Ie.default(n)!==Ie.default(r)||Le.default(n)!==Le.default(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Cn(this.props.highlightDates)}),t.focused||Xt(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,o=e.toggleCalendarOnIconClick,i=this.state.open;return ue.default.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ue.default.createElement(tr,St({icon:n,className:"".concat(r," ").concat(i&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?ue.default.createElement(or,{enableTabLoop:this.props.enableTabLoop},ue.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=ue.default.createElement(nr,{portalId:this.props.portalId,portalHost:this.props.portalHost},t)),ue.default.createElement("div",null,this.renderInputContainer(),t)}return ue.default.createElement(ir,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Lt,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1}}}]),n}(ue.default.Component),dr="input",ur="navigate";e.CalendarContainer=Xn,e.default=cr,e.getDefaultLocale=en,e.registerLocale=function(e,t){var n="undefined"!=typeof window?window:globalThis;n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:globalThis).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(7378),n(3108),n(3698),n(8951),n(9615),n(8505),n(1559),n(9125),n(1269),n(1663),n(2921),n(4371),n(4424),n(6560),n(8788),n(3016),n(5166),n(4399),n(6102),n(4890),n(3188),n(4837),n(2817),n(1572),n(9413),n(7587),n(5388),n(7284),n(6930),n(7758),n(1424),n(5152),n(551),n(152),n(8285),n(2887),n(5498),n(2802),n(4657),n(5626),n(4352),n(4982),n(2920),n(9925),n(6737),n(8033),n(3209),n(704),n(9661),n(5057),n(6969),n(9168),n(7583),n(3411),n(9144),n(1669),n(2862),n(6469),n(931),n(3875),n(4059),n(677),n(4369))},3875(e,t,n){"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:()=>f,default:()=>g});var r=n(7378),o=n(4059);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var l,c,d=(void 0===l&&(l=0),function(){return++l}),u={},p={},h=["touchstart","touchmove"],f="ignore-react-onclickoutside";function m(e,t){var n={};return-1!==h.indexOf(t)&&c&&(n.passive=!e.props.preventDefault),n}const g=function(e,t){var n,l,h=e.displayName||e.name||"Component";return l=n=function(n){var l,f;function g(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+h+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,o.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!p[r._uid]){void 0===c&&(c=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),p[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),u[r._uid]=function(e){var t;null!==r.componentNode&&(r.initTimeStamp>e.timeStamp||(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&s(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e)))},e.forEach(function(e){document.addEventListener(e,u[r._uid],m(a(r),e))})}},r.disableOnClickOutside=function(){delete p[r._uid];var e=u[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach(function(t){return document.removeEventListener(t,e,m(a(r),t))}),delete u[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=d(),r.initTimeStamp=performance.now(),r}f=n,(l=g).prototype=Object.create(f.prototype),l.prototype.constructor=l,i(l,f);var v=g.prototype;return v.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},v.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+h+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},v.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},v.componentWillUnmount=function(){this.disableOnClickOutside()},v.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},g}(r.Component),n.displayName="OnClickOutside("+h+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},677(e,t,n){"use strict";n.r(t),n.d(t,{Manager:()=>a,Popper:()=>k,Reference:()=>S,usePopper:()=>v});var r=n(7378),o=r.createContext(),i=r.createContext();function a(e){var t=e.children,n=r.useState(null),a=n[0],s=n[1],l=r.useRef(!1);r.useEffect(function(){return function(){l.current=!0}},[]);var c=r.useCallback(function(e){l.current||s(e)},[]);return r.createElement(o.Provider,{value:a},r.createElement(i.Provider,{value:c},t))}var s=function(e){return Array.isArray(e)?e[0]:e},l=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},c=function(e,t){if("function"==typeof e)return l(e,t);null!=e&&(e.current=t)},d=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},u="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,p=n(4059),h=n(6341),f=n(2700),m=n.n(f),g=[],v=function(e,t,n){void 0===n&&(n={});var o=r.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||g},a=r.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],l=a[1],c=r.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);p.flushSync(function(){l({styles:d(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:d(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),f=r.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[c,{name:"applyStyles",enabled:!1}])};return m()(o.current,e)?o.current||e:(o.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,c]),v=r.useRef();return u(function(){v.current&&v.current.setOptions(f)},[f]),u(function(){if(null!=e&&null!=t){var r=(n.createPopper||h.n4)(e,t,f);return v.current=r,function(){r.destroy(),v.current=null}}},[e,t,n.createPopper]),{state:v.current?v.current.state:null,styles:s.styles,attributes:s.attributes,update:v.current?v.current.update:null,forceUpdate:v.current?v.current.forceUpdate:null}},y=function(){},b=function(){return Promise.resolve(null)},w=[];function k(e){var t=e.placement,n=void 0===t?"bottom":t,i=e.strategy,a=void 0===i?"absolute":i,l=e.modifiers,d=void 0===l?w:l,u=e.referenceElement,p=e.onFirstUpdate,h=e.innerRef,f=e.children,m=r.useContext(o),g=r.useState(null),k=g[0],x=g[1],C=r.useState(null),S=C[0],M=C[1];r.useEffect(function(){c(h,k)},[h,k]);var D=r.useMemo(function(){return{placement:n,strategy:a,onFirstUpdate:p,modifiers:[].concat(d,[{name:"arrow",enabled:null!=S,options:{element:S}}])}},[n,a,p,d,S]),E=v(u||m,k,D),T=E.state,_=E.styles,O=E.forceUpdate,A=E.update,N=r.useMemo(function(){return{ref:x,style:_.popper,placement:T?T.placement:n,hasPopperEscaped:T&&T.modifiersData.hide?T.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:T&&T.modifiersData.hide?T.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:_.arrow,ref:M},forceUpdate:O||y,update:A||b}},[x,M,n,T,_,A,O]);return s(f)(N)}var x=n(6822),C=n.n(x);function S(e){var t=e.children,n=e.innerRef,o=r.useContext(i),a=r.useCallback(function(e){c(n,e),l(o,e)},[n,o]);return r.useEffect(function(){return function(){return c(n,null)}},[]),r.useEffect(function(){C()(Boolean(o),"`Reference` should not be used outside of a `Manager` component.")},[o]),s(t)({ref:a})}},7234(e,t,n){"use strict";var r=n(7378);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,d=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&d({inst:o})},[e,n,t]),a(function(){return c(o)&&d({inst:o}),e(function(){c(o)&&d({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},2685(e,t,n){"use strict";var r=n(7378),o=n(7357);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var h=a(e,u[0],u[1]);return l(function(){p.hasValue=!0,p.value=h},[h]),d(h),h}},7357(e,t,n){"use strict";e.exports=n(7234)},8371(e,t,n){"use strict";e.exports=n(2685)},6822(e){"use strict";var t=function(){};e.exports=t},3698(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},1816(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},9236(e,t,n){"use strict";n.d(t,{R:()=>a,x:()=>s});var r=n(7378);const o={},i=r.createContext(o);function a(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:t},e.children)}},6178(e,t,n){"use strict";n.d(t,{C1:()=>YN,cA:()=>IO,Sc:()=>zA,Q1:()=>NN,lr:()=>oR,BX:()=>tO,xn:()=>AN,ZX:()=>KA,wN:()=>KN,Q6:()=>JN,Fu:()=>qA,fI:()=>jN,l6:()=>qN,tU:()=>tR,EY:()=>LA,nO:()=>aR,g1:()=>pR});var r=n(7378),o=n.t(r,2),i=n(9124),a=n(4059);const s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function l(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function c(e){return"nodeType"in e}function d(e){var t,n;return e?l(e)?e:c(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function u(e){const{Document:t}=d(e);return e instanceof t}function p(e){return!l(e)&&e instanceof d(e).HTMLElement}function h(e){return e instanceof d(e).SVGElement}function f(e){return e?l(e)?e.document:c(e)?u(e)?e:p(e)||h(e)?e.ownerDocument:document:document:document}const m=s?r.useLayoutEffect:r.useEffect;function g(e){const t=(0,r.useRef)(e);return m(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function v(e,t){void 0===t&&(t=[e]);const n=(0,r.useRef)(e);return m(()=>{n.current!==e&&(n.current=e)},t),n}function y(e,t){const n=(0,r.useRef)();return(0,r.useMemo)(()=>{const t=e(n.current);return n.current=t,t},[...t])}function b(e){const t=g(e),n=(0,r.useRef)(null),o=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,o]}function w(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let k={};function x(e,t){return(0,r.useMemo)(()=>{if(t)return t;const n=null==k[e]?0:k[e]+1;return k[e]=n,e+"-"+n},[e,t])}function C(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[o,i]of r){const n=t[o];null!=n&&(t[o]=n+e*i)}return t},{...t})}}const S=C(1),M=C(-1);function D(e){if(!e)return!1;const{KeyboardEvent:t}=d(e.target);return t&&e instanceof t}function E(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=d(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const T=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[T.Translate.toString(e),T.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function O(e){return e.matches(_)?e:e.querySelector(_)}const A={display:"none"};function N(e){let{id:t,value:n}=e;return r.createElement("div",{id:t,style:A},n)}function R(e){let{id:t,announcement:n,ariaLiveType:o="assertive"}=e;return r.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},n)}const I=(0,r.createContext)(null);const P={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},L={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function z(e){let{announcements:t=L,container:n,hiddenTextDescribedById:o,screenReaderInstructions:i=P}=e;const{announce:s,announcement:l}=function(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=x("DndLiveRegion"),[d,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{u(!0)},[]),function(e){const t=(0,r.useContext)(I);(0,r.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,r.useMemo)(()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}}),[s,t])),!d)return null;const p=r.createElement(r.Fragment,null,r.createElement(N,{id:o,value:i.draggable}),r.createElement(R,{id:c,announcement:l}));return n?(0,a.createPortal)(p,n):p}var F;function H(){}function j(e,t){return(0,r.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(F||(F={}));const B=Object.freeze({x:0,y:0});function $(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function V(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function U(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function W(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Y(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function q(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const K=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=q(t,t.left,t.top),i=[];for(const a of r){const{id:e}=a,t=n.get(e);if(t){const n=$(q(t),o);i.push({id:e,data:{droppableContainer:a,value:n}})}}return i.sort(V)};function J(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const Q=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:e}=i,r=n.get(e);if(r){const n=J(r,t);n>0&&o.push({id:e,data:{droppableContainer:i,value:n}})}}return o.sort(U)};function G(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:B}function X(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const Z=X(1);function ee(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const te={ignoreTransform:!1};function ne(e,t){void 0===t&&(t=te);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=d(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=ee(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,u=i?e.height/i:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function re(e){return ne(e,{ignoreTransform:!0})}function oe(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(u(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!p(o)||h(o))return n;if(n.includes(o))return n;const i=d(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=d(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=d(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function ie(e){const[t]=oe(e,1);return null!=t?t:null}function ae(e){return s&&e?l(e)?e:c(e)?u(e)||e===f(e).scrollingElement?window:p(e)?e:null:null:null}function se(e){return l(e)?e.scrollX:e.scrollLeft}function le(e){return l(e)?e.scrollY:e.scrollTop}function ce(e){return{x:se(e),y:le(e)}}var de;function ue(e){return!(!s||!e)&&e===document.scrollingElement}function pe(e){const t={x:0,y:0},n=ue(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(de||(de={}));const he={x:.2,y:.2};function fe(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=he);const{isTop:c,isBottom:d,isLeft:u,isRight:p}=pe(e),h={x:0,y:0},f={x:0,y:0},m=t.height*o.y,g=t.width*o.x;return!c&&i<=t.top+m?(h.y=de.Backward,f.y=r*Math.abs((t.top+m-i)/m)):!d&&l>=t.bottom-m&&(h.y=de.Forward,f.y=r*Math.abs((t.bottom-m-l)/m)),!p&&s>=t.right-g?(h.x=de.Forward,f.x=r*Math.abs((t.right-g-s)/g)):!u&&a<=t.left+g&&(h.x=de.Backward,f.x=r*Math.abs((t.left+g-a)/g)),{direction:h,speed:f}}function me(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function ge(e){return e.reduce((e,t)=>S(e,ce(t)),B)}function ve(e,t){if(void 0===t&&(t=ne),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);ie(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ye=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+se(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+le(t),0)}]];class be{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=oe(t),r=ge(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,a]of ye)for(const e of i)Object.defineProperty(this,e,{get:()=>{const t=a(n),i=r[o]-t;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class we{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ke(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var xe,Ce;function Se(e){e.preventDefault()}function Me(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(xe||(xe={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Ce||(Ce={}));const De={start:[Ce.Space,Ce.Enter],cancel:[Ce.Esc],end:[Ce.Space,Ce.Enter,Ce.Tab]},Ee=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ce.Right:return{...n,x:n.x+25};case Ce.Left:return{...n,x:n.x-25};case Ce.Down:return{...n,y:n.y+25};case Ce.Up:return{...n,y:n.y-25}}};class Te{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new we(f(t)),this.windowListeners=new we(d(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xe.Resize,this.handleCancel),this.windowListeners.add(xe.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xe.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&ve(n),t(B)}handleKeyDown(e){if(D(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=De,coordinateGetter:i=Ee,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:B;this.referenceCoordinates||(this.referenceCoordinates=c);const d=i(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=M(d,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:u,minScroll:p}=pe(n),h=me(n),f={x:Math.min(o===Ce.Right?h.right-h.width/2:h.right,Math.max(o===Ce.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(o===Ce.Down?h.bottom-h.height/2:h.bottom,Math.max(o===Ce.Down?h.top:h.top+h.height/2,d.y))},m=o===Ce.Right&&!s||o===Ce.Left&&!l,g=o===Ce.Down&&!c||o===Ce.Up&&!i;if(m&&f.x!==d.x){const e=n.scrollLeft+t.x,i=o===Ce.Right&&e<=u.x||o===Ce.Left&&e>=p.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===Ce.Right?n.scrollLeft-u.x:n.scrollLeft-p.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(g&&f.y!==d.y){const e=n.scrollTop+t.y,i=o===Ce.Down&&e<=u.y||o===Ce.Up&&e>=p.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===Ce.Down?n.scrollTop-u.y:n.scrollTop-p.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,S(M(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function _e(e){return Boolean(e&&"distance"in e)}function Oe(e){return Boolean(e&&"delay"in e)}Te.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=De,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==o||o({event:e.nativeEvent}),!0)}return!1}}];class Ae{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=d(e);return e instanceof t?e:f(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=f(i),this.documentListeners=new we(this.document),this.listeners=new we(n),this.windowListeners=new we(d(i)),this.initialCoordinates=null!=(r=E(o))?r:B,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(xe.Resize,this.handleCancel),this.windowListeners.add(xe.DragStart,Se),this.windowListeners.add(xe.VisibilityChange,this.handleCancel),this.windowListeners.add(xe.ContextMenu,Se),this.documentListeners.add(xe.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Oe(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(_e(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(xe.Click,Me,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xe.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=E(e))?t:B,l=M(r,s);if(!n&&a){if(_e(a)){if(null!=a.tolerance&&ke(l,a.tolerance))return this.handleCancel();if(ke(l,a.distance))return this.handleStart()}return Oe(a)&&ke(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ce.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ne={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Re extends Ae{constructor(e){const{event:t}=e,n=f(t.target);super(e,Ne,n)}}Re.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Ie={move:{name:"mousemove"},end:{name:"mouseup"}};var Pe;!function(e){e[e.RightClick=2]="RightClick"}(Pe||(Pe={}));(class extends Ae{constructor(e){super(e,Ie,f(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Pe.RightClick&&(null==r||r({event:n}),!0)}}];const Le={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var ze,Fe;function He(e){let{acceleration:t,activator:n=ze.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:s=5,order:l=Fe.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:p,threshold:h}=e;const f=function(e){let{delta:t,disabled:n}=e;const r=w(t);return y(e=>{if(n||!r||!e)return je;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[de.Backward]:e.x[de.Backward]||-1===o.x,[de.Forward]:e.x[de.Forward]||1===o.x},y:{[de.Backward]:e.y[de.Backward]||-1===o.y,[de.Forward]:e.y[de.Forward]||1===o.y}}},[n,t,r])}({delta:p,disabled:!a}),[m,g]=function(){const e=(0,r.useRef)(null);return[(0,r.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),v=(0,r.useRef)({x:0,y:0}),b=(0,r.useRef)({x:0,y:0}),k=(0,r.useMemo)(()=>{switch(n){case ze.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ze.DraggableRect:return i}},[n,i,c]),x=(0,r.useRef)(null),C=(0,r.useCallback)(()=>{const e=x.current;if(!e)return;const t=v.current.x*b.current.x,n=v.current.y*b.current.y;e.scrollBy(t,n)},[]),S=(0,r.useMemo)(()=>l===Fe.TreeOrder?[...d].reverse():d,[l,d]);(0,r.useEffect)(()=>{if(a&&d.length&&k){for(const e of S){if(!1===(null==o?void 0:o(e)))continue;const n=d.indexOf(e),r=u[n];if(!r)continue;const{direction:i,speed:a}=fe(e,r,k,t,h);for(const e of["x","y"])f[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return g(),x.current=e,m(C,s),v.current=a,void(b.current=i)}v.current={x:0,y:0},b.current={x:0,y:0},g()}else g()},[t,C,o,g,a,s,JSON.stringify(k),JSON.stringify(f),m,d,S,u,JSON.stringify(h)])}(class extends Ae{constructor(e){super(e,Le)}static setup(){return window.addEventListener(Le.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Le.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ze||(ze={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Fe||(Fe={}));const je={x:{[de.Backward]:!1,[de.Forward]:!1},y:{[de.Backward]:!1,[de.Forward]:!1}};var Be,$e;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Be||(Be={})),function(e){e.Optimized="optimized"}($e||($e={}));const Ve=new Map;function Ue(e,t){return y(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function We(e){let{callback:t,disabled:n}=e;const o=g(t),i=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)},[n]);return(0,r.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function Ye(e){return new be(ne(e),e)}function qe(e,t,n){void 0===t&&(t=Ye);const[o,i]=(0,r.useState)(null);function a(){i(r=>{if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=r?r:n)?o:null;const i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}const s=function(e){let{callback:t,disabled:n}=e;const o=g(t),i=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)},[o,n]);return(0,r.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),l=We({callback:a});return m(()=>{a(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())},[e]),o}const Ke=[];function Je(e,t){void 0===t&&(t=[]);const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n.current=null},t),(0,r.useEffect)(()=>{const t=e!==B;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?M(e,n.current):B}function Qe(e){return(0,r.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const Ge=[];function Xe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return p(t)?t:e}const Ze=[{sensor:Re,options:{}},{sensor:Te,options:{}}],et={current:{}},tt={draggable:{measure:re},droppable:{measure:re,strategy:Be.WhileDragging,frequency:$e.Optimized},dragOverlay:{measure:ne}};class nt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const rt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:H},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tt,measureDroppableContainers:H,windowRect:null,measuringScheduled:!1},ot={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:H,draggableNodes:new Map,over:null,measureDroppableContainers:H},it=(0,r.createContext)(ot),at=(0,r.createContext)(rt);function st(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nt}}}function lt(e,t){switch(t.type){case F.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case F.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case F.DragEnd:case F.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case F.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new nt(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case F.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new nt(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case F.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new nt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ct(e){let{disabled:t}=e;const{active:n,activatorEvent:o,draggableNodes:i}=(0,r.useContext)(it),a=w(o),s=w(null==n?void 0:n.id);return(0,r.useEffect)(()=>{if(!t&&!o&&a&&null!=s){if(!D(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=O(e);if(t){t.focus();break}}})}},[o,t,i,s,a]),null}function dt(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}const ut=(0,r.createContext)({...B,scaleX:1,scaleY:1});var pt;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(pt||(pt={}));const ht=(0,r.memo)(function(e){var t,n,o,i;let{id:l,accessibility:c,autoScroll:u=!0,children:h,sensors:f=Ze,collisionDetection:g=Q,measuring:w,modifiers:k,...C}=e;const M=(0,r.useReducer)(lt,void 0,st),[D,T]=M,[_,O]=function(){const[e]=(0,r.useState)(()=>new Set),t=(0,r.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,r.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[A,N]=(0,r.useState)(pt.Uninitialized),R=A===pt.Initialized,{draggable:{active:P,nodes:L,translate:H},droppable:{containers:j}}=D,$=null!=P?L.get(P):null,V=(0,r.useRef)({initial:null,translated:null}),U=(0,r.useMemo)(()=>{var e;return null!=P?{id:P,data:null!=(e=null==$?void 0:$.data)?e:et,rect:V}:null},[P,$]),W=(0,r.useRef)(null),[q,K]=(0,r.useState)(null),[J,X]=(0,r.useState)(null),ee=v(C,Object.values(C)),te=x("DndDescribedBy",l),re=(0,r.useMemo)(()=>j.getEnabled(),[j]),se=(le=w,(0,r.useMemo)(()=>({draggable:{...tt.draggable,...null==le?void 0:le.draggable},droppable:{...tt.droppable,...null==le?void 0:le.droppable},dragOverlay:{...tt.dragOverlay,...null==le?void 0:le.dragOverlay}}),[null==le?void 0:le.draggable,null==le?void 0:le.droppable,null==le?void 0:le.dragOverlay]));var le;const{droppableRects:de,measureDroppableContainers:pe,measuringScheduled:he}=function(e,t){let{dragging:n,dependencies:o,config:i}=t;const[a,s]=(0,r.useState)(null),{frequency:l,measure:c,strategy:d}=i,u=(0,r.useRef)(e),p=function(){switch(d){case Be.Always:return!1;case Be.BeforeDragging:return n;default:return!n}}(),h=v(p),f=(0,r.useCallback)(function(e){void 0===e&&(e=[]),h.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),m=(0,r.useRef)(null),g=y(t=>{if(p&&!n)return Ve;if(!t||t===Ve||u.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new be(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,p,c]);return(0,r.useEffect)(()=>{u.current=e},[e]),(0,r.useEffect)(()=>{p||f()},[n,p]),(0,r.useEffect)(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),(0,r.useEffect)(()=>{p||"number"!=typeof l||null!==m.current||(m.current=setTimeout(()=>{f(),m.current=null},l))},[l,p,f,...o]),{droppableRects:g,measureDroppableContainers:f,measuringScheduled:null!=a}}(re,{dragging:R,dependencies:[H.x,H.y],config:se.droppable}),fe=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return y(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(L,P),me=(0,r.useMemo)(()=>J?E(J):null,[J]),ve=function(){const e=!1===(null==q?void 0:q.autoScrollEnabled),t="object"==typeof u?!1===u.enabled:!1===u,n=R&&!e&&!t;if("object"==typeof u)return{...u,enabled:n};return{enabled:n}}(),ye=function(e,t){return Ue(e,t)}(fe,se.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:o,config:i=!0}=e;const a=(0,r.useRef)(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;m(()=>{if(!s&&!l||!t)return void(a.current=!1);if(a.current||!o)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=G(n(e),o);if(s||(r.x=0),l||(r.y=0),a.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=ie(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,s,l,o,n])}({activeNode:null!=P?L.get(P):null,config:ve.layoutShiftCompensation,initialRect:ye,measure:se.draggable.measure});const we=qe(fe,se.draggable.measure,ye),ke=qe(fe?fe.parentElement:null),xe=(0,r.useRef)({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=j.getNodeFor(null==(t=xe.current.over)?void 0:t.id),Se=function(e){let{measure:t}=e;const[n,o]=(0,r.useState)(null),i=We({callback:(0,r.useCallback)(e=>{for(const{target:n}of e)if(p(n)){o(e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),a=(0,r.useCallback)(e=>{const n=Xe(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),o(n?t(n):null)},[t,i]),[s,l]=b(a);return(0,r.useMemo)(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}({measure:se.dragOverlay.measure}),Me=null!=(n=Se.nodeRef.current)?n:fe,De=R?null!=(o=Se.rect)?o:we:null,Ee=Boolean(Se.nodeRef.current&&Se.rect),Te=G(_e=Ee?null:we,Ue(_e));var _e;const Oe=Qe(Me?d(Me):null),Ae=function(e){const t=(0,r.useRef)(e),n=y(n=>e?n&&n!==Ke&&e&&t.current&&e.parentNode===t.current.parentNode?n:oe(e):Ke,[e]);return(0,r.useEffect)(()=>{t.current=e},[e]),n}(R?null!=Ce?Ce:fe:null),Ne=function(e,t){void 0===t&&(t=ne);const[n]=e,o=Qe(n?d(n):null),[i,a]=(0,r.useState)(Ge);function s(){a(()=>e.length?e.map(e=>ue(e)?o:new be(t(e),e)):Ge)}const l=We({callback:s});return m(()=>{null==l||l.disconnect(),s(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),i}(Ae),Re=dt(k,{transform:{x:H.x-Te.x,y:H.y-Te.y,scaleX:1,scaleY:1},activatorEvent:J,active:U,activeNodeRect:we,containerNodeRect:ke,draggingNodeRect:De,over:xe.current.over,overlayNodeRect:Se.rect,scrollableAncestors:Ae,scrollableAncestorRects:Ne,windowRect:Oe}),Ie=me?S(me,H):null,Pe=function(e){const[t,n]=(0,r.useState)(null),o=(0,r.useRef)(e),i=(0,r.useCallback)(e=>{const t=ae(e.target);t&&n(e=>e?(e.set(t,ce(t)),new Map(e)):null)},[]);return(0,r.useEffect)(()=>{const t=o.current;if(e!==t){r(t);const a=e.map(e=>{const t=ae(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,ce(t)]):null}).filter(e=>null!=e);n(a.length?new Map(a):null),o.current=e}return()=>{r(e),r(t)};function r(e){e.forEach(e=>{const t=ae(e);null==t||t.removeEventListener("scroll",i)})}},[i,e]),(0,r.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>S(e,t),B):ge(e):B,[e,t])}(Ae),Le=Je(Pe),ze=Je(Pe,[we]),Fe=S(Re,Le),je=De?Z(De,Re):null,$e=U&&je?g({active:U,collisionRect:je,droppableRects:de,droppableContainers:re,pointerCoordinates:Ie}):null,Ye=Y($e,"id"),[nt,rt]=(0,r.useState)(null),ot=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Ee?Re:S(Re,ze),null!=(i=null==nt?void 0:nt.rect)?i:null,we),ht=(0,r.useRef)(null),ft=(0,r.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==W.current)return;const o=L.get(W.current);if(!o)return;const i=e.nativeEvent,s=new n({active:W.current,activeNode:o,event:i,options:r,context:xe,onAbort(e){if(!L.get(e))return;const{onDragAbort:t}=ee.current,n={id:e};null==t||t(n),_({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!L.get(e))return;const{onDragPending:o}=ee.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==o||o(i),_({type:"onDragPending",event:i})},onStart(e){const t=W.current;if(null==t)return;const n=L.get(t);if(!n)return;const{onDragStart:r}=ee.current,o={activatorEvent:i,active:{id:t,data:n.data,rect:V}};(0,a.unstable_batchedUpdates)(()=>{null==r||r(o),N(pt.Initializing),T({type:F.DragStart,initialCoordinates:e,active:t}),_({type:"onDragStart",event:o}),K(ht.current),X(i)})},onMove(e){T({type:F.DragMove,coordinates:e})},onEnd:l(F.DragEnd),onCancel:l(F.DragCancel)});function l(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=xe.current;let s=null;if(t&&o){const{cancelDrop:a}=ee.current;if(s={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===F.DragEnd&&"function"==typeof a){await Promise.resolve(a(s))&&(e=F.DragCancel)}}W.current=null,(0,a.unstable_batchedUpdates)(()=>{T({type:e}),N(pt.Uninitialized),rt(null),K(null),X(null),ht.current=null;const t=e===F.DragEnd?"onDragEnd":"onDragCancel";if(s){const e=ee.current[t];null==e||e(s),_({type:t,event:s})}})}}ht.current=s},[L]),mt=(0,r.useCallback)((e,t)=>(n,r)=>{const o=n.nativeEvent,i=L.get(r);if(null!==W.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},W.current=r,ft(n,t))},[L,ft]),gt=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(f,mt);!function(e){(0,r.useEffect)(()=>{if(!s)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(f),m(()=>{we&&A===pt.Initializing&&N(pt.Initialized)},[we,A]),(0,r.useEffect)(()=>{const{onDragMove:e}=ee.current,{active:t,activatorEvent:n,collisions:r,over:o}=xe.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:Fe.x,y:Fe.y},over:o};(0,a.unstable_batchedUpdates)(()=>{null==e||e(i),_({type:"onDragMove",event:i})})},[Fe.x,Fe.y]),(0,r.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=xe.current;if(!e||null==W.current||!t||!o)return;const{onDragOver:i}=ee.current,s=r.get(Ye),l=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:l};(0,a.unstable_batchedUpdates)(()=>{rt(l),null==i||i(c),_({type:"onDragOver",event:c})})},[Ye]),m(()=>{xe.current={activatorEvent:J,active:U,activeNode:fe,collisionRect:je,collisions:$e,droppableRects:de,draggableNodes:L,draggingNode:Me,draggingNodeRect:De,droppableContainers:j,over:nt,scrollableAncestors:Ae,scrollAdjustedTranslate:Fe},V.current={initial:De,translated:je}},[U,fe,$e,je,L,Me,De,de,j,nt,Ae,Fe]),He({...ve,delta:H,draggingRect:je,pointerCoordinates:Ie,scrollableAncestors:Ae,scrollableAncestorRects:Ne});const vt=(0,r.useMemo)(()=>({active:U,activeNode:fe,activeNodeRect:we,activatorEvent:J,collisions:$e,containerNodeRect:ke,dragOverlay:Se,draggableNodes:L,droppableContainers:j,droppableRects:de,over:nt,measureDroppableContainers:pe,scrollableAncestors:Ae,scrollableAncestorRects:Ne,measuringConfiguration:se,measuringScheduled:he,windowRect:Oe}),[U,fe,we,J,$e,ke,Se,L,j,de,nt,pe,Ae,Ne,se,he,Oe]),yt=(0,r.useMemo)(()=>({activatorEvent:J,activators:gt,active:U,activeNodeRect:we,ariaDescribedById:{draggable:te},dispatch:T,draggableNodes:L,over:nt,measureDroppableContainers:pe}),[J,gt,U,we,T,te,L,nt,pe]);return r.createElement(I.Provider,{value:O},r.createElement(it.Provider,{value:yt},r.createElement(at.Provider,{value:vt},r.createElement(ut.Provider,{value:ot},h)),r.createElement(ct,{disabled:!1===(null==c?void 0:c.restoreFocus)})),r.createElement(z,{...c,hiddenTextDescribedById:te}))}),ft=(0,r.createContext)(null),mt="button";function gt(e){let{id:t,data:n,disabled:o=!1,attributes:i}=e;const a=x("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:p,over:h}=(0,r.useContext)(it),{role:f=mt,roleDescription:g="draggable",tabIndex:y=0}=null!=i?i:{},w=(null==c?void 0:c.id)===t,k=(0,r.useContext)(w?ut:ft),[C,S]=b(),[M,D]=b(),E=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=e=>{o(e,t)},e},{}),[e,t])}(s,t),T=v(n);m(()=>(p.set(t,{id:t,key:a,node:C,activatorNode:M,data:T}),()=>{const e=p.get(t);e&&e.key===a&&p.delete(t)}),[p,t]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:(0,r.useMemo)(()=>({role:f,tabIndex:y,"aria-disabled":o,"aria-pressed":!(!w||f!==mt)||void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[o,f,y,w,g,u.draggable]),isDragging:w,listeners:o?void 0:E,node:C,over:h,setNodeRef:S,setActivatorNodeRef:D,transform:k}}function vt(){return(0,r.useContext)(at)}const yt={timeout:25};function bt(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const wt=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return n&&t?bt(r,n,t):r},kt=e=>{let{transform:t}=e;return{...t,x:0}};function xt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ct(e,t){return e.reduce((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e},Array(e.length))}function St(e){return null!==e&&e>=0}const Mt=({rects:e,activeIndex:t,overIndex:n,index:r})=>{const o=xt(e,n,t),i=e[r],a=o[r];return a&&i?{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}:null},Dt={scaleX:1,scaleY:1},Et=({activeIndex:e,activeNodeRect:t,index:n,rects:r,overIndex:o})=>{var i;const a=null!=(i=r[e])?i:t;if(!a)return null;if(n===e){const t=r[o];return t?{x:0,y:e<o?t.top+t.height-(a.top+a.height):t.top-a.top,...Dt}:null}const s=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];if(!r)return 0;if(n<t)return o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0;return i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0}(r,n,e);return n>e&&n<=o?{x:0,y:-a.height-s,...Dt}:n<e&&n>=o?{x:0,y:a.height+s,...Dt}:{x:0,y:0,...Dt}};const Tt="Sortable",_t=r.createContext({activeIndex:-1,containerId:Tt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mt});function Ot({children:e,id:t,items:n,strategy:o=Mt}){const{active:i,dragOverlay:a,droppableRects:s,over:l,measureDroppableContainers:c,measuringScheduled:d}=vt(),u=x(Tt,t),p=Boolean(null!==a.rect),h=(0,r.useMemo)(()=>n.map(e=>"string"==typeof e?e:e.id),[n]),f=null!=i,g=i?h.indexOf(i.id):-1,v=l?h.indexOf(l.id):-1,y=(0,r.useRef)(h),b=(w=h,k=y.current,!(w.join()===k.join()));var w,k;const C=-1!==v&&-1===g||b;m(()=>{b&&f&&!d&&c(h)},[b,h,f,c,d]),(0,r.useEffect)(()=>{y.current=h},[h]);const S=(0,r.useMemo)(()=>({activeIndex:g,containerId:u,disableTransforms:C,items:h,overIndex:v,useDragOverlay:p,sortedRects:Ct(h,s),strategy:o}),[g,u,C,h,v,s,p,o]);return r.createElement(_t.Provider,{value:S},e)}const At=({id:e,items:t,activeIndex:n,overIndex:r})=>xt(t,n,r).indexOf(e),Nt=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:i,previousItems:a,previousContainerId:s,transition:l})=>!(!l||!n)&&((a===o||r!==i)&&(!!t||i!==r&&e===s)),Rt={duration:200,easing:"ease"},It="transform",Pt=T.Transition.toString({property:It,duration:0,easing:"linear"}),Lt={roleDescription:"sortable"};function zt({animateLayoutChanges:e=Nt,attributes:t,disabled:n,data:o,getNewIndex:i=At,id:a,strategy:s,resizeObserverConfig:l,transition:c=Rt}){const{items:d,containerId:u,activeIndex:p,disableTransforms:h,sortedRects:f,overIndex:g,useDragOverlay:y,strategy:w}=(0,r.useContext)(_t),k=d.indexOf(a),C=(0,r.useMemo)(()=>({sortable:{containerId:u,index:k,items:d},...o}),[u,o,k,d]),S=(0,r.useMemo)(()=>d.slice(d.indexOf(a)),[d,a]),{rect:M,node:E,isOver:_,setNodeRef:O}=function(e){let{data:t,disabled:n=!1,id:o,resizeObserverConfig:i}=e;const a=x("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:d}=(0,r.useContext)(it),u=(0,r.useRef)({disabled:n}),p=(0,r.useRef)(!1),h=(0,r.useRef)(null),f=(0,r.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:y}={...yt,...i},w=v(null!=g?g:o),k=We({callback:(0,r.useCallback)(()=>{p.current?(null!=f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{d(Array.isArray(w.current)?w.current:[w.current]),f.current=null},y)):p.current=!0},[y]),disabled:m||!s}),C=(0,r.useCallback)((e,t)=>{k&&(t&&(k.unobserve(t),p.current=!1),e&&k.observe(e))},[k]),[S,M]=b(C),D=v(t);return(0,r.useEffect)(()=>{k&&S.current&&(k.disconnect(),p.current=!1,k.observe(S.current))},[S,k]),(0,r.useEffect)(()=>(l({type:F.RegisterDroppable,element:{id:o,key:a,disabled:n,node:S,rect:h,data:D}}),()=>l({type:F.UnregisterDroppable,key:a,id:o})),[o]),(0,r.useEffect)(()=>{n!==u.current.disabled&&(l({type:F.SetDroppableDisabled,id:o,key:a,disabled:n}),u.current.disabled=n)},[o,a,n,l]),{active:s,rect:h,isOver:(null==c?void 0:c.id)===o,node:S,over:c,setNodeRef:M}}({id:a,data:C,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:A,activatorEvent:N,activeNodeRect:R,attributes:I,setNodeRef:P,listeners:L,isDragging:z,over:H,transform:j}=gt({id:a,data:C,attributes:{...Lt,...t},disabled:n}),B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(O,P),$=Boolean(A),V=$&&!h&&St(p)&&St(g),U=!y&&z,W=U&&V?j:null,Y=V?null!=W?W:(null!=s?s:w)({rects:f,activeNodeRect:R,activeIndex:p,overIndex:g,index:k}):null,q=St(p)&&St(g)?i({id:a,items:d,activeIndex:p,overIndex:g}):k,K=null==A?void 0:A.id,J=(0,r.useRef)({activeId:K,items:d,newIndex:q,containerId:u}),Q=d!==J.current.items,G=e({active:A,containerId:u,isDragging:z,isSorting:$,id:a,index:k,items:d,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:c,wasDragging:null!=J.current.activeId}),X=function({disabled:e,index:t,node:n,rect:o}){const[i,a]=(0,r.useState)(null),s=(0,r.useRef)(t);return m(()=>{if(!e&&t!==s.current&&n.current){const e=o.current;if(e){const t=ne(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&a(r)}}t!==s.current&&(s.current=t)},[e,t,n,o]),(0,r.useEffect)(()=>{i&&requestAnimationFrame(()=>{a(null)})},[i]),i}({disabled:!G,index:k,node:E,rect:M});return(0,r.useEffect)(()=>{$&&J.current.newIndex!==q&&(J.current.newIndex=q),u!==J.current.containerId&&(J.current.containerId=u),d!==J.current.items&&(J.current.items=d),K!==J.current.activeId&&(J.current.activeId=K)},[K,$,q,u,d]),{active:A,activeIndex:p,attributes:I,rect:M,index:k,newIndex:q,items:d,isOver:_,isSorting:$,isDragging:z,listeners:L,node:E,overIndex:g,over:H,setNodeRef:B,setDroppableNodeRef:O,setDraggableNodeRef:P,transform:null!=X?X:Y,transition:function(){if(X||Q&&J.current.newIndex===k)return Pt;if(U&&!D(N)||!c)return;if($||G)return T.Transition.toString({...c,property:It});return}()}}const Ft=[Ce.Down,Ce.Right,Ce.Up,Ce.Left],Ht=(e,{context:{active:t,droppableContainers:n,collisionRect:r,scrollableAncestors:o}})=>{if(Ft.includes(e.code)){if(e.preventDefault(),!t||!r)return;const i=[];n.getEnabled().forEach(t=>{if(!t||(null==t?void 0:t.disabled))return;const n=null==t?void 0:t.rect.current;if(n)switch(e.code){case Ce.Down:r.top+r.height<=n.top&&i.push(t);break;case Ce.Up:r.top>=n.top+n.height&&i.push(t);break;case Ce.Left:r.left>=n.left+n.width&&i.push(t);break;case Ce.Right:r.left+r.width<=n.left&&i.push(t)}});const a=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=W(t),i=[];for(const a of r){const{id:e}=a,t=n.get(e);if(t){const n=W(t),r=o.reduce((e,t,r)=>e+$(n[r],t),0),s=Number((r/4).toFixed(4));i.push({id:e,data:{droppableContainer:a,value:s}})}}return i.sort(V)})({active:t,collisionRect:r,droppableContainers:i,pointerCoordinates:null}),s=Y(a,"id");if(null!=s){const e=n.get(s),t=null==e?void 0:e.node.current,i=null==e?void 0:e.rect.current;if(t&&i){const e=oe(t).some((e,t)=>o[t]!==e),n=e?{x:0,y:0}:{x:r.width-i.width,y:r.height-i.height};return{x:i.left-n.x,y:i.top-n.y}}}}};var jt=n(8420);var Bt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Ol){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),$t=Math.abs,Vt=String.fromCharCode,Ut=Object.assign;function Wt(e){return e.trim()}function Yt(e,t,n){return e.replace(t,n)}function qt(e,t){return e.indexOf(t)}function Kt(e,t){return 0|e.charCodeAt(t)}function Jt(e,t,n){return e.slice(t,n)}function Qt(e){return e.length}function Gt(e){return e.length}function Xt(e,t){return t.push(e),e}var Zt=1,en=1,tn=0,nn=0,rn=0,on="";function an(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Zt,column:en,length:a,return:""}}function sn(e,t){return Ut(an("",null,null,"",null,null,0),e,{length:-e.length},t)}function ln(){return rn=nn>0?Kt(on,--nn):0,en--,10===rn&&(en=1,Zt--),rn}function cn(){return rn=nn<tn?Kt(on,nn++):0,en++,10===rn&&(en=1,Zt++),rn}function dn(){return Kt(on,nn)}function un(){return nn}function pn(e,t){return Jt(on,e,t)}function hn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fn(e){return Zt=en=1,tn=Qt(on=e),nn=0,[]}function mn(e){return on="",e}function gn(e){return Wt(pn(nn-1,bn(91===e?e+2:40===e?e+1:e)))}function vn(e){for(;(rn=dn())&&rn<33;)cn();return hn(e)>2||hn(rn)>3?"":" "}function yn(e,t){for(;--t&&cn()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return pn(e,un()+(t<6&&32==dn()&&32==cn()))}function bn(e){for(;cn();)switch(rn){case e:return nn;case 34:case 39:34!==e&&39!==e&&bn(rn);break;case 40:41===e&&bn(e);break;case 92:cn()}return nn}function wn(e,t){for(;cn()&&e+rn!==57&&(e+rn!==84||47!==dn()););return"/*"+pn(t,nn-1)+"*"+Vt(47===e?e:cn())}function kn(e){for(;!hn(dn());)cn();return pn(e,nn)}var xn="-ms-",Cn="-moz-",Sn="-webkit-",Mn="comm",Dn="rule",En="decl",Tn="@keyframes";function _n(e,t){for(var n="",r=Gt(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function On(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case En:return e.return=e.return||e.value;case Mn:return"";case Tn:return e.return=e.value+"{"+_n(e.children,r)+"}";case Dn:e.value=e.props.join(",")}return Qt(n=_n(e.children,r))?e.return=e.value+"{"+n+"}":""}function An(e){return mn(Nn("",null,null,null,[""],e=fn(e),0,[0],e))}function Nn(e,t,n,r,o,i,a,s,l){for(var c=0,d=0,u=a,p=0,h=0,f=0,m=1,g=1,v=1,y=0,b="",w=o,k=i,x=r,C=b;g;)switch(f=y,y=cn()){case 40:if(108!=f&&58==Kt(C,u-1)){-1!=qt(C+=Yt(gn(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:C+=gn(y);break;case 9:case 10:case 13:case 32:C+=vn(f);break;case 92:C+=yn(un()-1,7);continue;case 47:switch(dn()){case 42:case 47:Xt(In(wn(cn(),un()),t,n),l);break;default:C+="/"}break;case 123*m:s[c++]=Qt(C)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==v&&(C=Yt(C,/\f/g,"")),h>0&&Qt(C)-u&&Xt(h>32?Pn(C+";",r,n,u-1):Pn(Yt(C," ","")+";",r,n,u-2),l);break;case 59:C+=";";default:if(Xt(x=Rn(C,t,n,c,d,o,s,b,w=[],k=[],u),i),123===y)if(0===d)Nn(C,t,x,x,w,i,u,s,k);else switch(99===p&&110===Kt(C,3)?100:p){case 100:case 108:case 109:case 115:Nn(e,x,x,r&&Xt(Rn(e,x,x,0,0,o,s,b,o,w=[],u),k),o,k,u,s,r?w:k);break;default:Nn(C,x,x,x,[""],k,0,s,k)}}c=d=h=0,m=v=1,b=C="",u=a;break;case 58:u=1+Qt(C),h=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ln())continue;switch(C+=Vt(y),y*m){case 38:v=d>0?1:(C+="\f",-1);break;case 44:s[c++]=(Qt(C)-1)*v,v=1;break;case 64:45===dn()&&(C+=gn(cn())),p=dn(),d=u=Qt(b=C+=kn(un())),y++;break;case 45:45===f&&2==Qt(C)&&(m=0)}}return i}function Rn(e,t,n,r,o,i,a,s,l,c,d){for(var u=o-1,p=0===o?i:[""],h=Gt(p),f=0,m=0,g=0;f<r;++f)for(var v=0,y=Jt(e,u+1,u=$t(m=a[f])),b=e;v<h;++v)(b=Wt(m>0?p[v]+" "+y:Yt(y,/&\f/g,p[v])))&&(l[g++]=b);return an(e,t,n,0===o?Dn:s,l,c,d)}function In(e,t,n){return an(e,t,n,Mn,Vt(rn),Jt(e,2,-2),0)}function Pn(e,t,n,r){return an(e,t,n,En,Jt(e,0,r),Jt(e,r+1,-1),r)}var Ln=function(e,t,n){for(var r=0,o=0;r=o,o=dn(),38===r&&12===o&&(t[n]=1),!hn(o);)cn();return pn(e,nn)},zn=function(e,t){return mn(function(e,t){var n=-1,r=44;do{switch(hn(r)){case 0:38===r&&12===dn()&&(t[n]=1),e[n]+=Ln(nn-1,t,n);break;case 2:e[n]+=gn(r);break;case 4:if(44===r){e[++n]=58===dn()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Vt(r)}}while(r=cn());return e}(fn(e),t))},Fn=new WeakMap,Hn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Fn.get(n))&&!r){Fn.set(e,!0);for(var o=[],i=zn(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},jn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Bn(e,t){switch(function(e,t){return 45^Kt(e,0)?(((t<<2^Kt(e,0))<<2^Kt(e,1))<<2^Kt(e,2))<<2^Kt(e,3):0}(e,t)){case 5103:return Sn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sn+e+Cn+e+xn+e+e;case 6828:case 4268:return Sn+e+xn+e+e;case 6165:return Sn+e+xn+"flex-"+e+e;case 5187:return Sn+e+Yt(e,/(\w+).+(:[^]+)/,Sn+"box-$1$2"+xn+"flex-$1$2")+e;case 5443:return Sn+e+xn+"flex-item-"+Yt(e,/flex-|-self/,"")+e;case 4675:return Sn+e+xn+"flex-line-pack"+Yt(e,/align-content|flex-|-self/,"")+e;case 5548:return Sn+e+xn+Yt(e,"shrink","negative")+e;case 5292:return Sn+e+xn+Yt(e,"basis","preferred-size")+e;case 6060:return Sn+"box-"+Yt(e,"-grow","")+Sn+e+xn+Yt(e,"grow","positive")+e;case 4554:return Sn+Yt(e,/([^-])(transform)/g,"$1"+Sn+"$2")+e;case 6187:return Yt(Yt(Yt(e,/(zoom-|grab)/,Sn+"$1"),/(image-set)/,Sn+"$1"),e,"")+e;case 5495:case 3959:return Yt(e,/(image-set\([^]*)/,Sn+"$1$`$1");case 4968:return Yt(Yt(e,/(.+:)(flex-)?(.*)/,Sn+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sn+e+e;case 4095:case 3583:case 4068:case 2532:return Yt(e,/(.+)-inline(.+)/,Sn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qt(e)-1-t>6)switch(Kt(e,t+1)){case 109:if(45!==Kt(e,t+4))break;case 102:return Yt(e,/(.+:)(.+)-([^]+)/,"$1"+Sn+"$2-$3$1"+Cn+(108==Kt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qt(e,"stretch")?Bn(Yt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Kt(e,t+1))break;case 6444:switch(Kt(e,Qt(e)-3-(~qt(e,"!important")&&10))){case 107:return Yt(e,":",":"+Sn)+e;case 101:return Yt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sn+(45===Kt(e,14)?"inline-":"")+"box$3$1"+Sn+"$2$3$1"+xn+"$2box$3")+e}break;case 5936:switch(Kt(e,t+11)){case 114:return Sn+e+xn+Yt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sn+e+xn+Yt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sn+e+xn+Yt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Sn+e+xn+e+e}return e}var $n=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case En:e.return=Bn(e.value,e.length);break;case Tn:return _n([sn(e,{value:Yt(e.value,"@","@"+Sn)})],r);case Dn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _n([sn(e,{props:[Yt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return _n([sn(e,{props:[Yt(t,/:(plac\w+)/,":"+Sn+"input-$1")]}),sn(e,{props:[Yt(t,/:(plac\w+)/,":-moz-$1")]}),sn(e,{props:[Yt(t,/:(plac\w+)/,xn+"input-$1")]})],r)}return""})}}],Vn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,o,i=e.stylisPlugins||$n,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)});var l,c,d,u,p=[On,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=(c=[Hn,jn].concat(i,p),d=Gt(c),function(e,t,n,r){for(var o="",i=0;i<d;i++)o+=c[i](e,t,n,r)||"";return o});o=function(e,t,n,r){l=n,_n(An(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Bt({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};function Un(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var Wn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Yn=function(e,t,n){Wn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var qn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Kn(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Jn=/[A-Z]|^ms/g,Qn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gn=function(e){return 45===e.charCodeAt(1)},Xn=function(e){return null!=e&&"boolean"!=typeof e},Zn=Kn(function(e){return Gn(e)?e:e.replace(Jn,"-$&").toLowerCase()}),er=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Qn,function(e,t,n){return nr={name:t,styles:n,next:nr},t})}return 1===qn[e]||Gn(e)||"number"!=typeof t||0===t?t:t+"px"};function tr(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return nr={name:o.name,styles:o.styles,next:nr},o.name;var i=n;if(void 0!==i.styles){var a=i.next;if(void 0!==a)for(;void 0!==a;)nr={name:a.name,styles:a.styles,next:nr},a=a.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=tr(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a){var s=a;null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":Xn(s)&&(r+=Zn(i)+":"+er(i,s)+";")}else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=tr(e,t,a);switch(i){case"animation":case"animationName":r+=Zn(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Xn(a[c])&&(r+=Zn(i)+":"+er(i,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=nr,l=n(e);return nr=s,tr(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var nr,rr=/label:\s*([^\s;{]+)\s*(;|$)/g;function or(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";nr=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=tr(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++){if(o+=tr(n,t,e[a]),r)o+=i[a]}rr.lastIndex=0;for(var s,l="";null!==(s=rr.exec(o));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:nr}}var ir=!!o.useInsertionEffect&&o.useInsertionEffect,ar=ir||function(e){return e()},sr=ir||r.useLayoutEffect,lr=r.createContext("undefined"!=typeof HTMLElement?Vn({key:"css"}):null),cr=lr.Provider,dr=function(e){return(0,r.forwardRef)(function(t,n){var o=(0,r.useContext)(lr);return e(t,o,n)})},ur=r.createContext({});var pr={}.hasOwnProperty,hr="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fr=function(e,t){var n={};for(var r in t)pr.call(t,r)&&(n[r]=t[r]);return n[hr]=e,n},mr=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Wn(t,n,r),ar(function(){return Yn(t,n,r)}),null},gr=dr(function(e,t,n){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[hr],a=[o],s="";"string"==typeof e.className?s=Un(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=or(a,void 0,r.useContext(ur));s+=t.key+"-"+l.name;var c={};for(var d in e)pr.call(e,d)&&"css"!==d&&d!==hr&&(c[d]=e[d]);return c.className=s,n&&(c.ref=n),r.createElement(r.Fragment,null,r.createElement(mr,{cache:t,serialized:l,isStringTag:"string"==typeof i}),r.createElement(i,c))}),vr=gr,yr=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,br=Kn(function(e){return yr.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),wr=function(e){return"theme"!==e},kr=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?br:wr},xr=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},Cr=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Wn(t,n,r),ar(function(){return Yn(t,n,r)}),null},Sr=function e(t,n){var o,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,i=n.target);var l=xr(t,n,a),c=l||kr(s),d=!c("as");return function(){var u=arguments,p=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&p.push("label:"+o+";"),null==u[0]||void 0===u[0].raw)p.push.apply(p,u);else{var h=u[0];p.push(h[0]);for(var f=u.length,m=1;m<f;m++)p.push(u[m],h[m])}var g=dr(function(e,t,n){var o=d&&e.as||s,a="",u=[],h=e;if(null==e.theme){for(var f in h={},e)h[f]=e[f];h.theme=r.useContext(ur)}"string"==typeof e.className?a=Un(t.registered,u,e.className):null!=e.className&&(a=e.className+" ");var m=or(p.concat(u),t.registered,h);a+=t.key+"-"+m.name,void 0!==i&&(a+=" "+i);var g=d&&void 0===l?kr(o):c,v={};for(var y in e)d&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,n&&(v.ref=n),r.createElement(r.Fragment,null,r.createElement(Cr,{cache:t,serialized:m,isStringTag:"string"==typeof o}),r.createElement(o,v))});return g.displayName=void 0!==o?o:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=p,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,r){return e(t,(0,jt.A)({},n,r,{shouldForwardProp:xr(g,r,!0)})).apply(void 0,p)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){Sr[e]=Sr(e)});var Mr=n(6106),Dr=(n(3871),Mr.Fragment),Er=function(e,t,n){return pr.call(t,"css")?Mr.jsx(vr,fr(e,t),n):Mr.jsx(e,t,n)},Tr=function(e,t,n){return pr.call(t,"css")?Mr.jsxs(vr,fr(e,t),n):Mr.jsxs(e,t,n)},_r=n(6341),Or=n(9982),Ar="tippy-content",Nr="tippy-backdrop",Rr="tippy-arrow",Ir="tippy-svg-arrow",Pr={passive:!0,capture:!0},Lr=function(){return document.body};function zr(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function Fr(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Hr(e,t){return"function"==typeof e?e.apply(void 0,t):e}function jr(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)};var n}function Br(e){return[].concat(e)}function $r(e,t){-1===e.indexOf(t)&&e.push(t)}function Vr(e){return e.split("-")[0]}function Ur(e){return[].slice.call(e)}function Wr(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function Yr(){return document.createElement("div")}function qr(e){return["Element","Fragment"].some(function(t){return Fr(e,t)})}function Kr(e){return Fr(e,"MouseEvent")}function Jr(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Qr(e){return qr(e)?[e]:function(e){return Fr(e,"NodeList")}(e)?Ur(e):Array.isArray(e)?e:Ur(document.querySelectorAll(e))}function Gr(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function Xr(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function Zr(e){var t,n=Br(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function eo(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[r](t,n)})}function to(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var no={isTouch:!1},ro=0;function oo(){no.isTouch||(no.isTouch=!0,window.performance&&document.addEventListener("mousemove",io))}function io(){var e=performance.now();e-ro<20&&(no.isTouch=!1,document.removeEventListener("mousemove",io)),ro=e}function ao(){var e=document.activeElement;if(Jr(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var so=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var lo={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},co=Object.assign({appendTo:Lr,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},lo,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),uo=Object.keys(co);function po(e){var t=(e.plugins||[]).reduce(function(t,n){var r,o=n.name,i=n.defaultValue;o&&(t[o]=void 0!==e[o]?e[o]:null!=(r=co[o])?r:i);return t},{});return Object.assign({},e,t)}function ho(e,t){var n=Object.assign({},t,{content:Hr(t.content,[e])},t.ignoreAttributes?{}:function(e,t){var n=(t?Object.keys(po(Object.assign({},co,{plugins:t}))):uo).reduce(function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(Ol){t[n]=r}return t},{});return n}(e,t.plugins));return n.aria=Object.assign({},co.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function fo(e,t){e.innerHTML=t}function mo(e){var t=Yr();return!0===e?t.className=Rr:(t.className=Ir,qr(e)?t.appendChild(e):fo(t,e)),t}function go(e,t){qr(t.content)?(fo(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?fo(e,t.content):e.textContent=t.content)}function vo(e){var t=e.firstElementChild,n=Ur(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(Ar)}),arrow:n.find(function(e){return e.classList.contains(Rr)||e.classList.contains(Ir)}),backdrop:n.find(function(e){return e.classList.contains(Nr)})}}function yo(e){var t=Yr(),n=Yr();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Yr();function o(n,r){var o=vo(t),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||go(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(mo(r.arrow))):i.appendChild(mo(r.arrow)):s&&i.removeChild(s)}return r.className=Ar,r.setAttribute("data-state","hidden"),go(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props),{popper:t,onUpdate:o}}yo.$$tippy=!0;var bo=1,wo=[],ko=[];function xo(e,t){var n,r,o,i,a,s,l,c,d=ho(e,Object.assign({},co,po(Wr(t)))),u=!1,p=!1,h=!1,f=!1,m=[],g=jr(q,d.interactiveDebounce),v=bo++,y=(c=d.plugins).filter(function(e,t){return c.indexOf(e)===t}),b={id:v,reference:e,popper:Yr(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(t){0;if(b.state.isDestroyed)return;R("onBeforeUpdate",[b,t]),W();var n=b.props,r=ho(e,Object.assign({},n,Wr(t),{ignoreAttributes:!0}));b.props=r,U(),n.interactiveDebounce!==r.interactiveDebounce&&(L(),g=jr(q,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Br(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):r.triggerTarget&&e.removeAttribute("aria-expanded");P(),N(),x&&x(n,r);b.popperInstance&&(G(),Z().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}));R("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=no.isTouch&&!b.props.touch,o=zr(b.props.duration,0,co.duration);if(e||t||n||r)return;if(T().hasAttribute("disabled"))return;if(R("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,E()&&(k.style.visibility="visible");N(),j(),b.state.isMounted||(k.style.transition="none");if(E()){var i=O();Gr([i.box,i.content],0)}s=function(){var e;if(b.state.isVisible&&!f){if(f=!0,k.offsetHeight,k.style.transition=b.props.moveTransition,E()&&b.props.animation){var t=O(),n=t.box,r=t.content;Gr([n,r],o),Xr([n,r],"visible")}I(),P(),$r(ko,b),null==(e=b.popperInstance)||e.forceUpdate(),R("onMount",[b]),b.props.animation&&E()&&function(e,t){$(e,t)}(o,function(){b.state.isShown=!0,R("onShown",[b])})}},function(){var e,t=b.props.appendTo,n=T();e=b.props.interactive&&t===Lr||"parent"===t?n.parentNode:Hr(t,[n]);e.contains(k)||e.appendChild(k);b.state.isMounted=!0,G(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=zr(b.props.duration,1,co.duration);if(e||t||n)return;if(R("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,f=!1,u=!1,E()&&(k.style.visibility="hidden");if(L(),B(),N(!0),E()){var o=O(),i=o.box,a=o.content;b.props.animation&&(Gr([i,a],r),Xr([i,a],"hidden"))}I(),P(),b.props.animation?E()&&function(e,t){$(e,function(){!b.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&t()})}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;_().addEventListener("mousemove",g),$r(wo,g),g(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;X(),Z().forEach(function(e){e._tippy.unmount()}),k.parentNode&&k.parentNode.removeChild(k);ko=ko.filter(function(e){return e!==b}),b.state.isMounted=!1,R("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),W(),delete e._tippy,b.state.isDestroyed=!0,R("onDestroy",[b])}};if(!d.render)return b;var w=d.render(b),k=w.popper,x=w.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+b.id,b.popper=k,e._tippy=b,k._tippy=b;var C=y.map(function(e){return e.fn(b)}),S=e.hasAttribute("aria-expanded");return U(),P(),N(),R("onCreate",[b]),d.showOnCreate&&ee(),k.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),k.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&_().addEventListener("mousemove",g)}),b;function M(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function D(){return"hold"===M()[0]}function E(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function T(){return l||e}function _(){var e=T().parentNode;return e?Zr(e):document}function O(){return vo(k)}function A(e){return b.state.isMounted&&!b.state.isVisible||no.isTouch||i&&"focus"===i.type?0:zr(b.props.delay,e?0:1,co.delay)}function N(e){void 0===e&&(e=!1),k.style.pointerEvents=b.props.interactive&&!e?"":"none",k.style.zIndex=""+b.props.zIndex}function R(e,t,n){var r;(void 0===n&&(n=!0),C.forEach(function(n){n[e]&&n[e].apply(n,t)}),n)&&(r=b.props)[e].apply(r,t)}function I(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=k.id;Br(b.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}})}}function P(){!S&&b.props.aria.expanded&&Br(b.props.triggerTarget||e).forEach(function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===T()?"true":"false"):e.removeAttribute("aria-expanded")})}function L(){_().removeEventListener("mousemove",g),wo=wo.filter(function(e){return e!==g})}function z(t){if(!no.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!to(k,n)){if(Br(b.props.triggerTarget||e).some(function(e){return to(e,n)})){if(no.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),p=!0,setTimeout(function(){p=!1}),b.state.isMounted||B())}}}function F(){h=!0}function H(){h=!1}function j(){var e=_();e.addEventListener("mousedown",z,!0),e.addEventListener("touchend",z,Pr),e.addEventListener("touchstart",H,Pr),e.addEventListener("touchmove",F,Pr)}function B(){var e=_();e.removeEventListener("mousedown",z,!0),e.removeEventListener("touchend",z,Pr),e.removeEventListener("touchstart",H,Pr),e.removeEventListener("touchmove",F,Pr)}function $(e,t){var n=O().box;function r(e){e.target===n&&(eo(n,"remove",r),t())}if(0===e)return t();eo(n,"remove",a),eo(n,"add",r),a=r}function V(t,n,r){void 0===r&&(r=!1),Br(b.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,r),m.push({node:e,eventType:t,handler:n,options:r})})}function U(){var e;D()&&(V("touchstart",Y,{passive:!0}),V("touchend",K,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach(function(e){if("manual"!==e)switch(V(e,Y),e){case"mouseenter":V("mouseleave",K);break;case"focus":V(so?"focusout":"blur",J);break;case"focusin":V("focusout",J)}})}function W(){m.forEach(function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)}),m=[]}function Y(e){var t,n=!1;if(b.state.isEnabled&&!Q(e)&&!p){var r="focus"===(null==(t=i)?void 0:t.type);i=e,l=e.currentTarget,P(),!b.state.isVisible&&Kr(e)&&wo.forEach(function(t){return t(e)}),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||u)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(u=!n),n&&!r&&te(e)}}function q(e){var t=e.target,n=T().contains(t)||k.contains(t);if("mousemove"!==e.type||!n){var r=Z().concat(k).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null}).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every(function(e){var t=e.popperRect,o=e.popperState,i=e.props.interactiveBorder,a=Vr(o.placement),s=o.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,d="right"===a?s.left.x:0,u="left"===a?s.right.x:0,p=t.top-r+l>i,h=r-t.bottom-c>i,f=t.left-n+d>i,m=n-t.right-u>i;return p||h||f||m})})(r,e)&&(L(),te(e))}}function K(e){Q(e)||b.props.trigger.indexOf("click")>=0&&u||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function J(e){b.props.trigger.indexOf("focusin")<0&&e.target!==T()||b.props.interactive&&e.relatedTarget&&k.contains(e.relatedTarget)||te(e)}function Q(e){return!!no.isTouch&&D()!==e.type.indexOf("touch")>=0}function G(){X();var t=b.props,n=t.popperOptions,r=t.placement,o=t.offset,i=t.getReferenceClientRect,a=t.moveTransition,l=E()?vo(k).arrow:null,c=i?{getBoundingClientRect:i,contextElement:i.contextElement||T()}:e,d={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=O().box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}},u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},d];E()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=(0,_r.n4)(c,k,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:u}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Z(){return Ur(k.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&R("onTrigger",[b,e]),j();var t=A(!0),r=M(),o=r[0],i=r[1];no.isTouch&&"hold"===o&&i&&(t=i),t?n=setTimeout(function(){b.show()},t):b.show()}function te(e){if(b.clearDelayTimeouts(),R("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=A(!1);t?r=setTimeout(function(){b.state.isVisible&&b.hide()},t):o=requestAnimationFrame(function(){b.hide()})}}else B()}}function Co(e,t){void 0===t&&(t={});var n=co.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",oo,Pr),window.addEventListener("blur",ao);var r=Object.assign({},t,{plugins:n}),o=Qr(e).reduce(function(e,t){var n=t&&xo(t,r);return n&&e.push(n),e},[]);return qr(e)?o[0]:o}Co.defaultProps=co,Co.setDefaultProps=function(e){Object.keys(e).forEach(function(t){co[t]=e[t]})},Co.currentInput=no;Object.assign({},Or.A,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});Co.setDefaultProps({render:yo});const So=Co;function Mo(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Do="undefined"!=typeof window&&"undefined"!=typeof document;function Eo(e,t){e&&("function"==typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function To(){return Do&&document.createElement("div")}function _o(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!_o(e[n],t[n]))return!1}return!0}return!1}function Oo(e){var t=[];return e.forEach(function(e){t.find(function(t){return _o(e,t)})||t.push(e)}),t}function Ao(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Oo([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var No=Do?r.useLayoutEffect:r.useEffect;function Ro(e){var t=(0,r.useRef)();return t.current||(t.current="function"==typeof e?e():e),t.current}function Io(e,t,n){n.split(/\s+/).forEach(function(n){n&&e.classList[t](n)})}var Po={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||Io(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&Io(t,"remove",e.props.className)},onAfterUpdate:r}}};function Lo(e){return function(t){var n=t.children,o=t.content,i=t.visible,s=t.singleton,l=t.render,c=t.reference,d=t.disabled,u=void 0!==d&&d,p=t.ignoreAttributes,h=void 0===p||p,f=(t.__source,t.__self,Mo(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),m=void 0!==i,g=void 0!==s,v=(0,r.useState)(!1),y=v[0],b=v[1],w=(0,r.useState)({}),k=w[0],x=w[1],C=(0,r.useState)(),S=C[0],M=C[1],D=Ro(function(){return{container:To(),renders:1}}),E=Object.assign({ignoreAttributes:h},f,{content:D.container});m&&(E.trigger="manual",E.hideOnClick=!1),g&&(u=!0);var T=E,_=E.plugins||[];l&&(T=Object.assign({},E,{plugins:g&&null!=s.data?[].concat(_,[{fn:function(){return{onTrigger:function(e,t){var n=s.data.children.find(function(e){return e.instance.reference===t.currentTarget});e.state.$$activeSingletonInstance=n.instance,M(n.content)}}}}]):_,render:function(){return{popper:D.container}}}));var O=[c].concat(n?[n.type]:[]);return No(function(){var t=c;c&&c.hasOwnProperty("current")&&(t=c.current);var n=e(t||D.ref||To(),Object.assign({},T,{plugins:[Po].concat(E.plugins||[])}));return D.instance=n,u&&n.disable(),i&&n.show(),g&&s.hook({instance:n,content:o,props:T,setSingletonContent:M}),b(!0),function(){n.destroy(),null==s||s.cleanup(n)}},O),No(function(){var e;if(1!==D.renders){var t=D.instance;t.setProps(Ao(t.props,T)),null==(e=t.popperInstance)||e.forceUpdate(),u?t.disable():t.enable(),m&&(i?t.show():t.hide()),g&&s.hook({instance:t,content:o,props:T,setSingletonContent:M})}else D.renders++}),No(function(){var e;if(l){var t=D.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter(function(e){return"$$tippyReact"!==e.name}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;k.placement===n.placement&&k.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&k.escaped===(null==r?void 0:r.hasPopperEscaped)||x({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}},[k.placement,k.referenceHidden,k.escaped].concat(O)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){D.ref=e,Eo(n.ref,e)}}):null,y&&(0,a.createPortal)(l?l(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(k),S,D.instance):o,D.container))}}var zo=function(e,t){return(0,r.forwardRef)(function(n,o){var i=n.children,a=Mo(n,["children"]);return r.createElement(e,Object.assign({},t,a),i?(0,r.cloneElement)(i,{ref:function(e){Eo(o,e),Eo(i.ref,e)}}):null)})};const Fo=zo(Lo(So));var Ho,jo,Bo=function(e,t){var n=arguments;if(null==t||!pr.call(t,"css"))return r.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=vr,i[1]=fr(e,t);for(var a=2;a<o;a++)i[a]=n[a];return r.createElement.apply(null,i)};Ho=Bo||(Bo={}),jo||(jo=Ho.JSX||(Ho.JSX={}));var $o=dr(function(e,t){var n=or([e.styles],void 0,r.useContext(ur)),o=r.useRef();return sr(function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",e),r.hydrate([a])),o.current=[r,i],function(){r.flush()}},[t]),sr(function(){var e=o.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Yn(t,n.next,!0),r.tags.length){var i=r.tags[r.tags.length-1].nextElementSibling;r.before=i,r.flush()}t.insert("",n,r,!1)}},[t,n.name]),null});function Vo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return or(t)}function Uo(){var e=Vo.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Wo=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};var Yo=function(e){var t=e.cache,n=e.serializedArr;return ar(function(){for(var e=0;e<n.length;e++)Yn(t,n[e],!1)}),null},qo=dr(function(e,t){var n=[],o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=or(r,t.registered);return n.push(i),Wn(t,i,!1),t.key+"-"+i.name},i={css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,t,n){var r=[],o=Un(e,r,n);return r.length<2?n:o+t(r)}(t.registered,o,Wo(n))},theme:r.useContext(ur)},a=e.children(i);return r.createElement(r.Fragment,null,r.createElement(Yo,{cache:t,serializedArr:n}),a)});"undefined"==typeof window||!window.document||window.document.createElement;function Ko(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function Jo(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Qo(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Jo(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Jo(e[t],null)}}}}function Go(...e){return r.useCallback(Qo(...e),e)}function Xo(e,t=[]){let n=[];const o=()=>{const t=n.map(e=>r.createContext(e));return function(n){const o=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:o}}),[n,o])}};return o.scopeName=e,[function(t,o){const i=r.createContext(o),a=n.length;n=[...n,o];const s=t=>{const{scope:n,children:o,...s}=t,l=n?.[e]?.[a]||i,c=r.useMemo(()=>s,Object.values(s));return(0,Mr.jsx)(l.Provider,{value:c,children:o})};return s.displayName=t+"Provider",[s,function(n,s){const l=s?.[e]?.[a]||i,c=r.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Zo(o,...t)]}function Zo(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const o=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ei=globalThis?.document?r.useLayoutEffect:()=>{},ti=o[" useId ".trim().toString()]||(()=>{}),ni=0;function ri(e){const[t,n]=r.useState(ti());return ei(()=>{e||n(e=>e??String(ni++))},[e]),e||(t?`radix-${t}`:"")}var oi=o[" useInsertionEffect ".trim().toString()]||ei;function ii({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[i,a,s]=function({defaultProp:e,onChange:t}){const[n,o]=r.useState(e),i=r.useRef(n),a=r.useRef(t);return oi(()=>{a.current=t},[t]),r.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,o,a]}({defaultProp:t,onChange:n}),l=void 0!==e,c=l?e:i;{const t=r.useRef(void 0!==e);r.useEffect(()=>{const e=t.current;if(e!==l){const t=e?"controlled":"uncontrolled",n=l?"controlled":"uncontrolled";console.warn(`${o} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,o])}const d=r.useCallback(t=>{if(l){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&s.current?.(n)}else a(t)},[l,e,a,s]);return[c,d]}Symbol("RADIX:SYNC_STATE");function ai(e){const t=si(e),n=r.forwardRef((e,n)=>{const{children:o,...i}=e,a=r.Children.toArray(o),s=a.find(ci);if(s){const e=s.props.children,o=a.map(t=>t===s?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,Mr.jsx)(t,{...i,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null})}return(0,Mr.jsx)(t,{...i,ref:n,children:o})});return n.displayName=`${e}.Slot`,n}function si(e){const t=r.forwardRef((e,t)=>{const{children:n,...o}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{const t=i(...e);return o(...e),t}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}(o,n.props);return n.type!==r.Fragment&&(i.ref=t?Qo(t,e):e),r.cloneElement(n,i)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var li=Symbol("radix.slottable");function ci(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===li}var di=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=ai(`Primitive.${t}`),o=r.forwardRef((e,r)=>{const{asChild:o,...i}=e,a=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Mr.jsx)(a,{...i,ref:r})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function ui(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}var pi,hi="dismissableLayer.update",fi="dismissableLayer.pointerDownOutside",mi="dismissableLayer.focusOutside",gi=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vi=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,d=r.useContext(gi),[u,p]=r.useState(null),h=u?.ownerDocument??globalThis?.document,[,f]=r.useState({}),m=Go(t,e=>p(e)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,k=b>=y,x=function(e,t=globalThis?.document){const n=ui(e),o=r.useRef(!1),i=r.useRef(()=>{});return r.useEffect(()=>{const e=e=>{if(e.target&&!o.current){let r=function(){wi(fi,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);o.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}(e=>{const t=e.target,n=[...d.branches].some(e=>e.contains(t));k&&!n&&(i?.(e),s?.(e),e.defaultPrevented||l?.())},h),C=function(e,t=globalThis?.document){const n=ui(e),o=r.useRef(!1);return r.useEffect(()=>{const e=e=>{if(e.target&&!o.current){wi(mi,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(a?.(e),s?.(e),e.defaultPrevented||l?.())},h);return function(e,t=globalThis?.document){const n=ui(e);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{b===d.layers.size-1&&(o?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},h),r.useEffect(()=>{if(u)return n&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(pi=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),bi(),()=>{n&&1===d.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=pi)}},[u,h,n,d]),r.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),bi())},[u,d]),r.useEffect(()=>{const e=()=>f({});return document.addEventListener(hi,e),()=>document.removeEventListener(hi,e)},[]),(0,Mr.jsx)(di.div,{...c,ref:m,style:{pointerEvents:w?k?"auto":"none":void 0,...e.style},onFocusCapture:Ko(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ko(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ko(e.onPointerDownCapture,x.onPointerDownCapture)})});vi.displayName="DismissableLayer";var yi=r.forwardRef((e,t)=>{const n=r.useContext(gi),o=r.useRef(null),i=Go(t,o);return r.useEffect(()=>{const e=o.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,Mr.jsx)(di.div,{...e,ref:i})});function bi(){const e=new CustomEvent(hi);document.dispatchEvent(e)}function wi(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?function(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}(o,i):o.dispatchEvent(i)}yi.displayName="DismissableLayerBranch";var ki="focusScope.autoFocusOnMount",xi="focusScope.autoFocusOnUnmount",Ci={bubbles:!1,cancelable:!0},Si=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=r.useState(null),d=ui(i),u=ui(a),p=r.useRef(null),h=Go(t,e=>c(e)),f=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let e=function(e){if(f.paused||!l)return;const t=e.target;l.contains(t)?p.current=t:Ti(p.current,{select:!0})},t=function(e){if(f.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Ti(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Ti(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[o,l,f.paused]),r.useEffect(()=>{if(l){_i.add(f);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(ki,Ci);l.addEventListener(ki,d),l.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ti(r,{select:t}),document.activeElement!==n)return}((e=Mi(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Ti(l))}return()=>{l.removeEventListener(ki,d),setTimeout(()=>{const e=new CustomEvent(xi,Ci);l.addEventListener(xi,u),l.dispatchEvent(e),e.defaultPrevented||Ti(t??document.body,{select:!0}),l.removeEventListener(xi,u),_i.remove(f)},0)}}var e},[l,d,u,f]);const m=r.useCallback(e=>{if(!n&&!o)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[o,i]=function(e){const t=Mi(e),n=Di(t,e),r=Di(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||r!==i?e.shiftKey&&r===o&&(e.preventDefault(),n&&Ti(i,{select:!0})):(e.preventDefault(),n&&Ti(o,{select:!0})):r===t&&e.preventDefault()}},[n,o,f.paused]);return(0,Mr.jsx)(di.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});function Mi(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Di(e,t){for(const n of e)if(!Ei(n,{upTo:t}))return n}function Ei(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Si.displayName="FocusScope";var _i=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Oi(e,t),e.unshift(t)},remove(t){e=Oi(e,t),e[0]?.resume()}}}();function Oi(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Ai=r.forwardRef((e,t)=>{const{container:n,...o}=e,[i,s]=r.useState(!1);ei(()=>s(!0),[]);const l=n||i&&globalThis?.document?.body;return l?a.createPortal((0,Mr.jsx)(di.div,{...o,ref:t}),l):null});Ai.displayName="Portal";var Ni=e=>{const{present:t,children:n}=e,o=function(e){const[t,n]=r.useState(),o=r.useRef(null),i=r.useRef(e),a=r.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return r.useReducer((e,n)=>t[e][n]??e,e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const e=Ri(o.current);a.current="mounted"===l?e:"none"},[l]),ei(()=>{const t=o.current,n=i.current;if(n!==e){const r=a.current,o=Ri(t);if(e)c("MOUNT");else if("none"===o||"none"===t?.display)c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,c]),ei(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const a=Ri(o.current).includes(CSS.escape(r.animationName));if(r.target===t&&a&&(c("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},s=e=>{e.target===t&&(a.current=Ri(o.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(e=>{o.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:o.isPresent}):r.Children.only(n),a=Go(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||o.isPresent?r.cloneElement(i,{ref:a}):null};function Ri(e){return e?.animationName||"none"}Ni.displayName="Presence";var Ii=0;function Pi(){r.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Li()),document.body.insertAdjacentElement("beforeend",e[1]??Li()),Ii++,()=>{1===Ii&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ii--}},[])}function Li(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zi=n(6636),Fi="right-scroll-bar-position",Hi="width-before-scroll-bar";function ji(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Bi="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,$i=new WeakMap;function Vi(e,t){var n,o,i,a=(n=t||null,o=function(t){return e.forEach(function(e){return ji(e,t)})},(i=(0,r.useState)(function(){return{value:n,callback:o,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=o,i.facade);return Bi(function(){var t=$i.get(a);if(t){var n=new Set(t),r=new Set(e),o=a.current;n.forEach(function(e){r.has(e)||ji(e,null)}),r.forEach(function(e){n.has(e)||ji(e,o)})}$i.set(a,e)},[e]),a}function Ui(e){return e}function Wi(e,t){void 0===t&&(t=Ui);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter(function(e){return e!==o})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return o}var Yi=function(e){void 0===e&&(e={});var t=Wi(null);return t.options=(0,zi.__assign)({async:!0,ssr:!1},e),t}(),qi=function(){},Ki=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:qi,onWheelCapture:qi,onTouchMoveCapture:qi}),i=o[0],a=o[1],s=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,p=e.shards,h=e.sideCar,f=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,w=e.gapMode,k=(0,zi.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,C=Vi([n,t]),S=(0,zi.__assign)((0,zi.__assign)({},k),i);return r.createElement(r.Fragment,null,u&&r.createElement(x,{sideCar:Yi,removeScrollBar:d,shards:p,noRelative:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:w}),s?r.cloneElement(r.Children.only(l),(0,zi.__assign)((0,zi.__assign)({},S),{ref:C})):r.createElement(b,(0,zi.__assign)({},S,{className:c,ref:C}),l))});Ki.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ki.classNames={fullWidth:Hi,zeroRight:Fi};var Ji,Qi=function(e){var t=e.sideCar,n=(0,zi.__rest)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return r.createElement(o,(0,zi.__assign)({},n))};Qi.isSideCarExport=!0;function Gi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ji||n.nc;return t&&e.setAttribute("nonce",t),e}var Xi=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=Gi())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zi=function(){var e,t=(e=Xi(),function(t,n){r.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},ea={left:0,top:0,right:0,gap:0},ta=function(e){return parseInt(e||"",10)||0},na=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ea;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[ta(n),ta(r),ta(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ra=Zi(),oa="data-scroll-locked",ia=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(oa,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Fi," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Hi," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Fi," .").concat(Fi," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Hi," .").concat(Hi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(oa,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},aa=function(){var e=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(e)?e:0},sa=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,i=void 0===o?"margin":o;r.useEffect(function(){return document.body.setAttribute(oa,(aa()+1).toString()),function(){var e=aa()-1;e<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,e.toString())}},[]);var a=r.useMemo(function(){return na(i)},[i]);return r.createElement(ra,{styles:ia(a,!t,i,n?"":"!important")})},la=!1;if("undefined"!=typeof window)try{var ca=Object.defineProperty({},"passive",{get:function(){return la=!0,!0}});window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch(mR){la=!1}var da=!!la&&{passive:!1},ua=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},pa=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),ha(e,r)){var o=fa(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ha=function(e,t){return"v"===e?function(e){return ua(e,"overflowY")}(t):function(e){return ua(e,"overflowX")}(t)},fa=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},ma=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ga=function(e){return[e.deltaX,e.deltaY]},va=function(e){return e&&"current"in e?e.current:e},ya=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},ba=0,wa=[];function ka(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xa=(Ca=function(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),i=r.useState(ba++)[0],a=r.useState(Zi)[0],s=r.useRef(e);r.useEffect(function(){s.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,zi.__spreadArray)([e.lockRef.current],(e.shards||[]).map(va),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var r,i=ma(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-i[0],c="deltaY"in e?e.deltaY:a[1]-i[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var p=window.getSelection(),h=p&&p.anchorNode;if(h&&(h===d||h.contains(d)))return!1;var f=pa(u,d);if(!f)return!0;if(f?r=u:(r="v"===u?"h":"v",f=pa(u,d)),!f)return!1;if(!o.current&&"changedTouches"in e&&(l||c)&&(o.current=r),!r)return!0;var m=o.current||r;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,d=a>0,u=0,p=0;do{if(!s)break;var h=fa(e,s),f=h[0],m=h[1]-h[2]-i*f;(f||m)&&ha(e,s)&&(u+=m,p+=f);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(o&&Math.abs(u)<1||!o&&a>u)||!d&&(o&&Math.abs(p)<1||!o&&-a>p))&&(c=!0),c}(m,t,e,"h"===m?l:c,!0)},[]),c=r.useCallback(function(e){var n=e;if(wa.length&&wa[wa.length-1]===a){var r="deltaY"in n?ga(n):ma(n),o=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)})[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var i=(s.current.shards||[]).map(va).filter(Boolean).filter(function(e){return e.contains(n.target)});(i.length>0?l(n,i[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),d=r.useCallback(function(e,n,r,o){var i={name:e,delta:n,target:r,should:o,shadowParent:ka(r)};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),u=r.useCallback(function(e){n.current=ma(e),o.current=void 0},[]),p=r.useCallback(function(t){d(t.type,ga(t),t.target,l(t,e.lockRef.current))},[]),h=r.useCallback(function(t){d(t.type,ma(t),t.target,l(t,e.lockRef.current))},[]);r.useEffect(function(){return wa.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",c,da),document.addEventListener("touchmove",c,da),document.addEventListener("touchstart",u,da),function(){wa=wa.filter(function(e){return e!==a}),document.removeEventListener("wheel",c,da),document.removeEventListener("touchmove",c,da),document.removeEventListener("touchstart",u,da)}},[]);var f=e.removeScrollBar,m=e.inert;return r.createElement(r.Fragment,null,m?r.createElement(a,{styles:ya(i)}):null,f?r.createElement(sa,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Yi.useMedium(Ca),Qi);var Ca,Sa=r.forwardRef(function(e,t){return r.createElement(Ki,(0,zi.__assign)({},e,{ref:t,sideCar:xa}))});Sa.classNames=Ki.classNames;const Ma=Sa;var Da=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Ea=new WeakMap,Ta=new WeakMap,_a={},Oa=0,Aa=function(e){return e&&(e.host||Aa(e.parentNode))},Na=function(e,t,n,r){var o=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Aa(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);_a[n]||(_a[n]=new WeakMap);var i=_a[n],a=[],s=new Set,l=new Set(o),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};o.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))d(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(Ea.get(e)||0)+1,c=(i.get(e)||0)+1;Ea.set(e,l),i.set(e,c),a.push(e),1===l&&o&&Ta.set(e,!0),1===c&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(Ol){console.error("aria-hidden: cannot operate on ",e,Ol)}})};return d(t),s.clear(),Oa++,function(){a.forEach(function(e){var t=Ea.get(e)-1,o=i.get(e)-1;Ea.set(e,t),i.set(e,o),t||(Ta.has(e)||e.removeAttribute(r),Ta.delete(e)),o||e.removeAttribute(n)}),--Oa||(Ea=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,_a={})}},Ra=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||Da(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),Na(r,o,n,"aria-hidden")):function(){return null}},Ia="Dialog",[Pa,La]=Xo(Ia),[za,Fa]=Pa(Ia),Ha=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=r.useRef(null),c=r.useRef(null),[d,u]=ii({prop:o,defaultProp:i??!1,onChange:a,caller:Ia});return(0,Mr.jsx)(za,{scope:t,triggerRef:l,contentRef:c,contentId:ri(),titleId:ri(),descriptionId:ri(),open:d,onOpenChange:u,onOpenToggle:r.useCallback(()=>u(e=>!e),[u]),modal:s,children:n})};Ha.displayName=Ia;var ja="DialogTrigger",Ba=r.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fa(ja,n),i=Go(t,o.triggerRef);return(0,Mr.jsx)(di.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ls(o.open),...r,ref:i,onClick:Ko(e.onClick,o.onOpenToggle)})});Ba.displayName=ja;var $a="DialogPortal",[Va,Ua]=Pa($a,{forceMount:void 0}),Wa=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:i}=e,a=Fa($a,t);return(0,Mr.jsx)(Va,{scope:t,forceMount:n,children:r.Children.map(o,e=>(0,Mr.jsx)(Ni,{present:n||a.open,children:(0,Mr.jsx)(Ai,{asChild:!0,container:i,children:e})}))})};Wa.displayName=$a;var Ya="DialogOverlay",qa=r.forwardRef((e,t)=>{const n=Ua(Ya,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Fa(Ya,e.__scopeDialog);return i.modal?(0,Mr.jsx)(Ni,{present:r||i.open,children:(0,Mr.jsx)(Ja,{...o,ref:t})}):null});qa.displayName=Ya;var Ka=ai("DialogOverlay.RemoveScroll"),Ja=r.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fa(Ya,n);return(0,Mr.jsx)(Ma,{as:Ka,allowPinchZoom:!0,shards:[o.contentRef],children:(0,Mr.jsx)(di.div,{"data-state":ls(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qa="DialogContent",Ga=r.forwardRef((e,t)=>{const n=Ua(Qa,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Fa(Qa,e.__scopeDialog);return(0,Mr.jsx)(Ni,{present:r||i.open,children:i.modal?(0,Mr.jsx)(Xa,{...o,ref:t}):(0,Mr.jsx)(Za,{...o,ref:t})})});Ga.displayName=Qa;var Xa=r.forwardRef((e,t)=>{const n=Fa(Qa,e.__scopeDialog),o=r.useRef(null),i=Go(t,n.contentRef,o);return r.useEffect(()=>{const e=o.current;if(e)return Ra(e)},[]),(0,Mr.jsx)(es,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ko(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ko(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Ko(e.onFocusOutside,e=>e.preventDefault())})}),Za=r.forwardRef((e,t)=>{const n=Fa(Qa,e.__scopeDialog),o=r.useRef(!1),i=r.useRef(!1);return(0,Mr.jsx)(es,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(o.current||n.triggerRef.current?.focus(),t.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const r=t.target,a=n.triggerRef.current?.contains(r);a&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),es=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=Fa(Qa,n),c=r.useRef(null),d=Go(t,c);return Pi(),(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Si,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:(0,Mr.jsx)(vi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ls(l.open),...s,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(ps,{titleId:l.titleId}),(0,Mr.jsx)(hs,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ts="DialogTitle",ns=r.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fa(ts,n);return(0,Mr.jsx)(di.h2,{id:o.titleId,...r,ref:t})});ns.displayName=ts;var rs="DialogDescription",is=r.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fa(rs,n);return(0,Mr.jsx)(di.p,{id:o.descriptionId,...r,ref:t})});is.displayName=rs;var as="DialogClose",ss=r.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fa(as,n);return(0,Mr.jsx)(di.button,{type:"button",...r,ref:t,onClick:Ko(e.onClick,()=>o.onOpenChange(!1))})});function ls(e){return e?"open":"closed"}ss.displayName=as;var cs="DialogTitleWarning",[ds,us]=function(e,t){const n=r.createContext(t),o=e=>{const{children:t,...o}=e,i=r.useMemo(()=>o,Object.values(o));return(0,Mr.jsx)(n.Provider,{value:i,children:t})};return o.displayName=e+"Provider",[o,function(o){const i=r.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}]}(cs,{contentName:Qa,titleName:ts,docsSlug:"dialog"}),ps=({titleId:e})=>{const t=us(cs),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{if(e){document.getElementById(e)||console.error(n)}},[n,e]),null},hs=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${us("DialogDescriptionWarning").contentName}}.`;return r.useEffect(()=>{const r=e.current?.getAttribute("aria-describedby");if(t&&r){document.getElementById(t)||console.warn(n)}},[n,e,t]),null},fs=Ha,ms=qa,gs=Ga,vs=ns;function ys(e){const t=e+"CollectionProvider",[n,o]=Xo(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,o=r.useRef(null),a=r.useRef(new Map).current;return(0,Mr.jsx)(i,{scope:t,itemMap:a,collectionRef:o,children:n})};s.displayName=t;const l=e+"CollectionSlot",c=ai(l),d=r.forwardRef((e,t)=>{const{scope:n,children:r}=e,o=Go(t,a(l,n).collectionRef);return(0,Mr.jsx)(c,{ref:o,children:r})});d.displayName=l;const u=e+"CollectionItemSlot",p="data-radix-collection-item",h=ai(u),f=r.forwardRef((e,t)=>{const{scope:n,children:o,...i}=e,s=r.useRef(null),l=Go(t,s),c=a(u,n);return r.useEffect(()=>(c.itemMap.set(s,{ref:s,...i}),()=>{c.itemMap.delete(s)})),(0,Mr.jsx)(h,{[p]:"",ref:l,children:o})});return f.displayName=u,[{Provider:s,Slot:d,ItemSlot:f},function(t){const n=a(e+"CollectionConsumer",t),o=r.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${p}]`)),r=Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return r},[n.collectionRef,n.itemMap]);return o},o]}var bs=new WeakMap;Map;function ws(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=ks(t),o=r>=0?r:n+r;return o<0||o>=n?-1:o}(e,t);return-1===n?void 0:e[n]}function ks(e){return e!=e||0===e?0:Math.trunc(e)}var xs=r.createContext(void 0);function Cs(e){const t=r.useContext(xs);return e||t||"ltr"}var Ss="rovingFocusGroup.onEntryFocus",Ms={bubbles:!1,cancelable:!0},Ds="RovingFocusGroup",[Es,Ts,_s]=ys(Ds),[Os,As]=Xo(Ds,[_s]),[Ns,Rs]=Os(Ds),Is=r.forwardRef((e,t)=>(0,Mr.jsx)(Es.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Mr.jsx)(Es.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Mr.jsx)(Ps,{...e,ref:t})})}));Is.displayName=Ds;var Ps=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...p}=e,h=r.useRef(null),f=Go(t,h),m=Cs(a),[g,v]=ii({prop:s,defaultProp:l??null,onChange:c,caller:Ds}),[y,b]=r.useState(!1),w=ui(d),k=Ts(n),x=r.useRef(!1),[C,S]=r.useState(0);return r.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(Ss,w),()=>e.removeEventListener(Ss,w)},[w]),(0,Mr.jsx)(Ns,{scope:n,orientation:o,dir:m,loop:i,currentTabStopId:g,onItemFocus:r.useCallback(e=>v(e),[v]),onItemShiftTab:r.useCallback(()=>b(!0),[]),onFocusableItemAdd:r.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>S(e=>e-1),[]),children:(0,Mr.jsx)(di.div,{tabIndex:y||0===C?-1:0,"data-orientation":o,...p,ref:f,style:{outline:"none",...e.style},onMouseDown:Ko(e.onMouseDown,()=>{x.current=!0}),onFocus:Ko(e.onFocus,e=>{const t=!x.current;if(e.target===e.currentTarget&&t&&!y){const t=new CustomEvent(Ss,Ms);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=k().filter(e=>e.focusable);Hs([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),u)}}x.current=!1}),onBlur:Ko(e.onBlur,()=>b(!1))})})}),Ls="RovingFocusGroupItem",zs=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:i=!1,tabStopId:a,children:s,...l}=e,c=ri(),d=a||c,u=Rs(Ls,n),p=u.currentTabStopId===d,h=Ts(n),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:g}=u;return r.useEffect(()=>{if(o)return f(),()=>m()},[o,f,m]),(0,Mr.jsx)(Es.ItemSlot,{scope:n,id:d,focusable:o,active:i,children:(0,Mr.jsx)(di.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Ko(e.onMouseDown,e=>{o?u.onItemFocus(d):e.preventDefault()}),onFocus:Ko(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ko(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Fs[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let o=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){"prev"===t&&o.reverse();const i=o.indexOf(e.currentTarget);o=u.loop?(r=i+1,(n=o).map((e,t)=>n[(r+t)%n.length])):o.slice(i+1)}setTimeout(()=>Hs(o))}var n,r}),children:"function"==typeof s?s({isCurrentTabStop:p,hasTabStop:null!=g}):s})})});zs.displayName=Ls;var Fs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hs(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var js=Is,Bs=zs,$s="Tabs",[Vs,Us]=Xo($s,[As]),Ws=As(),[Ys,qs]=Vs($s),Ks=r.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=Cs(s),[u,p]=ii({prop:r,onChange:o,defaultProp:i??"",caller:$s});return(0,Mr.jsx)(Ys,{scope:n,baseId:ri(),value:u,onValueChange:p,orientation:a,dir:d,activationMode:l,children:(0,Mr.jsx)(di.div,{dir:d,"data-orientation":a,...c,ref:t})})});Ks.displayName=$s;var Js="TabsList",Qs=r.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=qs(Js,n),a=Ws(n);return(0,Mr.jsx)(js,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:(0,Mr.jsx)(di.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});Qs.displayName=Js;var Gs="TabsTrigger",Xs=r.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,a=qs(Gs,n),s=Ws(n),l=tl(a.baseId,r),c=nl(a.baseId,r),d=r===a.value;return(0,Mr.jsx)(Bs,{asChild:!0,...s,focusable:!o,active:d,children:(0,Mr.jsx)(di.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...i,ref:t,onMouseDown:Ko(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():a.onValueChange(r)}),onKeyDown:Ko(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&a.onValueChange(r)}),onFocus:Ko(e.onFocus,()=>{const e="manual"!==a.activationMode;d||o||!e||a.onValueChange(r)})})})});Xs.displayName=Gs;var Zs="TabsContent",el=r.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:i,children:a,...s}=e,l=qs(Zs,n),c=tl(l.baseId,o),d=nl(l.baseId,o),u=o===l.value,p=r.useRef(u);return r.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,Mr.jsx)(Ni,{present:i||u,children:({present:n})=>(0,Mr.jsx)(di.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:d,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:n&&a})})});function tl(e,t){return`${e}-trigger-${t}`}function nl(e,t){return`${e}-content-${t}`}el.displayName=Zs;const rl=1/60*1e3,ol="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),il="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(ol()),rl);let al=!0,sl=!1,ll=!1;const cl={delta:0,timestamp:0},dl=["read","update","preRender","render","postRender"],ul=dl.reduce((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,o=!1,i=!1;const a=new WeakSet,s={schedule:(e,i=!1,s=!1)=>{const l=s&&o,c=l?t:n;return i&&a.add(e),-1===c.indexOf(e)&&(c.push(e),l&&o&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:l=>{if(o)i=!0;else{if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),a.has(r)&&(s.schedule(r),e())}o=!1,i&&(i=!1,s.process(l))}}};return s}(()=>sl=!0),e),{}),pl=dl.reduce((e,t)=>{const n=ul[t];return e[t]=(e,t=!1,r=!1)=>(sl||ml(),n.schedule(e,t,r)),e},{}),hl=(dl.reduce((e,t)=>(e[t]=ul[t].cancel,e),{}),dl.reduce((e,t)=>(e[t]=()=>ul[t].process(cl),e),{}),e=>ul[e].process(cl)),fl=e=>{sl=!1,cl.delta=al?rl:Math.max(Math.min(e-cl.timestamp,40),1),cl.timestamp=e,ll=!0,dl.forEach(hl),ll=!1,sl&&(al=!1,il(fl))},ml=()=>{sl=!0,al=!0,ll||il(fl)},gl=pl,vl=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},yl=e=>e?vl(e):vl;var bl=n(8371);const{useDebugValue:wl}=r,{useSyncExternalStoreWithSelector:kl}=bl;let xl=!1;const Cl=e=>e;function Sl(e,t=Cl,n){n&&!xl&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xl=!0);const r=kl(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return wl(r),r}const Ml=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?yl(e):e,n=(e,n)=>Sl(t,e,n);return Object.assign(n,t),n},Dl=e=>e?Ml(e):Ml;function El(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=Tl();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function Tl(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function _l(e,t){for(var n=El(e),r=El(t),o=[],i=0;i<4;i++)for(var a=[n[i],n[i+4],n[i+8],n[i+12]],s=0;s<4;s++){var l=4*s,c=[r[l],r[l+1],r[l+2],r[l+3]],d=a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3];o[i+l]=d}return o}var Ol=function(e){return"number"==typeof e},Al=function(e){return"function"==typeof e},Nl=function(e){return"[object Object]"===Object.prototype.toString.call(e)},Rl=function(e){return Array.prototype.slice.apply(e)},Il=function(e){var t=e.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{});return Object.keys(t).filter(function(e){return t[e]>1})};function Pl(e){return[].slice.call(arguments,1).forEach(function(t){if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}var Ll,zl=function(e,t,n){return e+(t-e)*n},Fl={__proto__:null,isNumber:Ol,isFunction:Al,isObject:Nl,toArray:Rl,getDuplicateValsAsStrings:Il,assign:Pl,tweenProp:zl},Hl="data-flip-id",jl="data-inverse-flip-id",Bl="data-portal-key",$l="data-exit-container",Vl=Hl,Ul=jl,Wl="data-flip-config",Yl=Bl,ql={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},Kl=function(e){return Nl(e)?e:Object.keys(ql).indexOf(e)>-1?ql[e]:{}};"undefined"!=typeof window&&(Ll=window.requestAnimationFrame);var Jl=Ll=Ll||function(e){window.setTimeout(e,1e3/60)},Ql=Date.now(),Gl="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()-Ql};function Xl(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var Zl=function(){function e(){}return e.prototype.run=function(){var e=this;Jl(function(){e.springSystem.loop(Gl())})},e}(),ec=function(){this.position=0,this.velocity=0},tc=0,nc=.001,rc=function(){function e(e){this._id="s"+tc++,this._springSystem=e,this.listeners=[],this._startValue=0,this._currentState=new ec,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new ec,this._restSpeedThreshold=.001,this._tempState=new ec,this._timeAccumulator=0,this._wasAtRest=!0,this._cachedSpringConfig={}}var t=e.prototype;return t.getId=function(){return this._id},t.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},t.setSpringConfig=function(e){return this._springConfig=e,this},t.getCurrentValue=function(){return this._currentState.position},t.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},t.setEndValue=function(e){if(e===this._endValue)return this;if(this.prevEndValue=e,this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t].onSpringEndStateChange;r&&r(this)}return this},t.setVelocity=function(e){return e===this._currentState.velocity||(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId())),this},t.setCurrentValue=function(e){this._startValue=e,this._currentState.position=e;for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t];r.onSpringUpdate&&r.onSpringUpdate(this)}return this},t.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},t.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},t.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},t.advance=function(e,t){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=t;t>.064&&(r=.064),this._timeAccumulator+=r;for(var o,i,a,s,l,c,d=this._springConfig.tension,u=this._springConfig.friction,p=this._currentState.position,h=this._currentState.velocity,f=this._tempState.position,m=this._tempState.velocity;this._timeAccumulator>=nc;)this._timeAccumulator-=nc,this._timeAccumulator<nc&&(this._previousState.position=p,this._previousState.velocity=h),i=d*(this._endValue-f)-u*h,s=d*(this._endValue-(f=p+(o=h)*nc*.5))-u*(m=h+i*nc*.5),c=d*(this._endValue-(f=p+(a=m)*nc*.5))-u*(m=h+s*nc*.5),f=p+(l=m)*nc,p+=1/6*(o+2*(a+l)+(m=h+c*nc))*nc,h+=1/6*(i+2*(s+c)+(d*(this._endValue-f)-u*m))*nc;this._tempState.position=f,this._tempState.velocity=m,this._currentState.position=p,this._currentState.velocity=h,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/nc),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var g=!1;this._wasAtRest&&(this._wasAtRest=!1,g=!0);var v=!1;n&&(this._wasAtRest=!0,v=!0),this.notifyPositionUpdated(g,v)}},t.notifyPositionUpdated=function(e,t){var n=this;this.listeners.filter(Boolean).forEach(function(r){e&&r.onSpringActivate&&!n._onActivateCalled&&(r.onSpringActivate(n),n._onActivateCalled=!0),r.onSpringUpdate&&r.onSpringUpdate(n),t&&r.onSpringAtRest&&r.onSpringAtRest(n)})},t.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},t.wasAtRest=function(){return this._wasAtRest},t.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},t._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},t.addListener=function(e){return this.listeners.push(e),this},t.addOneTimeListener=function(e){var t=this;return Object.keys(e).forEach(function(n){var r;e[n]=(r=e[n],function(){r.apply(void 0,[].slice.call(arguments)),t.removeListener(e)})}),this.listeners.push(e),this},t.removeListener=function(e){return Xl(this.listeners,e),this},e}(),oc=function(){function e(e){this.looper=e||new Zl,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}}var t=e.prototype;return t.createSpring=function(e,t){return this.createSpringWithConfig({tension:e,friction:t})},t.createSpringWithConfig=function(e){var t=new rc(this);return this.registerSpring(t),t.setSpringConfig(e),t},t.getIsIdle=function(){return this._isIdle},t.registerSpring=function(e){this._springRegistry[e.getId()]=e},t.deregisterSpring=function(e){Xl(this._activeSprings,e),delete this._springRegistry[e.getId()]},t.advance=function(e,t){for(var n=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach(function(r){r.systemShouldAdvance()?r.advance(e/1e3,t/1e3):n._idleSpringIndices.push(n._activeSprings.indexOf(r))});this._idleSpringIndices.length>0;){var r=this._idleSpringIndices.pop();r>=0&&this._activeSprings.splice(r,1)}},t.loop=function(e){var t;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,o=this.listeners.length;for(r=0;r<o;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<o;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},t.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},e}(),ic=new oc,ac=function(e){var t=e.springConfig,n=t.overshootClamping,r=e.getOnUpdateFunc,o=e.onAnimationEnd,i=e.onSpringActivate,a=ic.createSpring(t.stiffness,t.damping);a.setOvershootClampingEnabled(!!n);var s={onSpringActivate:i,onSpringAtRest:function(){a.destroy(),o()},onSpringUpdate:r({spring:a,onAnimationEnd:o})};return a.addListener(s),a},sc=function(e){var t=ac(e);return t.setEndValue(1),t},lc=function(e,t){if(void 0===t&&(t={}),e&&e.length){t.reverse&&e.reverse();var n,r="number"!=typeof(n=t.speed)?1.1:1+Math.min(Math.max(5*n,0),5),o=1/Math.max(Math.min(e.length,100),10),i=e.map(function(e,t){var n=e.getOnUpdateFunc;return e.getOnUpdateFunc=function(e){var a=n(e);return function(e){var n=e.getCurrentValue();(n=n<.01?0:n>.99?1:n)>=o&&i[t+1]&&i[t+1](Math.max(Math.min(n*r,1),0)),a(e)}},e}).map(function(e){var t=ac(e);if(t)return t.setEndValue.bind(t)}).filter(Boolean);i[0]&&i[0](1)}},cc=function(e){return[0,1,4,5,12,13].map(function(t){return e[t]})},dc=function(e){return e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0};function uc(e){return JSON.parse(e.dataset.flipConfig||"{}")}var pc=function(e,t){var n;return Pl(e,((n={})[t[0]]=t[1],n))},hc=function(e,t){return Rl(t?document.querySelectorAll("["+Bl+'="'+t+'"]'):e.querySelectorAll("["+Hl+"]"))},fc=function(e){return e.map(function(e){return[e,e.getBoundingClientRect()]})},mc=!0,gc=function(e){var t=e.cachedOrderedFlipIds,n=void 0===t?[]:t,r=e.inProgressAnimations,o=void 0===r?{}:r,i=e.flippedElementPositionsBeforeUpdate,a=void 0===i?{}:i,s=e.flipCallbacks,l=void 0===s?{}:s,c=e.containerEl,d=e.applyTransformOrigin,u=e.spring,p=e.debug,h=e.portalKey,f=e.staggerConfig,m=void 0===f?{}:f,g=e.decisionData,v=void 0===g?{}:g,y=e.handleEnterUpdateDelete,b=e.onComplete,w=e.onStart;if(mc&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches){var k,x=fc(hc((k={element:c,portalKey:h}).element,k.portalKey)).map(function(e){var t=e[0],n=e[1],r=window.getComputedStyle(t);return[t.dataset.flipId,{element:t,rect:n,opacity:parseFloat(r.opacity),transform:r.transform}]}).reduce(pc,{}),C=function(e){var t=e.containerEl,n=e.portalKey;return n?function(e){return function(t){return Rl(document.querySelectorAll("["+Bl+'="'+e+'"]'+t))}}(n):t?function(e){var t=Math.random().toFixed(5);return e.dataset.flipperId=t,function(n){return Rl(e.querySelectorAll('[data-flipper-id="'+t+'"] '+n))}}(t):function(){return[]}}({containerEl:c,portalKey:h}),S=function(e){return function(t){return e("["+Hl+'="'+t+'"]')[0]}}(C),M=function(e){return a[e]&&x[e]},D=Object.keys(a).concat(Object.keys(x)).filter(function(e){return!M(e)}),E={flipCallbacks:l,getElement:S,flippedElementPositionsBeforeUpdate:a,flippedElementPositionsAfterUpdate:x,inProgressAnimations:o,decisionData:v},T=function(e){var t,n=e.unflippedIds,r=e.flipCallbacks,o=e.getElement,i=e.flippedElementPositionsBeforeUpdate,a=e.flippedElementPositionsAfterUpdate,s=e.inProgressAnimations,l=e.decisionData,c=n.filter(function(e){return a[e]}).filter(function(e){return r[e]&&r[e].onAppear}),d=n.filter(function(e){return i[e]&&r[e]&&r[e].onExit}),u=new Promise(function(e){t=e}),p=[],h=0,f=d.map(function(e,n){var o=i[e].domDataForExitAnimations,a=o.element,c=o.parent,d=o.childPosition,u=d.top,f=d.left,m=d.width,g=d.height;"static"===getComputedStyle(c).position&&(c.style.position="relative"),a.style.transform="matrix(1, 0, 0, 1, 0, 0)",a.style.position="absolute",a.style.top=u+"px",a.style.left=f+"px",a.style.height=g+"px",a.style.width=m+"px";var v=p.filter(function(e){return e[0]===c})[0];v||(v=[c,document.createDocumentFragment()],p.push(v)),v[1].appendChild(a),h+=1;var y=function(){try{c.removeChild(a)}catch(e){}finally{0==(h-=1)&&t()}};return s[e]={stop:y},function(){return r[e].onExit(a,n,y,l)}});return p.forEach(function(e){e[0].appendChild(e[1])}),f.length||t(),{hideEnteringElements:function(){c.forEach(function(e){var t=o(e);t&&(t.style.opacity="0")})},animateEnteringElements:function(){c.forEach(function(e,t){var n=o(e);n&&r[e].onAppear(n,t,l)})},animateExitingElements:function(){return f.forEach(function(e){return e()}),u}}}(Pl({},E,{unflippedIds:D})),_=T.hideEnteringElements,O=T.animateEnteringElements,A=T.animateExitingElements,N=Pl({},E,{containerEl:c,flippedIds:n.filter(M),applyTransformOrigin:d,spring:u,debug:p,staggerConfig:m,scopedSelector:C,onComplete:b});w&&w(c,v);var R=function(e){var t,n=e.flippedIds,r=e.flipCallbacks,o=e.inProgressAnimations,i=e.flippedElementPositionsBeforeUpdate,a=e.flippedElementPositionsAfterUpdate,s=e.applyTransformOrigin,l=e.spring,c=e.getElement,d=e.debug,u=e.staggerConfig,p=void 0===u?{}:u,h=e.decisionData,f=void 0===h?{}:h,m=e.onComplete,g=e.containerEl,v=new Promise(function(e){t=e});if(m&&v.then(function(){return m(g,f)}),!n.length)return function(){return t([]),v};var y=[],b=c(n[0]),w=b?b.ownerDocument.querySelector("body"):document.querySelector("body");Il(n);var k=n.map(function(e){var n=i[e].rect,c=a[e].rect,d=i[e].opacity,u=a[e].opacity,p=c.width<1||c.height<1,h=a[e].element;if(!dc(n)&&!dc(c))return!1;if(!h)return!1;var m,g,v,b=uc(h),x=(v=(g=void 0===(m={flipperSpring:l,flippedSpring:b.spring})?{}:m).flippedSpring,Pl({},ql.noWobble,Kl(g.flipperSpring),Kl(v))),C=!0===b.stagger?"default":b.stagger,S={element:h,id:e,stagger:C,springConfig:x};if(r[e]&&r[e].shouldFlip&&!r[e].shouldFlip(f.previous,f.current))return!1;var M=Math.abs(n.left-c.left)+Math.abs(n.top-c.top),D=Math.abs(n.width-c.width)+Math.abs(n.height-c.height),E=Math.abs(u-d);if(0===n.height&&0===c.height||0===n.width&&0===c.width||M<.5&&D<.5&&E<.01)return!1;var T,_,O=function(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return El(t[2].split(", ").map(parseFloat))}return Tl()}(a[e].transform),A={matrix:O},N={matrix:[]},R=[O];b.translate&&(R.push((T=n.left-c.left,(_=Tl())[12]=T,_)),R.push(function(e){var t=Tl();return t[13]=e,t}(n.top-c.top))),b.scale&&(R.push(function(e){var t=Tl();return t[0]=e,t}(Math.max(n.width,1)/Math.max(c.width,1))),R.push(function(e){var t=Tl();return t[5]=e,t}(Math.max(n.height,1)/Math.max(c.height,1)))),b.opacity&&(N.opacity=d,A.opacity=u);var I=[];if(!r[e]||!r[e].shouldInvert||r[e].shouldInvert(f.previous,f.current)){var P=function(e,t){return Rl(e.querySelectorAll("["+jl+'="'+t+'"]'))}(h,e);I=P.map(function(e){return[e,uc(e)]})}N.matrix=cc(R.reduce(_l)),A.matrix=cc(A.matrix);var L,z=function(e){var t=e.element,n=e.invertedChildren,r=e.body;return function(e){var o=e.matrix,i=e.opacity,a=e.forceMinVals;if(Ol(i)&&(t.style.opacity=i+""),a&&(t.style.minHeight="1px",t.style.minWidth="1px"),o){var s=function(e){return"matrix("+e.join(", ")+")"}(o);t.style.transform=s,n&&function(e){var t=e.matrix,n=e.body;e.invertedChildren.forEach(function(e){var r=e[0],o=e[1];if(n.contains(r)){var i=t[0],a=t[3],s=t[5],l={translateX:0,translateY:0,scaleX:1,scaleY:1},c="";o.translate&&(l.translateX=-t[4]/i,l.translateY=-s/a,c+="translate("+l.translateX+"px, "+l.translateY+"px)"),o.scale&&(l.scaleX=1/i,l.scaleY=1/a,c+=" scale("+l.scaleX+", "+l.scaleY+")"),r.style.transform=c}})}({invertedChildren:n,matrix:o,body:r})}}}({element:h,invertedChildren:I,body:w});if(r[e]&&r[e].onComplete){var F=r[e].onComplete;L=function(){return F(h,f)}}var H=Ol(N.opacity)&&Ol(A.opacity)&&N.opacity!==A.opacity,j=!1;return Pl({},S,{stagger:C,springConfig:x,getOnUpdateFunc:function(t){var n=t.spring,i=t.onAnimationEnd;return o[e]={destroy:n.destroy.bind(n),onAnimationEnd:i},function(t){r[e]&&r[e].onSpringUpdate&&r[e].onSpringUpdate(t.getCurrentValue()),j||(j=!0,r[e]&&r[e].onStart&&r[e].onStart(h,f));var n=t.getCurrentValue();if(w.contains(h)){var o={matrix:[]};o.matrix=N.matrix.map(function(e,t){return zl(e,A.matrix[t],n)}),H&&(o.opacity=zl(N.opacity,A.opacity,n)),z(o)}else t.destroy()}},initializeFlip:function(){z({matrix:N.matrix,opacity:H?N.opacity:void 0,forceMinVals:p}),r[e]&&r[e].onStartImmediate&&r[e].onStartImmediate(h,f),b.transformOrigin?h.style.transformOrigin=b.transformOrigin:s&&(h.style.transformOrigin="0 0"),I.forEach(function(e){var t=e[0],n=e[1];n.transformOrigin?t.style.transformOrigin=n.transformOrigin:s&&(t.style.transformOrigin="0 0")})},onAnimationEnd:function(n){delete o[e],Al(L)&&L(),h.style.transform="",I.forEach(function(e){e[0].style.transform=""}),p&&h&&(h.style.minHeight="",h.style.minWidth=""),n||(y.push(e),y.length>=k.length&&t(y))},delayUntil:b.delayUntil})}).filter(Boolean);if(k.forEach(function(e){return(0,e.initializeFlip)()}),d)return function(){};var x=k.filter(function(e){return e.delayUntil&&(t=e.delayUntil,k.filter(function(e){return e.id===t}).length);var t}),C={},S={},M={};x.forEach(function(e){e.stagger?(M[e.stagger]=!0,S[e.delayUntil]?S[e.delayUntil].push(e.stagger):S[e.delayUntil]=[e.stagger]):C[e.delayUntil]?C[e.delayUntil].push(e):C[e.delayUntil]=[e]});var D=k.filter(function(e){return e.stagger}).reduce(function(e,t){return e[t.stagger]?e[t.stagger].push(t):e[t.stagger]=[t],e},{}),E=k.filter(function(e){return-1===x.indexOf(e)});return E.forEach(function(e){e.onSpringActivate=function(){C[e.id]&&C[e.id].forEach(sc),S[e.id]&&Object.keys(S[e.id].reduce(function(e,t){var n;return Pl(e,((n={})[t]=!0,n))},{})).forEach(function(e){lc(D[e],p[e])})}}),function(){return k.length||t([]),E.filter(function(e){return!e.stagger}).forEach(sc),Object.keys(D).forEach(function(e){M[e]||lc(D[e],p[e])}),v}}(N);y?y({hideEnteringElements:_,animateEnteringElements:O,animateExitingElements:A,animateFlippedElements:R}):(_(),A().then(O),R())}},vc=function(e){var t=e.element,n=e.flipCallbacks,r=void 0===n?{}:n,o=e.inProgressAnimations,i=void 0===o?{}:o,a=hc(t,e.portalKey),s=Rl(t.querySelectorAll("["+jl+"]")),l={},c=[],d={};a.filter(function(e){return r&&r[e.dataset.flipId]&&r[e.dataset.flipId].onExit}).forEach(function(e){var t=e.parentNode;if(e.closest){var n=e.closest("["+$l+"]");n&&(t=n)}var r=c.findIndex(function(e){return e[0]===t});-1===r&&(c.push([t,t.getBoundingClientRect()]),r=c.length-1),l[e.dataset.flipId]=c[r][1],d[e.dataset.flipId]=t});var u=fc(a),p=u.map(function(e){var t=e[0],n=e[1],o={};if(r&&r[t.dataset.flipId]&&r[t.dataset.flipId].onExit){var i=l[t.dataset.flipId];Pl(o,{element:t,parent:d[t.dataset.flipId],childPosition:{top:n.top-i.top,left:n.left-i.left,width:n.width,height:n.height}})}return[t.dataset.flipId,{rect:n,opacity:parseFloat(window.getComputedStyle(t).opacity||"1"),domDataForExitAnimations:o}]}).reduce(pc,{});return function(e,t){Object.keys(e).forEach(function(t){e[t].destroy&&e[t].destroy(),e[t].onAnimationEnd&&e[t].onAnimationEnd(!0),delete e[t]}),t.forEach(function(e){e.style.transform="",e.style.opacity=""})}(i,a.concat(s)),{flippedElementPositions:p,cachedOrderedFlipIds:u.map(function(e){return e[0].dataset.flipId})}};new oc;function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yc.apply(this,arguments)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bc(e,t)}function wc(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}var kc=(0,r.createContext)({}),xc=(0,r.createContext)("portal"),Cc=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).inProgressAnimations={},t.flipCallbacks={},t.el=void 0,t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,bc(t,n);var i=o.prototype;return i.getSnapshotBeforeUpdate=function(e){return e.flipKey!==this.props.flipKey&&this.el?vc({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},i.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&gc({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},i.render=function(){var e=this,t=this.props,n=t.portalKey,o=r.createElement(kc.Provider,{value:this.flipCallbacks},r.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children));return n&&(o=r.createElement(xc.Provider,{value:n},o)),o},o}(r.Component);Cc.defaultProps={applyTransformOrigin:!0,element:"div"};var Sc=["children","flipId","inverseFlipId","portalKey"],Mc=["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"],Dc=function(e){var t,n=e.children,o=e.flipId,i=e.inverseFlipId,a=e.portalKey,s=wc(e,Sc),l=n,c=function(e){return"function"==typeof e}(l);if(!c)try{l=r.Children.only(n)}catch(e){throw new Error("Each Flipped component must wrap a single child")}s.scale||s.translate||s.opacity||Fl.assign(s,{translate:!0,scale:!0,opacity:!0});var d=((t={})[Wl]=JSON.stringify(s),t);return void 0!==o?d[Vl]=String(o):i&&(d[Ul]=String(i)),void 0!==a&&(d[Yl]=a),c?l(d):(0,r.cloneElement)(l,d)},Ec=function(e){var t=e.children,n=e.flipId,o=e.shouldFlip,i=e.shouldInvert,a=e.onAppear,s=e.onStart,l=e.onStartImmediate,c=e.onComplete,d=e.onExit,u=e.onSpringUpdate,p=wc(e,Mc);return t?p.inverseFlipId?r.createElement(Dc,yc({},p),t):r.createElement(xc.Consumer,null,function(e){return r.createElement(kc.Consumer,null,function(h){return Fl.isObject(h)&&n&&(h[n]={shouldFlip:o,shouldInvert:i,onAppear:a,onStart:s,onStartImmediate:l,onComplete:c,onExit:d,onSpringUpdate:u}),r.createElement(Dc,yc({flipId:n},p,{portalKey:e}),t)})}):null};Ec.displayName="Flipped";const Tc=function(e){(0,r.useEffect)(e,[])};const _c=function(e){var t=(0,r.useRef)(e);t.current=e,Tc(function(){return function(){return t.current()}})};const Oc=function(e){var t=(0,r.useRef)(0),n=(0,r.useState)(e),o=n[0],i=n[1],a=(0,r.useCallback)(function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(e)})},[]);return _c(function(){cancelAnimationFrame(t.current)}),[o,a]};var Ac="undefined"!=typeof window;const Nc=function(e){var t=void 0===e?{}:e,n=t.initialWidth,o=void 0===n?1/0:n,i=t.initialHeight,a=void 0===i?1/0:i,s=t.onChange,l=Oc({width:Ac?window.innerWidth:o,height:Ac?window.innerHeight:a}),c=l[0],d=l[1];return(0,r.useEffect)(function(){if(Ac){var e=function(){var e=window.innerWidth,t=window.innerHeight;d({width:e,height:t}),s&&s(e,t)};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}},[]),c};function Rc(e){this.content=e}Rc.prototype={constructor:Rc,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new Rc(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Rc(n)},addToStart:function(e,t){return new Rc([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Rc(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new Rc(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Rc.from(e)).size?new Rc(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Rc.from(e)).size?new Rc(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Rc.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},Rc.from=function(e){if(e instanceof Rc)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Rc(t)};const Ic=Rc;function Pc(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=Pc(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function Lc(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let a=e.child(--o),s=t.child(--i),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let e=Lc(a.content,s.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class zc{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,a=0;a<t;i++){let s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o||null,i)&&s.content.size){let o=a+1;s.nodesBetween(Math.max(0,e-o),Math.min(s.content.size,t-o),n,r+o)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,(a,s)=>{let l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?r?"function"==typeof r?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(i?i=!1:o+=n),o+=l},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new zc(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let a=this.content[o],s=i+a.nodeSize;s>e&&((i<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),r+=a.nodeSize),i=s}return new zc(n,r)}cutByIndex(e,t){return e==t?zc.empty:0==e&&t==this.content.length?this:new zc(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new zc(r,o)}addToStart(e){return new zc([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new zc(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return Pc(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return Lc(this,e,t,n)}findIndex(e){if(0==e)return Hc(0,e);if(e==this.size)return Hc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?Hc(t+1,r):Hc(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return zc.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new zc(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return zc.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new zc(t||e,n)}static from(e){if(!e)return zc.empty;if(e instanceof zc)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new zc([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}zc.empty=new zc([],0);const Fc={index:0,offset:0};function Hc(e,t){return Fc.index=e,Fc.offset=t,Fc}function jc(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!jc(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!jc(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Bc{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Bc.none;if(e instanceof Bc)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}Bc.none=[];class $c extends Error{}class Vc{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Wc(this.content,e+this.openStart,t);return n&&new Vc(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Vc(Uc(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Vc.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Vc(zc.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new Vc(e,n,r)}}function Uc(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(o==t||i.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(Uc(i.content,t-o-1,n-o-1)))}function Wc(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),a=e.maybeChild(o);if(i==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=Wc(a.content,t-i-1,n,a);return s&&e.replaceChild(o,a.copy(s))}function Yc(e,t,n){if(n.openStart>e.depth)throw new $c("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new $c("Inconsistent open depths");return qc(e,t,n,0)}function qc(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let a=qc(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:a}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)r=t.node(o).copy(zc.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return Xc(i,Zc(e,o,a,t,r))}{let r=e.parent,o=r.content;return Xc(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return Xc(i,ed(e,t,r))}function Kc(e,t){if(!t.type.compatibleContent(e.type))throw new $c("Cannot join "+t.type.name+" onto "+e.type.name)}function Jc(e,t,n){let r=e.node(n);return Kc(r,t.node(n)),r}function Qc(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Gc(e,t,n,r){let o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Qc(e.nodeAfter,r),i++));for(let s=i;s<a;s++)Qc(o.child(s),r);t&&t.depth==n&&t.textOffset&&Qc(t.nodeBefore,r)}function Xc(e,t){return e.type.checkContent(t),e.copy(t)}function Zc(e,t,n,r,o){let i=e.depth>o&&Jc(e,t,o+1),a=r.depth>o&&Jc(n,r,o+1),s=[];return Gc(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(Kc(i,a),Qc(Xc(i,Zc(e,t,n,r,o+1)),s)):(i&&Qc(Xc(i,ed(e,t,o+1)),s),Gc(t,n,o,s),a&&Qc(Xc(a,ed(n,r,o+1)),s)),Gc(r,null,o,s),new zc(s)}function ed(e,t,n){let r=[];if(Gc(null,e,n,r),e.depth>n){Qc(Xc(Jc(e,t,n+1),ed(e,t,n+1)),r)}return Gc(t,null,n,r),new zc(r)}Vc.empty=new Vc(zc.empty,0,0);class td{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)r+=n.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Bc.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new id(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(o),a=o-t;if(n.push(i,e,r+t),!a)break;if(i=i.child(e),i.isText)break;o=a-1,r+=t+1}return new td(t,n,o)}static resolveCached(e,t){let n=od.get(e);if(n)for(let o=0;o<n.elts.length;o++){let e=n.elts[o];if(e.pos==t)return e}else od.set(e,n=new nd);let r=n.elts[n.i]=td.resolve(e,t);return n.i=(n.i+1)%rd,r}}class nd{constructor(){this.elts=[],this.i=0}}const rd=12,od=new WeakMap;class id{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ad=Object.create(null);class sd{constructor(e,t,n,r=Bc.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||zc.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&jc(this.attrs,t||e.defaultAttrs||ad)&&Bc.sameSet(this.marks,n||Bc.none)}copy(e=null){return e==this.content?this:new sd(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new sd(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Vc.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new Vc(s,r.depth-i,o.depth-i)}replace(e,t,n){return Yc(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return td.resolveCached(this,e)}resolveNoCache(e){return td.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),cd(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=zc.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Bc.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Bc.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=zc.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}sd.prototype.text=void 0;class ld extends sd{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ld(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ld(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function cd(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class dd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new ud(e,t);if(null==n.next)return dd.empty;let r=pd(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return n(yd(e,0));function n(r){let o=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);yd(e,n).forEach(e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let i=t[r.join(",")]=new dd(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(vd);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}(function(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}function i(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(i(n,t)),[]);if("seq"!=e.type){if("star"==e.type){let a=n();return r(t,a),o(i(e.expr,a),a),[r(a)]}if("plus"==e.type){let a=n();return o(i(e.expr,t),a),o(i(e.expr,a),a),[r(a)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let a=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,a),t),a=t}if(-1==e.max)o(i(e.expr,a),a);else for(let t=e.min;t<e.max;t++){let t=n();r(a,t),o(i(e.expr,a),t),a=t}return[r(a)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=i(e.exprs[r],t);if(r==e.exprs.length-1)return a;o(a,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(a)&&r.push(a)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(i,a){let s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return zc.from(a.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,a.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:a}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!a.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r}).join("\n")}}dd.empty=new dd(!0);class ud{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function pd(e){let t=[];do{t.push(hd(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function hd(e){let t=[];do{t.push(fd(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function fd(e){let t=function(e){if(e.eat("(")){let t=pd(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let e=n[i];e.isInGroup(t)&&o.push(e)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=gd(e,t)}return t}function md(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function gd(e,t){let n=md(e),r=n;return e.eat(",")&&(r="}"!=e.next?md(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function vd(e,t){return t-e}function yd(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(vd)}function bd(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function wd(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function kd(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let n=e[o];n.validate&&n.validate(t[o])}}function xd(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Sd(e,r,t[r]);return n}class Cd{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=xd(e,n.attrs),this.defaultAttrs=bd(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==dd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:wd(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new sd(this,this.computeAttrs(e),zc.from(t),Bc.setFrom(n))}createChecked(e=null,t,n){return t=zc.from(t),this.checkContent(t),new sd(this,this.computeAttrs(e),t,Bc.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=zc.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(zc.empty,!0);return o?new sd(this,e,t.append(o),Bc.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){kd(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Bc.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new Cd(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Sd{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Md{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=xd(e,r.attrs),this.excluded=null;let o=bd(this.attrs);this.instance=o?new Bc(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Bc(this,wd(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new Md(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){kd(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Dd{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=Ic.from(e.nodes),t.marks=Ic.from(e.marks||{}),this.nodes=Cd.compile(this.spec.nodes,this),this.marks=Md.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",o=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=dd.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==o?null:o?Ed(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:Ed(this,t.split(" "))}this.nodeFromJSON=e=>sd.fromJSON(this,e),this.markFromJSON=e=>Bc.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Cd))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new ld(n,n.defaultAttrs,e,Bc.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Ed(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Td{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new Id(this,t,!1);return n.addAll(e,Bc.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Id(this,t,!0);return n.addAll(e,Bc.none,t.from,t.to),Vc.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(Pd(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=Ld(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=Ld(e)),e.node||e.ignore||e.mark||(e.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Td(e,Td.schemaRules(e)))}}const _d={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Od={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ad={ol:!0,ul:!0};function Nd(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Rd{constructor(e,t,n,r,o,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=Bc.none,this.match=o||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(zc.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=zc.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(zc.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!_d.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Id{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,o=t.topNode,i=Nd(null,t.preserveWhitespace,0)|(n?4:0);r=o?new Rd(o.type,o.attrs,Bc.none,!0,t.topMatch||o.type.contentMatch,i):new Rd(n?null:e.schema.topNodeType,null,Bc.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,o=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:i}=this.parser;if("full"===o||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)if("full"===o)n=n.replace(/\r\n?/g,"\n");else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(i.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(i.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,o=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i,a=e.nodeName.toLowerCase();Ad.hasOwnProperty(a)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&Ad.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));e:if(s?s.ignore:Od.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let n,r=this.needsBlock;if(_d.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let i=s&&s.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(o),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,s,n,!1===s.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let e=this.parser.matchedStyles[r],o=n.getPropertyValue(e);if(o)for(let n;;){let r=this.parser.matchStyle(e,o,this,n);if(!r)break;if(r.ignore)return null;if(t=r.clearMark?t.filter(e=>!r.clearMark(e)):t.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return t}addElementByRule(e,t,n,r){let o,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}o&&this.sync(a)&&this.open--}addAll(e,t,n,r){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i,t);this.findAtPoint(e,o)}findPlace(e,t,n){let r,o;for(let i=this.open,a=0;i>=0;i--){let t=this.nodes[i],s=t.findWrapping(e);if(s&&(!r||r.length>s.length+a)&&(r=s,o=t,!s.length))break;if(t.solid){if(n)break;a+=2}}if(!r)return null;this.sync(o);for(let i=0;i<r.length;i++)t=this.enterInner(r[i],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=Bc.none;for(let o of r.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):zd(o.type,e.type))&&(n=o.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,r)),o}enterInner(e,t,n,r=!1,o){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=Nd(e,o,i.options);4&i.options&&0==i.content.length&&(a|=4);let s=Bc.none;return n=n.filter(t=>!(i.type?i.type.allowsMarkType(t.type):zd(t.type,e))||(s=t.addToSet(s),!1)),this.nodes.push(new Rd(e,t,s,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=o;a--)if(i(e-1,a))return!0;return!1}{let e=a>0||0==a&&r?this.nodes[a].type:n&&a>=o?n.node(a-o).type:null;if(!e||e.name!=s&&!e.isInGroup(s))return!1;a--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function Pd(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Ld(e){let t={};for(let n in e)t[n]=e[n];return t}function zd(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],a=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&a(o))return!0}};if(a(o.contentMatch))return!0}}class Fd{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=jd(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],a=this.serializeMark(n,e.isInline,t);a&&(o.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Vd(jd(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Vd(jd(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return Vd(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Fd(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Hd(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return Hd(e.marks)}}function Hd(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function jd(e){return e.document||window.document}const Bd=new WeakMap;function $d(e){let t=Bd.get(e);return void 0===t&&Bd.set(e,t=function(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function Vd(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=$d(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a,s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],d=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let u=d;u<t.length;u++){let o=t[u];if(0===o){if(u<t.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:i}=Vd(e,o,n,r);if(l.appendChild(t),i){if(a)throw new RangeError("Multiple content holes");a=i}}}return{dom:l,contentDOM:a}}const Ud=Math.pow(2,16);function Wd(e,t){return e+t*Ud}function Yd(e){return 65535&e}class qd{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Kd{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Kd.empty)return Kd.empty}recover(e){let t=0,n=Yd(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/Ud}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;let l=this.ranges[a+o],c=this.ranges[a+i],d=s+l;if(e<=d){let o=s+r+((l?e==s?-1:e==d?1:t:t)<0?0:c);if(n)return o;let i=e==(t<0?s:d)?null:Wd(a/3,e-s),u=e==s?2:e==d?1:4;return(t<0?e!=s:e!=d)&&(u|=8),new qd(o,u,i)}r+=c-l}return n?e+r:new qd(e+r,0,null)}touches(e,t){let n=0,r=Yd(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let t=this.ranges[a]-(this.inverted?n:0);if(t>e)break;let s=this.ranges[a+o];if(e<=t+s&&a==3*r)return!0;n+=this.ranges[a+i]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}}invert(){return new Kd(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Kd.empty:new Kd(e<0?[0,-e,0]:[0,0,e])}}Kd.empty=new Kd([]);class Jd{constructor(e,t,n=0,r=(e?e.length:0)){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Jd(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Jd;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let o=this.from;o<this.to;o++){let n=this._maps[o].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(o);if(null!=t&&t>o&&t<this.to){o=t,e=this._maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new qd(e,r,null)}}const Qd=Object.create(null);class Gd{getMap(){return Kd.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Qd[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Qd)throw new RangeError("Duplicate use of step JSON ID "+e);return Qd[e]=t,t.prototype.jsonID=e,t}}class Xd{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Xd(e,null)}static fail(e){return new Xd(null,e)}static fromReplace(e,t,n,r){try{return Xd.ok(e.replace(t,n,r))}catch(Ol){if(Ol instanceof $c)return Xd.fail(Ol.message);throw Ol}}}function Zd(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Zd(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return zc.fromArray(r)}class eu extends Gd{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new Vc(Zd(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return Xd.fromReplace(e,this.from,this.to,o)}invert(){return new tu(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new eu(t.pos,n.pos,this.mark)}merge(e){return e instanceof eu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new eu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new eu(t.from,t.to,e.markFromJSON(t.mark))}}Gd.jsonID("addMark",eu);class tu extends Gd{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Vc(Zd(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return Xd.fromReplace(e,this.from,this.to,n)}invert(){return new eu(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new tu(t.pos,n.pos,this.mark)}merge(e){return e instanceof tu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new tu(t.from,t.to,e.markFromJSON(t.mark))}}Gd.jsonID("removeMark",tu);class nu extends Gd{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Xd.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Xd.fromReplace(e,this.pos,this.pos+1,new Vc(zc.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new nu(this.pos,t.marks[n]);return new nu(this.pos,this.mark)}}return new ru(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new nu(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new nu(t.pos,e.markFromJSON(t.mark))}}Gd.jsonID("addNodeMark",nu);class ru extends Gd{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Xd.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Xd.fromReplace(e,this.pos,this.pos+1,new Vc(zc.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new nu(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ru(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ru(t.pos,e.markFromJSON(t.mark))}}Gd.jsonID("removeNodeMark",ru);class ou extends Gd{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&au(e,this.from,this.to)?Xd.fail("Structure replace would overwrite content"):Xd.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Kd([this.from,this.to-this.from,this.slice.size])}invert(e){return new ou(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new ou(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ou)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?Vc.empty:new Vc(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ou(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?Vc.empty:new Vc(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ou(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ou(t.from,t.to,Vc.fromJSON(e,t.slice),!!t.structure)}}Gd.jsonID("replace",ou);class iu extends Gd{constructor(e,t,n,r,o,i,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=a}apply(e){if(this.structure&&(au(e,this.from,this.gapFrom)||au(e,this.gapTo,this.to)))return Xd.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Xd.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Xd.fromReplace(e,this.from,this.to,n):Xd.fail("Content does not fit in gap")}getMap(){return new Kd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new iu(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new iu(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new iu(t.from,t.to,t.gapFrom,t.gapTo,Vc.fromJSON(e,t.slice),t.insert,!!t.structure)}}function au(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function su(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<i.childCount;l++){let t=i.child(l),c=s+t.nodeSize,d=r.matchType(t.type);if(d){r=d;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new tu(s,c,t.marks[r]));if(o&&t.isText&&"pre"!=n.whitespace){let e,r,o=/\r?\n|\r/g;for(;e=o.exec(t.text);)r||(r=new Vc(zc.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),a.push(new ou(s+e.index,s+e.index+e[0].length,r))}}else a.push(new ou(s,c,Vc.empty));s=c}if(!r.validEnd){let t=r.fillBefore(zc.empty,!0);e.replace(s,s,new Vc(t,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function lu(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function cu(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,r=0,o=0;;--n){let i=e.$from.node(n),a=e.$from.index(n)+r,s=e.$to.indexAfter(n)-o;if(n<e.depth&&i.canReplace(a,s,t))return n;if(0==n||i.type.spec.isolating||!lu(i,a,s))break;a&&(r=1),s<i.childCount&&(o=1)}return null}function du(e,t,n=null,r=e){let o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;let s=(a.length?a[a.length-1]:t).contentMatch;for(let l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(uu).concat({type:t,attrs:n}).concat(i.map(uu)):null}function uu(e){return{type:e,attrs:null}}function pu(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(o.text);){let o=e.mapping.slice(r).map(n+1+i+a.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function hu(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function fu(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,d=n-2;c>i;c--,d--){let e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[d+1];i&&(n=n.replaceChild(0,i.type.create(i.attrs)));let a=r&&r[d]||e;if(!e.canReplace(t+1,e.childCount)||!a.type.validContent(n))return!1}let s=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(s,s,l?l.type:o.node(i+1).type)}function mu(e,t){let n=e.resolve(t),r=n.index();return gu(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function gu(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),a=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n)return!1;if(!e.type.allowsMarks(i.marks))return!1}return n.validEnd}(e,t))}function vu(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let e,i,a=r.index(o);if(o==r.depth?(e=r.nodeBefore,i=r.nodeAfter):n>0?(e=r.node(o+1),a++,i=r.node(o).maybeChild(a)):(e=r.node(o).maybeChild(a-1),i=r.node(o+1)),e&&!e.isTextblock&&gu(e,i)&&r.node(o).canReplace(a,a+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function yu(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),a=r.node(e),s=!1;if(1==i)s=a.canReplace(n,n,o);else{let e=a.contentMatchAt(n).findWrapping(o.firstChild.type);s=e&&a.canReplaceWith(n,n,e[0])}if(s)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function bu(e,t,n=t,r=Vc.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return wu(o,i,r)?new ou(t,n,r):new ku(o,i,r).fit()}function wu(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Gd.jsonID("replaceAround",iu);class ku{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=zc.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=zc.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,a=r.depth;for(;i&&a&&1==o.childCount;)o=o.firstChild.content,i--,a--;let s=new Vc(o,i,a);return e>-1?new iu(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new ou(n.pos,r.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=Su(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let i=this.depth;i>=0;i--){let e,{type:a,match:s}=this.frontier[i],l=null;if(1==t&&(o?s.matchType(o.type)||(l=s.fillBefore(zc.from(o),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:i,parent:r,inject:l};if(2==t&&o&&(e=s.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:i,parent:r,wrap:e};if(r&&s.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Su(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new Vc(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Su(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new Vc(xu(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new Vc(xu(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let f=0;f<o.length;f++)this.openFrontierNode(o[f]);let i=this.unplaced,a=n?n.content:i.content,s=i.openStart-e,l=0,c=[],{match:d,type:u}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));d=d.matchFragment(r)}let p=a.size+e-(i.content.size-i.openEnd);for(;l<a.childCount;){let e=a.child(l),t=d.matchType(e.type);if(!t)break;l++,(l>1||0==s||e.content.size)&&(d=t,c.push(Mu(e.mark(u.allowedMarks(e.marks)),1==l?s:0,l==a.childCount?p:-1)))}let h=l==a.childCount;h||(p=-1),this.placed=Cu(this.placed,t,zc.from(c)),this.frontier[t].match=d,h&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let f=0,m=a;f<p;f++){let e=m.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),m=e.content}this.unplaced=h?0==e?Vc.empty:new Vc(xu(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new Vc(xu(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Du(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=Du(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=Du(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Cu(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Cu(this.placed,this.depth,zc.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(zc.empty,!0);e.childCount&&(this.placed=Cu(this.placed,this.frontier.length,e))}}function xu(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(xu(e.firstChild.content,t-1,n)))}function Cu(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Cu(e.lastChild.content,t-1,n)))}function Su(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Mu(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Mu(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(zc.empty,!0)))),e.copy(r)}function Du(e,t,n,r,o){let i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function Eu(e){return e.spec.defining||e.spec.definingForContent}function Tu(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(Tu(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(zc.empty,!0))}return e}function _u(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class Ou extends Gd{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Xd.fail("No node at attribute step's position");let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Xd.fromReplace(e,this.pos,this.pos+1,new Vc(zc.from(r),0,t.isLeaf?0:1))}getMap(){return Kd.empty}invert(e){return new Ou(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ou(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ou(t.pos,t.attr,t.value)}}Gd.jsonID("attr",Ou);class Au extends Gd{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Xd.ok(n)}getMap(){return Kd.empty}invert(e){return new Au(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Au(t.attr,t.value)}}Gd.jsonID("docAttr",Au);let Nu=class extends Error{};Nu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Nu.prototype=Object.create(Error.prototype)).constructor=Nu,Nu.prototype.name="TransformError";class Ru{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Jd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Nu(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let r=this.mapping.maps[n];n&&(e=r.map(e,1),t=r.map(t,-1)),r.forEach((n,r,o,i)=>{e=Math.min(e,o),t=Math.max(t,i)})}return 1e9==e?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Vc.empty){let r=bu(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Vc(zc.from(n),0,0))}delete(e,t){return this.replace(e,t,Vc.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(wu(o,i,r))return e.step(new ou(t,n,r));let a=_u(o,i);0==a[a.length-1]&&a.pop();let s=-(o.depth+1);a.unshift(s);for(let p=o.depth,h=o.pos-1;p>0;p--,h--){let e=o.node(p).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;a.indexOf(p)>-1?s=p:o.before(p)==h&&a.splice(1,0,-p)}let l=a.indexOf(s),c=[],d=r.openStart;for(let p=r.content,h=0;;h++){let e=p.firstChild;if(c.push(e),h==r.openStart)break;p=e.content}for(let p=d-1;p>=0;p--){let e=c[p],t=Eu(e.type);if(t&&!e.sameMarkup(o.node(Math.abs(s)-1)))d=p;else if(t||!e.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let t=(p+d+1)%(r.openStart+1),s=c[t];if(s)for(let c=0;c<a.length;c++){let d=a[(c+l)%a.length],u=!0;d<0&&(u=!1,d=-d);let p=o.node(d-1),h=o.index(d-1);if(p.canReplaceWith(h,h,s.type,s.marks))return e.replace(o.before(d),u?i.after(d):n,new Vc(Tu(r.content,0,r.openStart,t),t,r.openEnd))}}let u=e.steps.length;for(let p=a.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>u));p--){let e=a[p];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let o=r.depth-1;o>=0;o--){let e=r.index(o);if(r.node(o).canReplaceWith(e,e,n))return r.before(o+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let e=r.indexAfter(o);if(r.node(o).canReplaceWith(e,e,n))return r.after(o+1);if(e<r.node(o).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new Vc(zc.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=_u(r,o);for(let a=0;a<i.length;a++){let t=i[a],n=a==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),o.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),o.indexAfter(t-1))))return e.delete(r.before(t),o.after(t))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&o.end(a)-n!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,a=r.before(i+1),s=o.after(i+1),l=a,c=s,d=zc.empty,u=0;for(let f=i,m=!1;f>n;f--)m||r.index(f)>0?(m=!0,d=zc.from(r.node(f).copy(d)),u++):l--;let p=zc.empty,h=0;for(let f=i,m=!1;f>n;f--)m||o.after(f+1)<o.end(f)?(m=!0,p=zc.from(o.node(f).copy(p)),h++):c++;e.step(new iu(l,c,a,s,new Vc(d.append(p),u,h),d.size-u,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),a=i.node().type;if(o&&a.inlineContent){let e="pre"==a.whitespace,t=!!a.contentMatch.matchType(o);e&&!t?r=!1:!e&&t&&(r=!0)}let s=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);hu(e,r.node(),r.before(),s)}a.inlineContent&&su(e,t+n-1,a,i.node().contentMatchAt(i.index()),null==r);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new ou(c,l.map(t+n,-1),Vc.empty,!0)),!0===r){let t=e.doc.resolve(c);pu(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=zc.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let e=n[a].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=zc.from(n[a].type.create(n[a].attrs,r))}let o=t.start,i=t.end;e.step(new iu(o,i,o,i,new Vc(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let a="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(r,a)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let o=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&hu(e,t,n,i),su(e,e.mapping.slice(i).map(n,1),r,void 0,null===o);let s=e.mapping.slice(i),l=s.map(n,1),c=s.map(n+t.nodeSize,1);return e.step(new iu(l,c,l+1,c-1,new Vc(zc.from(r.create(a,null,t.marks)),0,0),1,!0)),!0===o&&pu(e,t,n,i),!1}})}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new iu(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Vc(zc.from(a),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Ou(e,t,n)),this}setDocAttribute(e,t){return this.step(new Au(e,t)),this}addNodeMark(e,t){return this.step(new nu(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Bc)t.isInSet(n.marks)&&this.step(new ru(e,t));else{let r,o=n.marks,i=[];for(;r=t.isInSet(o);)i.push(new ru(e,r)),o=r.removeFromSet(o);for(let e=i.length-1;e>=0;e--)this.step(i[e])}return this}split(e,t=1,n){return function(e,t,n=1,r){let o=e.doc.resolve(t),i=zc.empty,a=zc.empty;for(let s=o.depth,l=o.depth-n,c=n-1;s>l;s--,c--){i=zc.from(o.node(s).copy(i));let e=r&&r[c];a=zc.from(e?e.type.create(e.attrs,a):o.node(s).copy(a))}e.step(new ou(t,t,new Vc(i.append(a),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let o,i,a=[],s=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let d=e.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),u=Math.min(l+e.nodeSize,n),p=r.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(p)||(o&&o.to==c&&o.mark.eq(d[e])?o.to=u:a.push(o=new tu(c,u,d[e])));i&&i.to==c?i.to=u:s.push(i=new eu(c,u,r))}}),a.forEach(t=>e.step(t)),s.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(e,a)=>{if(!e.isInline)return;i++;let s=null;if(r instanceof Md){let t,n=e.marks;for(;t=r.isInSet(n);)(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,l=s[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:l,from:Math.max(a,t),to:r,step:i})}}}),o.forEach(t=>e.step(new tu(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return su(this,e,t,n),this}}const Iu=Object.create(null);class Pu{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Lu(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Vc.empty){let n=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],c=e.mapping.slice(o);e.replaceRange(c.map(s.pos),c.map(l.pos),a?Vc.empty:t),0==a&&Yu(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:a}=r[o],s=e.mapping.slice(n),l=s.map(i.pos),c=s.map(a.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),Yu(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Hu(e):Wu(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let o=e.depth-1;o>=0;o--){let r=t<0?Wu(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):Wu(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Vu(e.node(0))}static atStart(e){return Wu(e,e,0,0,1)||new Vu(e)}static atEnd(e){return Wu(e,e,e.content.size,e.childCount,-1)||new Vu(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Iu[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Iu)throw new RangeError("Duplicate use of selection JSON ID "+e);return Iu[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Hu.between(this.$anchor,this.$head).getBookmark()}}Pu.prototype.visible=!0;class Lu{constructor(e,t){this.$from=e,this.$to=t}}let zu=!1;function Fu(e){zu||e.parent.inlineContent||(zu=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Hu extends Pu{constructor(e,t=e){Fu(e),Fu(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Pu.near(n);let r=e.resolve(t.map(this.anchor));return new Hu(r.parent.inlineContent?r:n,n)}replace(e,t=Vc.empty){if(super.replace(e,t),t==Vc.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Hu&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ju(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Hu(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Pu.findFrom(t,n,!0)||Pu.findFrom(t,-n,!0);if(!e)return Pu.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(Pu.findFrom(e,-n,!0)||Pu.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new Hu(e,t)}}Pu.jsonID("text",Hu);class ju{constructor(e,t){this.anchor=e,this.head=t}map(e){return new ju(e.map(this.anchor),e.map(this.head))}resolve(e){return Hu.between(e.resolve(this.anchor),e.resolve(this.head))}}class Bu extends Pu{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?Pu.near(o):new Bu(o)}content(){return new Vc(zc.from(this.node),0,0)}eq(e){return e instanceof Bu&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $u(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Bu(e.resolve(t.anchor))}static create(e,t){return new Bu(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Bu.prototype.visible=!1,Pu.jsonID("node",Bu);class $u{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new ju(n,n):new $u(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Bu.isSelectable(n)?new Bu(t):Pu.near(t)}}class Vu extends Pu{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Vc.empty){if(t==Vc.empty){e.delete(0,e.doc.content.size);let t=Pu.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Vu(e)}map(e){return new Vu(e)}eq(e){return e instanceof Vu}getBookmark(){return Uu}}Pu.jsonID("all",Vu);const Uu={map(){return this},resolve:e=>new Vu(e)};function Wu(e,t,n,r,o,i=!1){if(t.inlineContent)return Hu.create(e,n);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let r=t.child(a);if(r.isAtom){if(!i&&Bu.isSelectable(r))return Bu.create(e,n-(o<0?r.nodeSize:0))}else{let t=Wu(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function Yu(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof ou||i instanceof iu)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==o&&(o=r)}),e.setSelection(Pu.near(e.doc.resolve(o),n)))}class qu extends Ru{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return Bc.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Bc.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(Pu.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Ku(e,t){return t&&e?e.bind(t):e}class Ju{constructor(e,t,n){this.name=e,this.init=Ku(t.init,n),this.apply=Ku(t.apply,n)}}const Qu=[new Ju("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new Ju("selection",{init:(e,t)=>e.selection||Pu.atStart(t.doc),apply:e=>e.selection}),new Ju("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new Ju("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class Gu{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Qu.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new Ju(e.key,e.spec.state,e))})}}class Xu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Xu(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new qu(this)}static create(e){let t=new Gu(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Xu(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new Gu(this.schema,e.plugins),n=t.fields,r=new Xu(t);for(let o=0;o<n.length;o++){let t=n[o].name;r[t]=this.hasOwnProperty(t)?this[t]:n[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Gu(e.schema,e.plugins),o=new Xu(r);return r.fields.forEach(r=>{if("doc"==r.name)o.doc=sd.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=Pu.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}}),o}}function Zu(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=Zu(o,t,{})),n[r]=o}return n}class ep{constructor(e){this.spec=e,this.props={},e.props&&Zu(e.props,this,this.props),this.key=e.key?e.key.key:np("plugin")}getState(e){return e[this.key]}}const tp=Object.create(null);function np(e){return e in tp?e+"$"+ ++tp[e]:(tp[e]=0,e+"$")}class rp{constructor(e="key"){this.key=np(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const op=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ip(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const ap=(e,t,n)=>{let r=ip(e,n);if(!r)return!1;let o=dp(r);if(!o){let n=r.blockRange(),o=n&&cu(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(xp(e,o,t,-1))return!0;if(0==r.parent.content.size&&(lp(i,"end")||Bu.isSelectable(i)))for(let a=r.depth;;a--){let n=bu(e.doc,r.before(a),r.after(a),Vc.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(lp(i,"end")?Pu.findFrom(r.doc.resolve(r.mapping.map(o.pos,-1)),-1):Bu.create(r.doc,o.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}if(1==a||r.node(a-1).childCount>1)break}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0)};function sp(e,t,n){let r=t.nodeBefore,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,a=t.pos+1;for(;!i.isTextblock;a++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let s=bu(e.doc,o,a,Vc.empty);if(!s||s.from!=o||s instanceof ou&&s.slice.size>=a-o)return!1;if(n){let t=e.tr.step(s);t.setSelection(Hu.create(t.doc,o)),n(t.scrollIntoView())}return!0}function lp(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const cp=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=dp(r)}let a=i&&i.nodeBefore;return!(!a||!Bu.isSelectable(a))&&(t&&t(e.tr.setSelection(Bu.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function dp(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function up(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const pp=(e,t,n)=>{let r=up(e,n);if(!r)return!1;let o=fp(r);if(!o)return!1;let i=o.nodeAfter;if(xp(e,o,t,1))return!0;if(0==r.parent.content.size&&(lp(i,"start")||Bu.isSelectable(i))){let n=bu(e.doc,r.before(),r.after(),Vc.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(lp(i,"start")?Pu.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):Bu.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)},hp=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=fp(r)}let a=i&&i.nodeAfter;return!(!a||!Bu.isSelectable(a))&&(t&&t(e.tr.setSelection(Bu.create(e.doc,i.pos)).scrollIntoView()),!0)};function fp(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const mp=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function gp(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const vp=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),a=gp(o.contentMatchAt(i));if(!a||!o.canReplaceWith(i,i,a))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,a.createAndFill());o.setSelection(Pu.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},yp=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Vu||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=gp(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(n,i.createAndFill());a.setSelection(Hu.create(a.doc,n+1)),t(a.scrollIntoView())}return!0},bp=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(fu(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&cu(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};const wp=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Bu&&e.selection.node.isBlock)return!(!n.parentOffset||!fu(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.depth)return!1;let o,i,a=[],s=!1,l=!1;for(let p=n.depth;;p--){if(n.node(p).isBlock){s=n.end(p)==n.pos+(n.depth-p),l=n.start(p)==n.pos-(n.depth-p),i=gp(n.node(p-1).contentMatchAt(n.indexAfter(p-1)));let e=kp&&kp(r.parent,s,n);a.unshift(e||(s&&i?{type:i}:null)),o=p;break}if(1==p)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof Hu||e.selection instanceof Vu)&&c.deleteSelection();let d=c.mapping.map(n.pos),u=fu(c.doc,d,a.length,a);if(u||(a[0]=i?{type:i}:null,u=fu(c.doc,d,a.length,a)),!u)return!1;if(c.split(d,a.length,a),!s&&l&&n.node(o).type!=i){let e=c.mapping.map(n.before(o)),t=c.doc.resolve(e);i&&n.node(o-1).canReplaceWith(t.index(),t.index()+1,i)&&c.setNodeMarkup(c.mapping.map(n.before(o)),i)}return t&&t(c.scrollIntoView()),!0};var kp;function xp(e,t,n,r){let o,i,a=t.nodeBefore,s=t.nodeAfter,l=a.type.spec.isolating||s.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!o.isTextblock&&!mu(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(i=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&i.matchType(o[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,i=zc.empty;for(let e=o.length-1;e>=0;e--)i=zc.from(o[e].create(null,i));i=zc.from(a.copy(i));let l=e.tr.step(new iu(t.pos-1,r,t.pos,r,new Vc(i,1,0),o.length,!0)),c=l.doc.resolve(r+2*o.length);c.nodeAfter&&c.nodeAfter.type==a.type&&mu(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&l?null:Pu.findFrom(t,1),u=d&&d.$from.blockRange(d.$to),p=u&&cu(u);if(null!=p&&p>=t.depth)return n&&n(e.tr.lift(u,p).scrollIntoView()),!0;if(c&&lp(s,"start",!0)&&lp(a,"end")){let r=a,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let i=s,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=zc.empty;for(let e=o.length-1;e>=0;e--)r=zc.from(o[e].copy(r));n(e.tr.step(new iu(t.pos-o.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new Vc(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Cp(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(Hu.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const Sp=Cp(-1),Mp=Cp(1);function Dp(e,t=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:r},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(r,a,(r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}})}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];o.setBlockType(i,a,e,t)}r(o.scrollIntoView())}return!0}}function Ep(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let Tp=Ep(op,ap,cp),_p=Ep(op,pp,hp);const Op={Enter:Ep(mp,yp,bp,wp),"Mod-Enter":vp,Backspace:Tp,"Mod-Backspace":Tp,"Shift-Backspace":Tp,Delete:_p,"Mod-Delete":_p,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new Vu(e.doc))),!0)},Ap={"Ctrl-h":Op.Backspace,"Alt-Backspace":Op["Mod-Backspace"],"Ctrl-d":Op.Delete,"Ctrl-Alt-Backspace":Op["Mod-Delete"],"Alt-Delete":Op["Mod-Delete"],"Alt-d":Op["Mod-Delete"],"Ctrl-a":Sp,"Ctrl-e":Mp};for(let os in Op)Ap[os]=Op[os];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function Np(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i);if(!a)return!1;let s=r?n.tr:null;return!!function(e,t,n,r=null){let o=!1,i=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=a.resolve(t.start-2);i=new id(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new id(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let s=du(i,n,r,t);if(!s)return!1;e&&function(e,t,n,r,o){let i=zc.empty;for(let d=n.length-1;d>=0;d--)i=zc.from(n[d].type.create(n[d].attrs,i));e.step(new iu(t.start-(r?2:0),t.end,t.start,t.end,new Vc(i,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==o&&(a=d+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,u=t.endIndex,p=!0;d<u;d++,p=!1)!p&&fu(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(d).nodeSize}(e,t,s,o,n);return!0}(s,a,e,t)&&(r&&r(s.scrollIntoView()),!0)}}function Rp(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);return!!i&&(!n||(r.node(i.depth-1).type==e?function(e,t,n,r){let o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new iu(i-1,a,i,a,new Vc(zc.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new id(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const s=cu(r);if(null==s)return!1;o.lift(r,s);let l=o.doc.resolve(o.mapping.map(i,-1)-1);mu(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos);return t(o.scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let r=e.tr,o=n.parent;for(let h=n.end,f=n.endIndex-1,m=n.startIndex;f>m;f--)h-=o.child(f).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==o.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(s?0:1),d+1,a.content.append(l?zc.empty:zc.from(o))))return!1;let u=i.pos,p=u+a.nodeSize;return r.step(new iu(u-(s?1:0),p+(l?1:0),u+1,p-1,new Vc((s?zc.empty:zc.from(o.copy(zc.empty))).append(l?zc.empty:zc.from(o.copy(zc.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}(t,n,i)))}}const Ip=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Pp=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let Lp=null;const zp=function(e,t,n){let r=Lp||(Lp=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Fp=function(e,t,n,r){return n&&(jp(e,t,n,r,-1)||jp(e,t,n,r,1))},Hp=/^(img|br|input|textarea|hr)$/i;function jp(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Bp(e))){let n=e.parentNode;if(!n||1!=n.nodeType||$p(e)||Hp.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Ip(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;t+=o}else e=n,t=o<0?Bp(e):0}}}}function Bp(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function $p(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Vp=function(e){return e.focusNode&&Fp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Up(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Wp="undefined"!=typeof navigator?navigator:null,Yp="undefined"!=typeof document?document:null,qp=Wp&&Wp.userAgent||"",Kp=/Edge\/(\d+)/.exec(qp),Jp=/MSIE \d/.exec(qp),Qp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qp),Gp=!!(Jp||Qp||Kp),Xp=Jp?document.documentMode:Qp?+Qp[1]:Kp?+Kp[1]:0,Zp=!Gp&&/gecko\/(\d+)/i.test(qp);Zp&&(/Firefox\/(\d+)/.exec(qp)||[0,0])[1];const eh=!Gp&&/Chrome\/(\d+)/.exec(qp),th=!!eh,nh=eh?+eh[1]:0,rh=!Gp&&!!Wp&&/Apple Computer/.test(Wp.vendor),oh=rh&&(/Mobile\/\w+/.test(qp)||!!Wp&&Wp.maxTouchPoints>2),ih=oh||!!Wp&&/Mac/.test(Wp.platform),ah=!!Wp&&/Win/.test(Wp.platform),sh=/Android \d/.test(qp),lh=!!Yp&&"webkitFontSmoothing"in Yp.documentElement.style,ch=lh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function dh(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function uh(e,t){return"number"==typeof e?e:e[t]}function ph(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function hh(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(1!=a.nodeType){a=Pp(a);continue}let e=a,n=e==i.body,s=n?dh(i):ph(e),l=0,c=0;if(t.top<s.top+uh(r,"top")?c=-(s.top-t.top+uh(o,"top")):t.bottom>s.bottom-uh(r,"bottom")&&(c=t.bottom-t.top>s.bottom-s.top?t.top+uh(o,"top")-s.top:t.bottom-s.bottom+uh(o,"bottom")),t.left<s.left+uh(r,"left")?l=-(s.left-t.left+uh(o,"left")):t.right>s.right-uh(r,"right")&&(l=t.right-s.right+uh(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}let d=n?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(d))break;a="absolute"==d?a.offsetParent:Pp(a)}}function fh(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Pp(r));return t}function mh(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let gh=null;function vh(e,t){let n,r,o,i,a=2e8,s=0,l=t.top,c=t.top;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let e;if(1==d.nodeType)e=d.getClientRects();else{if(3!=d.nodeType)continue;e=zp(d).getClientRects()}for(let p=0;p<e.length;p++){let h=e[p];if(h.top<=l&&h.bottom>=c){l=Math.max(h.bottom,l),c=Math.min(h.top,c);let e=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(e<a){n=d,a=e,r=e&&3==n.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==d.nodeType&&e&&(s=u+(t.left>=(h.left+h.right)/2?1:0));continue}}else h.top>t.top&&!o&&h.left<=t.left&&h.right>=t.left&&(o=d,i={left:Math.max(h.left,Math.min(h.right,t.left)),top:h.top});!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(s=u+1)}}return!n&&o&&(n=o,r=i,a=0),n&&3==n.nodeType?function(e,t){let n,r=e.nodeValue.length,o=document.createRange();for(let i=0;i<r;i++){o.setEnd(e,i+1),o.setStart(e,i);let r=xh(o,1);if(r.top!=r.bottom&&yh(t,r)){n={node:e,offset:i+(t.left>=(r.left+r.right)/2?1:0)};break}}return o.detach(),n||{node:e,offset:0}}(n,r):!n||a&&1==n.nodeType?{node:e,offset:s}:vh(n,r)}function yh(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function bh(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(yh(t,o))return bh(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function wh(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Bp(r.offsetNode),r.offset)}}catch(Gl){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Bp(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let a,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!yh(t,n))return null;if(s=bh(e.dom,t,n),!s)return null}if(rh)for(let c=s;n&&c;c=Pp(c))c.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(Zp&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let r;lh&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(a=function(e,t,n,r){let o=-1;for(let i=t,a=!1;i!=e.dom;){let t,n=e.docView.nearestDesc(i,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!a&&t.left>r.left||t.top>r.top?o=n.posBefore:(!a&&t.right<r.left||t.bottom<r.top)&&(o=n.posAfter),a=!0),!n.contentDOM&&o<0&&!n.node.isText))return(n.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;i=n.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==a&&(a=function(e,t,n){let{node:r,offset:o}=vh(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function kh(e){return e.top<e.bottom||e.left<e.right}function xh(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(kh(e))return e}return Array.prototype.find.call(n,kh)||e.getBoundingClientRect()}const Ch=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Sh(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),a=lh||Zp;if(3==r.nodeType){if(!a||!Ch.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,Mh(xh(zp(r,e,t),i),i<0)}{let e=xh(zp(r,o,o),n);if(Zp&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=xh(zp(r,o-1,o-1),-1);if(t.top==e.top){let n=xh(zp(r,o,o+1),-1);if(n.top!=e.top)return Mh(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==Bp(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return Dh(e.getBoundingClientRect(),!1)}if(null==i&&o<Bp(r)){let e=r.childNodes[o];if(1==e.nodeType)return Dh(e.getBoundingClientRect(),!0)}return Dh(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==Bp(r))){let e=r.childNodes[o-1],t=3==e.nodeType?zp(e,Bp(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return Mh(xh(t,1),!1)}if(null==i&&o<Bp(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?zp(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return Mh(xh(t,-1),!0)}return Mh(xh(3==r.nodeType?zp(r):r,-n),n>=0)}function Mh(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Dh(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Eh(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const Th=/[\u0590-\u08ac]/;let _h=null,Oh=null,Ah=!1;function Nh(e,t,n){return _h==t&&Oh==n?Ah:(_h=t,Oh=n,Ah="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return Eh(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=Sh(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=zp(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=e.domSelection();return s?Th.test(r.parent.textContent)&&s.modify?Eh(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:a}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:d,focusOffset:u}=e.domSelectionRange(),p=d&&!c.contains(1==d.nodeType?d:d.parentNode)||t==d&&o==u;try{s.collapse(i,a),t&&(t!=i||o!=a)&&s.extend&&s.extend(t,o)}catch(Gl){}return null!=l&&(s.caretBidiLevel=l),p}):"left"==n||"backward"==n?i:a:r.pos==r.start()||r.pos==r.end()}(e,t,n))}class Rh{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>Ip(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let t=this.children[n],i=o+t.size;if(i>e||t instanceof jh){r=e-o;break}o=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof Ih&&o.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?Ip(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?Ip(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,a=0;;a++){let n=this.children[a],s=i+n.size;if(-1==r&&e<=s){let o=i+n.border;if(e>=o&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=Ip(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=Ip(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let p=0,h=0;p<this.children.length;p++){let a=this.children[p],s=h+a.size;if(o>h&&i<s)return a.setSelection(e-h-a.border,t-h-a.border,n,r);h=s}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((Zp||rh)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(d=!(!t||"\n"!=e.nodeValue[t-1]),d&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(a=s={node:n.parentNode,offset:Ip(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Zp&&c.focusNode&&c.focusNode!=s.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||d&&rh)&&Fp(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Fp(s.node,s.offset,c.focusNode,c.focusOffset))return;let u=!1;if((l.extend||e==t)&&(!d||!Zp)){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),u=!0}catch(Gl){}}if(!u){if(e>t){let e=a;a=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,a=i-o.border;if(e>=r&&t<=a)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Ih extends Rh{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Ph extends Rh{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Lh extends Rh{constructor(e,t,n,r,o){super(e,[],n,r),this.mark=t,this.spec=o}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=Fd.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Lh(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=Lh.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=Zh(o,t,i,n)),e>0&&(o=Zh(o,0,e,n));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zh extends Rh{constructor(e,t,n,r,o,i,a,s,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,o,i){let a,s=o.nodeViews[t.type.name],l=s&&s(t,o,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:i,n,r),c=l&&l.dom,d=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=Fd.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:d}=e)}d||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let u=c;return c=Kh(c,n,t),l?a=new Bh(e,t,n,r,c,d||null,u,l,o,i+1):t.isText?new Hh(e,t,n,r,c,u,o):new zh(e,t,n,r,c,d||null,u,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>zc.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Jh(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,s=new Gh(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);r(a,o,t.forChild(i,a),n),i+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let d,u,p,h;for(;a<o.length&&o[a].to==i;){let e=o[a++];e.widget&&(d?(u||(u=[d])).push(e):d=e)}if(d)if(u){u.sort(Xh);for(let e=0;e<u.length;e++)n(u[e],c,!!l)}else n(d,c,!!l);if(l)h=-1,p=l,l=null;else{if(!(c<e.childCount))break;h=c,p=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=i&&s.splice(e--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);let f=i+p.nodeSize;if(p.isText){let e=f;a<o.length&&o[a].from<e&&(e=o[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<f&&(l=p.cut(e-i),p=p.cut(0,e-i),f=e,h=-1)}else for(;a<o.length&&o[a].to<f;)a++;let m=p.isInline&&!p.isLeaf?s.filter(e=>!e.inline):s.slice();r(p,m,t.forChild(i,p),h),i=f}}(this.node,this.innerDeco,(t,o,i)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e,o):t.type.side>=0&&!i&&s.syncToMarks(o==this.node.childCount?Bc.none:this.node.child(o).marks,n,e,o),s.placeWidget(t,e,r)},(t,i,l,c)=>{let d;s.syncToMarks(t.marks,n,e,c),s.findNodeMatch(t,i,l,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=s.findIndexWithChild(o.node))>-1&&s.updateNodeAt(t,i,l,d,e)||s.updateNextNode(t,i,l,e,c,r)||s.addNode(t,i,l,e,r),r+=t.nodeSize}),s.syncToMarks([],n,e,0),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),$h(this.contentDOM,this.children,e),oh&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Hu)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let a=e.child(o++),s=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new Ph(this,o,t,r);e.input.compositionNodes.push(i),this.children=Zh(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Jh(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Yh(this.dom,this.nodeDOM,Wh(this.outerDeco,this.node,t),Wh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Fh(e,t,n,r,o){Kh(r,t,e);let i=new zh(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class Hh extends zh{constructor(e,t,n,r,o,i,a){super(e,t,n,r,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new Hh(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class jh extends Rh{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Bh extends zh{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.spec=s}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function $h(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=Qh(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof Lh){let t=r?r.previousSibling:e.lastChild;$h(a.contentDOM,a.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Qh(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Vh=function(e){e&&(this.nodeName=e)};Vh.prototype=Object.create(null);const Uh=[new Vh];function Wh(e,t,n){if(0==e.length)return Uh;let r=n?Uh[0]:new Vh,o=[r];for(let i=0;i<e.length;i++){let a=e[i].type.attrs;if(a){a.nodeName&&o.push(r=new Vh(a.nodeName));for(let e in a){let i=a[e];null!=i&&(n&&1==o.length&&o.push(r=new Vh(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function Yh(e,t,n,r){if(n==Uh&&r==Uh)return t;let o=t;for(let i=0;i<r.length;i++){let t=r[i],a=n[i];if(i){let n;a&&a.nodeName==t.nodeName&&o!=e&&(n=o.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(o),a=Uh[0]),o=n}qh(o,a||Uh[0],t)}return o}function qh(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Kh(e,t,n){return Yh(e,e,Uh,Wh(t,n,1!=e.nodeType))}function Jh(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Qh(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Gh{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof Lh)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(o-1))break;--o,i.set(s,o),a.push(s)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n,r){let o=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;o<a&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let o=-1,a=this.top.children.length;r<this.preMatch.index&&(a=Math.min(this.index+3,a));for(let t=this.index;t<a;t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){o=t;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let r=Lh.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){let r=this.top.children[a];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof zh){let l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;let c,d=s.dom,u=this.isLocked(d)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Jh(t,s.outerDeco));if(!u&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=d&&(this.changed=!0),this.index++,!0;if(!u&&(c=this.recreateWrapper(s,e,t,n,r,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Jh(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=zh.create(this.top,t,n,r,o,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let e of a.children)e.parent=a}return e.destroy(),a}addNode(e,t,n,r,o){let i=zh.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new Ih(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Lh;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Hh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((rh||th)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new jh(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Xh(e,t){return e.type.side-t.type.side}function Zh(e,t,n,r,o){let i=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,d=s+=l.size;c>=n||d<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),d>n&&i.push(l.slice(n-c,l.size,r)))}return i}function ef(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,l,c=r.resolve(a);if(Vp(n)){for(s=a;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&Bu.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==Bp(e);r||o;){if(e==n)return!0;let t=Ip(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==Bp(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new Bu(a==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=a,o=a;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[s,a]=o==e.state.selection.anchor?[o,t]:[t,o],c=r.resolve(a)}else s=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(s<0)return null}let d=r.resolve(s);if(!l){l=df(e,d,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function tf(e){return e.editable?e.hasFocus():pf(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function nf(e,t=!1){let n=e.state.selection;if(lf(e,n),tf(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&th){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&Fp(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,Ip(n)+1):t.collapse(n,0);!r&&!e.state.selection.visible&&Gp&&Xp<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,o,{anchor:i,head:a}=n;!rf||n instanceof Hu||(n.$from.parent.inlineContent||(r=of(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=of(e,n.to))),e.docView.setSelection(i,a,e,t),rf&&(r&&sf(r),o&&sf(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{tf(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const rf=rh||th&&nh<63;function of(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(rh&&o&&"false"==o.contentEditable)return af(o);if(!(o&&"false"!=o.contentEditable||i&&"false"!=i.contentEditable)){if(o)return af(o);if(i)return af(i)}}function af(e){return e.contentEditable="true",rh&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function sf(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function lf(e,t){if(t instanceof Bu){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(cf(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else cf(e)}function cf(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function df(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||Hu.between(t,n,r)}function uf(e){return!(e.editable&&!e.hasFocus())&&pf(e)}function pf(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(Gl){return!1}}function hf(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&Pu.findFrom(i,t)}function ff(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function mf(e,t,n){let r=e.state.selection;if(!(r instanceof Hu)){if(r instanceof Bu&&r.node.isInline)return ff(e,new Hu(t>0?r.$to:r.$from));{let n=hf(e.state,t);return!!n&&ff(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return ff(e,new Hu(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=hf(e.state,t);return!!(n&&n instanceof Bu)&&ff(e,n)}if(!(ih&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let a=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(Bu.isSelectable(i)?ff(e,new Bu(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!lh&&ff(e,new Hu(e.state.doc.resolve(t<0?a:a+i.nodeSize))))}}function gf(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function vf(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function yf(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=!1;Zp&&1==n.nodeType&&r<gf(n)&&vf(n.childNodes[r],-1)&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(vf(e,-1))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(bf(n))break;{let t=n.previousSibling;for(;t&&vf(t,-1);)o=n.parentNode,i=Ip(t),t=t.previousSibling;if(t)n=t,r=gf(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?wf(e,n,r):o&&wf(e,o,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=gf(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!vf(n.childNodes[r],1))break;o=n,i=++r}else{if(bf(n))break;{let t=n.nextSibling;for(;t&&vf(t,1);)o=t.parentNode,i=Ip(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=gf(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}o&&wf(e,o,i)}(e)}function bf(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function wf(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!$p(e);)t=Ip(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!$p(e);)t=Ip(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Vp(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&nf(e)},50)}function kf(e,t){let n=e.state.doc.resolve(t);if(!th&&!ah&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function xf(e,t,n){let r=e.state.selection;if(r instanceof Hu&&!r.empty||n.indexOf("s")>-1)return!1;if(ih&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=hf(e.state,t);if(n&&n instanceof Bu)return ff(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,a=r instanceof Vu?Pu.near(n,t):Pu.findFrom(n,t);return!!a&&ff(e,a)}return!1}function Cf(e,t){if(!(e.state.selection instanceof Hu))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function Sf(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Mf(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||ih&&72==n&&"c"==r)return Cf(e,-1)||yf(e,-1);if(46==n&&!t.shiftKey||ih&&68==n&&"c"==r)return Cf(e,1)||yf(e,1);if(13==n||27==n)return!0;if(37==n||ih&&66==n&&"c"==r){let t=37==n?"ltr"==kf(e,e.state.selection.from)?-1:1:-1;return mf(e,t,r)||yf(e,t)}if(39==n||ih&&70==n&&"c"==r){let t=39==n?"ltr"==kf(e,e.state.selection.from)?1:-1:1;return mf(e,t,r)||yf(e,t)}return 38==n||ih&&80==n&&"c"==r?xf(e,-1,r)||yf(e,-1):40==n||ih&&78==n&&"c"==r?function(e){if(!rh||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;Sf(e,n,"true"),setTimeout(()=>Sf(e,n,"false"),20)}return!1}(e)||xf(e,1,r)||yf(e,1):r==(ih?"m":"c")&&(66==n||73==n||89==n||90==n)}function Df(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||Fd.fromSchema(e.state.schema),s=Lf(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c,d=l.firstChild,u=0;for(;d&&1==d.nodeType&&(c=If[d.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),u++}d=l.firstChild}d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${o} ${i}${u?` -${u}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:p,slice:t}}function Ef(e,t,n,r,o){let i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,s||r,e)}),s)return a=new Vc(zc.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{a=t(a,e,!0)}),a;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)a=n;else{let n=o.marks(),{schema:r}=e.state,a=Fd.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=Lf().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&If[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join(""));if(r.innerHTML=function(e){let t=window.trustedTypes;if(!t)return e;zf||(zf=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e}));return zf.createHTML(e)}(e),n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),lh&&function(e){let t=e.querySelectorAll(th?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||Td.fromSchema(e.state.schema);a=t.parseSlice(i,{preserveWhitespace:!(!l&&!d),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Tf.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(d)a=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(Ol){return e}let{content:o,openStart:i,openEnd:a}=e;for(let s=n.length-2;s>=0;s-=2){let e=r.nodes[n[s]];if(!e||e.hasRequiredAttrs())break;o=zc.from(e.create(n[s+1],o)),i++,a++}return new Vc(o,i,a)}(Rf(a,+d[1],+d[2]),d[4]);else if(a=Vc.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach(e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&Of(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=Af(i[i.length-1],r.length));let t=_f(e,n);i.push(t),o=o.matchType(t.type),r=n}}),i)return zc.from(i)}return e}(a.content,o),!0),a.openStart||a.openEnd){let e=0,t=0;for(let n=a.content.firstChild;e<a.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=a.content.lastChild;t<a.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);a=Rf(a,e,t)}return e.someProp("transformPasted",t=>{a=t(a,e,l)}),a}const Tf=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _f(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,zc.from(e));return e}function Of(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=Of(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(zc.from(_f(n,e,o+1))))}}function Af(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,Af(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(zc.empty,!0);return e.copy(n.append(r))}function Nf(e,t,n,r,o,i){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(i=0),o<r-1&&(s=Nf(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(zc.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Rf(e,t,n){return t<e.openStart&&(e=new Vc(Nf(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Vc(Nf(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const If={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Pf=null;function Lf(){return Pf||(Pf=document.implementation.createHTMLDocument("title"))}let zf=null;const Ff={},Hf={},jf={touchstart:!0,touchmove:!0};class Bf{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function $f(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Vf(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Uf(e,t))})}function Uf(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function Wf(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Yf(e){return{left:e.clientX,top:e.clientY}}function qf(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(e.someProp(t,t=>a>i.depth?t(e,n,i.nodeAfter,i.before(a),o,!0):t(e,n,i.node(a),i.before(a),o,!1)))return!0;return!1}function Kf(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Jf(e,t,n,r,o){return qf(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof Bu&&(n=o.node);let i=e.state.doc.resolve(t);for(let a=i.depth+1;a>0;a--){let e=a>i.depth?i.nodeAfter:i.node(a);if(Bu.isSelectable(e)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Kf(e,Bu.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Bu.isSelectable(r))&&(Kf(e,new Bu(n),"pointer"),!0)}(e,n))}function Qf(e,t,n,r){return qf(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function Gf(e,t,n,r){return qf(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Kf(e,Hu.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let t=i>o.depth?o.nodeAfter:o.node(i),n=o.before(i);if(t.inlineContent)Kf(e,Hu.create(r,n+1,n+1+t.content.size),"pointer");else{if(!Bu.isSelectable(t))continue;Kf(e,Bu.create(r,n),"pointer")}return!0}}(e,n,r)}function Xf(e){return am(e)}Hf.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!tm(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!sh||!th||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!oh||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||Mf(e,n)?n.preventDefault():$f(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,Up(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},Hf.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Hf.keypress=(e,t)=>{let n=t;if(tm(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ih&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Hu&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,o))||e.dispatch(o()),n.preventDefault()}};const Zf=ih?"metaKey":"ctrlKey";Ff.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Xf(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Zf]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=e.posAtCoords(Yf(n));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new em(e,a,n,!!r)):("doubleClick"==i?Qf:Gf)(e,a.pos,a.inside,n)?n.preventDefault():$f(e,"pointer"))};class em{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Zf],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const a=r?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&1==s.nodeDOM.nodeType?s.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof Bu&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Zp||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),$f(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>nf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Yf(e))),this.updateAllowDefault(e),this.allowDefault||!t?$f(this.view,"pointer"):Jf(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||rh&&this.mightDrag&&!this.mightDrag.node.isAtom||th&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Kf(this.view,Pu.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):$f(this.view,"pointer")}move(e){this.updateAllowDefault(e),$f(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function tm(e,t){return!!e.composing||!!(rh&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}Ff.touchstart=e=>{e.input.lastTouch=Date.now(),Xf(e),$f(e,"pointer")},Ff.touchmove=e=>{e.input.lastTouch=Date.now(),$f(e,"pointer")},Ff.contextmenu=e=>Xf(e);const nm=sh?5e3:-1;function rm(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>am(e),t))}function om(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function im(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=Bp(e=e.childNodes[t-1])}else{if(!e.parentNode||$p(e))return null;t=Ip(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||$p(e))return null;t=Ip(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}function am(e,t=!1){if(!(sh&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),om(e),t||e.docView&&e.docView.dirty){let n=ef(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}Hf.compositionstart=Hf.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Hu&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)||th&&ah&&function(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||1!=t.nodeType||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return 1==r.nodeType&&"false"==r.contentEditable}(e)))e.markCursor=e.state.storedMarks||n.marks(),am(e,!0),e.markCursor=null;else if(am(e,!t.selection.empty),Zp&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}rm(e,nm)},Hf.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,rm(e,20))};const sm=Gp&&Xp<15||oh&&ch<604;function lm(e,t,n,r,o){let i=Ef(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,o,i||Vc.empty)))return!0;if(!i)return!1;let a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function cm(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ff.copy=Hf.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=sm?null:n.clipboardData,a=r.content(),{dom:s,text:l}=Df(e,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Hf.paste=(e,t)=>{let n=t;if(e.composing&&!sh)return;let r=sm?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&lm(e,cm(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?lm(e,r.value,null,o,t):lm(e,r.textContent,r.innerHTML,o,t)},50)}(e,n)};class dm{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const um=ih?"altKey":"ctrlKey";function pm(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[um]}Ff.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o,i=e.state.selection,a=i.empty?null:e.posAtCoords(Yf(n));if(a&&a.pos>=i.from&&a.pos<=(i instanceof Bu?i.to-1:i.to));else if(r&&r.mightDrag)o=Bu.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=Bu.create(e.state.doc,t.posBefore))}let s=(o||e.state.selection).content(),{dom:l,text:c,slice:d}=Df(e,s);(!n.dataTransfer.files.length||!th||nh>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(sm?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",sm||n.dataTransfer.setData("text/plain",c),e.dragging=new dm(d,pm(e,n),o)},Ff.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},Hf.dragover=Hf.dragenter=(e,t)=>t.preventDefault(),Hf.drop=(e,t)=>{try{!function(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(Yf(t));if(!r)return;let o=e.state.doc.resolve(r.pos),i=n&&n.slice;i?e.someProp("transformPasted",t=>{i=t(i,e,!1)}):i=Ef(e,cm(t.dataTransfer),sm?null:t.dataTransfer.getData("text/html"),!1,o);let a=!(!n||!pm(e,t));if(e.someProp("handleDrop",n=>n(e,t,i||Vc.empty,a)))return void t.preventDefault();if(!i)return;t.preventDefault();let s=i?yu(e.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);let l=e.state.tr;if(a){let{node:e}=n;e?e.replace(l):l.deleteSelection()}let c=l.mapping.map(s),d=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,u=l.doc;d?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i);if(l.doc.eq(u))return;let p=l.doc.resolve(c);if(d&&Bu.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new Bu(p));else{let t=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),l.setSelection(df(e,p,l.doc.resolve(t)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}(e,t,e.dragging)}finally{e.dragging=null}},Ff.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&nf(e)},20))},Ff.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},Ff.beforeinput=(e,t)=>{if(th&&sh&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,Up(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let os in Hf)Ff[os]=Hf[os];function hm(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class fm{constructor(e,t){this.toDOM=e,this.spec=t||bm,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new vm(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof fm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&hm(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class mm{constructor(e,t){this.attrs=e,this.spec=t||bm}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new vm(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof mm&&hm(this.attrs,e.attrs)&&hm(this.spec,e.spec)}static is(e){return e.type instanceof mm}destroy(){}}class gm{constructor(e,t){this.attrs=e,this.spec=t||bm}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new vm(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof gm&&hm(this.attrs,e.attrs)&&hm(this.spec,e.spec)}destroy(){}}class vm{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new vm(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new vm(e,e,new fm(t,n))}static inline(e,t,n,r){return new vm(e,t,new mm(n,r))}static node(e,t,n,r){return new vm(e,t,new gm(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof mm}get widget(){return this.type instanceof fm}}const ym=[],bm={};class wm{constructor(e,t){this.local=e.length?e:ym,this.children=t.length?t:ym}static create(e,t){return t.length?Dm(t,e,0,bm):km}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,t-a,n,r+a,o)}}map(e,t,n){return this==km||0==e.maps.length?this:this.mapInner(e,t,0,0,n||bm)}mapInner(e,t,n,r,o){let i;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){let s=e.slice();for(let c=0,d=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,o)=>{let i=o-r-(n-t);for(let a=0;a<s.length;a+=3){let r=s[a+1];if(r<0||t>r+d-e)continue;let o=s[a]+d-e;n>=o?s[a+1]=t<=o?-2:-1:t>=d&&i&&(s[a]+=i,s[a+1]+=i)}e+=i}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(-2==s[c+1]){l=!0,s[c+1]=-1;continue}let t=n.map(e[c]+i),d=t-o;if(d<0||d>=r.content.size){l=!0;continue}let u=n.map(e[c+1]+i,-1)-o,{index:p,offset:h}=r.content.findIndex(d),f=r.maybeChild(p);if(f&&h==d&&h+f.nodeSize==u){let r=s[c+2].mapInner(n,f,t+1,e[c]+i+1,a);r!=km?(s[c]=d,s[c+1]=u,s[c+2]=r):(s[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,o,i,a){function s(e,t){for(let i=0;i<e.local.length;i++){let s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+i+1);return n}(s,e,t,n,o,i,a),c=Dm(l,r,0,a);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new wm(t.sort(Em),s)}(this.children,i||[],e,t,n,r,o):i?new wm(i.sort(Em),ym):km}add(e,t){return t.length?this==km?wm.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,i)=>{let a,s=i+n;if(a=Sm(t,e,s)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,a,s+1):r.splice(o,0,i,i+e.nodeSize,Dm(a,e,s+1,bm)),o+=3}});let i=Cm(o?Mm(t):t,-n);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new wm(i.length?this.local.concat(i).sort(Em):this.local,r||this.children)}remove(e){return 0==e.length||this==km?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,a=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<a&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let s=n[o+2].removeInner(r,i+1);s!=km?n[o+2]=s:(n.splice(o,3),o-=3)}if(r.length)for(let o,i=0;i<e.length;i++)if(o=e[i])for(let e=0;e<r.length;e++)r[e].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new wm(r,n):km}forChild(e,t){if(this==km)return this;if(t.isLeaf)return wm.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let o=e+1,i=o+t.content.size;for(let a=0;a<this.local.length;a++){let e=this.local[a];if(e.from<i&&e.to>o&&e.type instanceof mm){let t=Math.max(o,e.from)-o,n=Math.min(i,e.to)-o;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new wm(r.sort(Em),ym);return n?new xm([e,n]):e}return n||km}eq(e){if(this==e)return!0;if(!(e instanceof wm)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Tm(this.localsInner(e))}localsInner(e){if(this==km)return ym;if(e.inlineContent||!this.local.some(mm.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof mm||t.push(this.local[n]);return t}forEachSet(e){e(this)}}wm.empty=new wm([],[]),wm.removeOverlap=Tm;const km=wm.empty;class xm{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,bm));return xm.from(n)}forChild(e,t){if(t.isLeaf)return wm.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=km&&(o instanceof xm?n=n.concat(o.members):n.push(o))}return xm.from(n)}eq(e){if(!(e instanceof xm)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?Tm(n?t:t.sort(Em)):ym}static from(e){switch(e.length){case 0:return km;case 1:return e[0];default:return new xm(e.every(e=>e instanceof wm)?e:e.reduce((e,t)=>e.concat(t instanceof wm?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Cm(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new vm(o.from+t,o.to+t,o.type))}return n}function Sm(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i,a=0;a<e.length;a++)(i=e[a])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),e[a]=null);return o}function Mm(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Dm(e,t,n,r){let o=[],i=!1;t.forEach((t,a)=>{let s=Sm(e,t,a+n);if(s){i=!0;let e=Dm(s,t,n+a+1,r);e!=km&&o.push(a,a+t.nodeSize,e)}});let a=Cm(i?Mm(e):e,-n).sort(Em);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new wm(a,o):km}function Em(e,t){return e.from-t.from||e.to-t.to}function Tm(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),_m(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),_m(t,o+1,i.copy(r.to,i.to)))}}return t}function _m(e,t,n){for(;t<e.length&&Em(n,e[t])>0;)t++;e.splice(t,0,n)}function Om(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=km&&t.push(r)}),e.cursorWrapper&&t.push(wm.create(e.state.doc,[e.cursorWrapper.deco])),xm.from(t)}const Am={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Nm=Gp&&Xp<=11;class Rm{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Im{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rm,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);Gp&&Xp<=11&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():rh&&e.composing&&t.some(e=>"childList"==e.type&&"TR"==e.target.nodeName)?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Nm&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Am)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(uf(this.view)){if(this.suppressingSelectionUpdates)return nf(this.view);if(Gp&&Xp<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let o=e.focusNode;o;o=Pp(o))n.add(o);for(let o=e.anchorNode;o;o=Pp(o))if(n.has(o)){t=o;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&uf(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,a=!1,s=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],s);e&&(o=o<0?e.from:Math.min(e.from,o),i=i<0?e.to:Math.max(e.to,i),e.typeOver&&(a=!0))}if(!s.some(e=>"BR"==e.nodeName)||8!=e.input.lastKeyCode&&46!=e.input.lastKeyCode){if(Zp&&s.length){let t=s.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&Fm(e,n)==t||r.remove()}}}}else for(let c of s)if("BR"==c.nodeName&&c.parentNode){let e=c.nextSibling;e&&1==e.nodeType&&"false"==e.contentEditable&&c.parentNode.removeChild(c)}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Vp(n)&&(l=ef(e))&&l.eq(Pu.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,nf(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(Pm.has(e))return;if(Pm.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=Zp,Lm)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Lm=!0}}(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,function(e,t){var n;let{focusNode:r,focusOffset:o}=e.domSelectionRange();for(let i of t)if("TR"==(null===(n=i.parentNode)||void 0===n?void 0:n.nodeName)){let t=i.nextSibling;for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.nextSibling;if(t){let n=t;for(;;){let e=n.firstChild;if(!e||1!=e.nodeType||"false"==e.contentEditable||/^(BR|IMG)$/.test(e.nodeName))break;n=e}n.insertBefore(i,n.firstChild),r==i&&e.domSelection().collapse(i,o)}else i.parentNode.removeChild(i)}}(e,s)),this.handleDOMChange(o,i,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||nf(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Gp&&Xp<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?Ip(r)+1:0,a=n.localPosFromDOM(e.target,i,-1),s=o&&o.parentNode==e.target?Ip(o):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Pm=new WeakMap,Lm=!1;function zm(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Fp(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function Fm(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function Hm(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(rh&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||rh&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jm=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Bm(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=ef(e,t);if(n&&!e.state.selection.eq(n)){if(th&&sh&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,Up(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l,c,d=e.state.selection,u=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:a,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:c.anchorOffset}],Vp(c)||r.push({node:c.focusNode,offset:c.focusOffset})),th&&8===e.input.lastKeyCode)for(let g=a;g>i;g--){let e=o.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){a=g;break}if(!t||t.size)break}let u=e.state.doc,p=e.someProp("domParser")||Td.fromSchema(e.state.schema),h=u.resolve(s),f=null,m=p.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:a,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Hm,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+s,head:t+s}}return{doc:m,sel:f,from:s,to:l}}(e,t,n),p=e.state.doc,h=p.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let f=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){r-=a+Math.max(0,i-Math.min(a,s))-i}if(a<i&&e.size<t.size){let e=r<=i&&r>=a?i-r:0;i-=e,i&&i<t.size&&Um(t.textBetween(i-1,i+1))&&(i+=e?1:-1),s=i+(s-a),a=i}else if(s<i){let t=r<=i&&r>=s?i-r:0;i-=t,i&&i<e.size&&Um(e.textBetween(i-1,i+1))&&(i+=t?1:-1),a=i+(a-s),s=i}return{start:i,endA:a,endB:s}}(h.content,u.doc.content,u.from,l,c);if(f&&e.input.domChangeCount++,(oh&&e.input.lastIOSEnter>Date.now()-225||sh)&&o.some(e=>1==e.nodeType&&!jm.test(e.nodeName))&&(!f||f.endA>=f.endB)&&e.someProp("handleKeyDown",t=>t(e,Up(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!f){if(!(r&&d instanceof Hu&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=$m(e,e.state.doc,u.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}f={start:d.from,endA:d.to,endB:d.to}}e.state.selection.from<e.state.selection.to&&f.start==f.endB&&e.state.selection instanceof Hu&&(f.start>e.state.selection.from&&f.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?f.start=e.state.selection.from:f.endA<e.state.selection.to&&f.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(f.endB+=e.state.selection.to-f.endA,f.endA=e.state.selection.to)),Gp&&Xp<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>u.from&&" \xa0"==u.doc.textBetween(f.start-u.from-1,f.start-u.from+1)&&(f.start--,f.endA--,f.endB--);let m=u.doc.resolveNoCache(f.start-u.from),g=u.doc.resolveNoCache(f.endB-u.from),v=p.resolve(f.start),y=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=f.endA;if((oh&&e.input.lastIOSEnter>Date.now()-225&&(!y||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!y&&m.pos<u.doc.content.size&&(!m.sameParent(g)||!m.parent.inlineContent)&&m.pos<g.pos&&!/\S/.test(u.doc.textBetween(m.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,Up(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>f.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||Vm(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=e.resolve(Vm(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Vm(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(p,f.start,f.endA,m,g)&&e.someProp("handleKeyDown",t=>t(e,Up(8,"Backspace"))))return void(sh&&th&&e.domObserver.suppressSelectionUpdates());th&&f.endB==f.start&&(e.input.lastChromeDelete=Date.now()),sh&&!y&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==f.endA&&(f.endB-=2,g=u.doc.resolveNoCache(f.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,Up(13,"Enter"))})},20));let b,w=f.start,k=f.endA,x=t=>{let n=t||e.state.tr.replace(w,k,u.doc.slice(f.start-u.from,f.endB-u.from));if(u.sel){let t=$m(e,n.doc,u.sel);t&&!(th&&e.composing&&t.empty&&(f.start!=f.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==w||t.head==n.mapping.map(k)-1)||Gp&&t.empty&&t.head==w)&&n.setSelection(t)}return i&&n.setMeta("composition",i),n.scrollIntoView()};if(y)if(m.pos==g.pos){Gp&&Xp<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>nf(e),20));let t=x(e.state.tr.delete(w,k)),n=p.resolve(f.start).marksAcross(p.resolve(f.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(f.endA==f.endB&&(b=function(e,t){let n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a;for(let d=0;d<a.length;d++)s=a[d].removeFromSet(s);for(let d=0;d<i.length;d++)l=i[d].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let d=0;d<t.childCount;d++)c.push(o(t.child(d)));if(zc.from(c).eq(e))return{mark:r,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,f.endA-v.start())))){let t=x(e.state.tr);"add"==b.type?t.addMark(w,k,b.mark):t.removeMark(w,k,b.mark),e.dispatch(t)}else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset),n=()=>x(e.state.tr.insertText(t,w,k));e.someProp("handleTextInput",r=>r(e,w,k,t,n))||e.dispatch(n())}else e.dispatch(x());else e.dispatch(x())}function $m(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:df(e,t.resolve(n.anchor),t.resolve(n.head))}function Vm(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function Um(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Wm{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Bf,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Qm),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Km(this),qm(this),this.nodeViews=Jm(this),this.docView=Fh(this.state.doc,Ym(this),Om(this),this.dom,this),this.domObserver=new Im(this,(e,t,n,r)=>Bm(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in Ff){let n=Ff[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Wf(e,t)||Uf(e,t)||!e.editable&&t.type in Hf||n(e,t)},jf[t]?{passive:!0}:void 0)}rh&&e.dom.addEventListener("input",()=>null),Vf(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vf(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Qm),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(om(this),i=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=Jm(this);(function(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Vf(this),this.editable=Km(this),qm(this);let s=Om(this),l=Ym(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=o||!this.docView.matchesNode(e.doc,l,s);!d&&e.selection.eq(r.selection)||(i=!0);let u="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=e.root.elementFromPoint(i,a);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=o-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:fh(e.dom)}}(this);if(i){this.domObserver.stop();let t=d&&(Gp||th)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(d){let n=th?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=im(this)),!o&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=Fh(e.doc,l,s,this.dom,this)),!n||this.trackWrites&&this.dom.contains(this.trackWrites)||(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Fp(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?nf(this,t):(lf(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;mh(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof Bu){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&hh(this,t.getBoundingClientRect(),e)}else hh(this,this.coordsAtPos(this.state.selection.head,1),e);else;}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new dm(e.slice,e.move,r<0?void 0:Bu.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(Gp){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(gh)return e.focus(gh);let t=fh(e);e.focus(null==gh?{get preventScroll(){return gh={preventScroll:!0},!0}}:void 0),gh||(gh=!1,mh(t,0))}(this.dom),nf(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return wh(this,e)}coordsAtPos(e,t=1){return Sh(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return Nh(this,t||this.state,e)}pasteHTML(e,t){return lm(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return lm(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Df(this,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Om(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Lp=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){Uf(e,t)||!Ff[t.type]||!e.editable&&t.type in Hf||Ff[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?rh&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return zm(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?zm(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Ym(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[vm.node(0,e.state.doc.content.size,t)]}function qm(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:vm.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Km(e){return!e.someProp("editable",t=>!1===t(e.state))}function Jm(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Qm(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Wm.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var Gm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Zm="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),eg="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),tg=0;tg<10;tg++)Gm[48+tg]=Gm[96+tg]=String(tg);for(tg=1;tg<=24;tg++)Gm[tg+111]="F"+tg;for(tg=65;tg<=90;tg++)Gm[tg]=String.fromCharCode(tg+32),Xm[tg]=String.fromCharCode(tg);for(var ng in Gm)Xm.hasOwnProperty(ng)||(Xm[ng]=Gm[ng]);const rg="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),og="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function ig(e){let t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(let s=0;s<i.length-1;s++){let e=i[s];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);rg?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function ag(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function sg(e){let t=function(e){let t=Object.create(null);for(let n in e)t[ig(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(Zm&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||eg&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Xm:Gm)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[ag(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[ag(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(og&&n.ctrlKey&&n.altKey)&&(r=Gm[n.keyCode])&&r!=o){let o=t[ag(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}var lg=Object.defineProperty,cg=(e,t)=>{for(var n in t)lg(e,n,{get:t[n],enumerable:!0})};function dg(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var ug=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(i);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a=[],s=!!e,l=e||o.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),o=n(...e)(r);return a.push(o),c}])),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),a.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a={tr:e,editor:r,view:i,state:dg({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(a)]))}};return a}},pg={};cg(pg,{blur:()=>hg,clearContent:()=>fg,clearNodes:()=>mg,command:()=>gg,createParagraphNear:()=>vg,cut:()=>yg,deleteCurrentNode:()=>bg,deleteNode:()=>kg,deleteRange:()=>xg,deleteSelection:()=>Cg,enter:()=>Sg,exitCode:()=>Mg,extendMarkRange:()=>Ng,first:()=>Rg,focus:()=>Hg,forEach:()=>jg,insertContent:()=>Bg,insertContentAt:()=>Wg,joinBackward:()=>Kg,joinDown:()=>qg,joinForward:()=>Jg,joinItemBackward:()=>Qg,joinItemForward:()=>Gg,joinTextblockBackward:()=>Xg,joinTextblockForward:()=>Zg,joinUp:()=>Yg,keyboardShortcut:()=>tv,lift:()=>rv,liftEmptyBlock:()=>ov,liftListItem:()=>iv,newlineInCode:()=>av,resetAttributes:()=>cv,scrollIntoView:()=>dv,selectAll:()=>uv,selectNodeBackward:()=>pv,selectNodeForward:()=>hv,selectParentNode:()=>fv,selectTextblockEnd:()=>mv,selectTextblockStart:()=>gv,setContent:()=>yv,setMark:()=>ey,setMeta:()=>ty,setNode:()=>ny,setNodeSelection:()=>ry,setTextDirection:()=>oy,setTextSelection:()=>iy,sinkListItem:()=>ay,splitBlock:()=>ly,splitListItem:()=>cy,toggleList:()=>py,toggleMark:()=>hy,toggleNode:()=>fy,toggleWrap:()=>my,undoInputRule:()=>gy,unsetAllMarks:()=>vy,unsetMark:()=>yy,unsetTextDirection:()=>by,updateAttributes:()=>wy,wrapIn:()=>ky,wrapInList:()=>xy});var hg=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),fg=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),mg=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return!n||(o.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:o}=t,i=r.resolve(o.map(n)),a=r.resolve(o.map(n+e.nodeSize)),s=i.blockRange(a);if(!s)return;const l=cu(s);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(s.start,e)}(l||0===l)&&t.lift(s,l)})}),!0)},gg=e=>t=>e(t),vg=()=>({state:e,dispatch:t})=>yp(e,t),yg=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,i.content),r.setSelection(new Hu(r.doc.resolve(Math.max(a-1,0)))),!0},bg=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1){if(o.node(i).type===r.type){if(t){const t=o.before(i),n=o.after(i);e.delete(t,n).scrollIntoView()}return!0}}return!1};function wg(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var kg=e=>({tr:t,state:n,dispatch:r})=>{const o=wg(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===o){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},xg=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},Cg=()=>({state:e,dispatch:t})=>op(e,t),Sg=()=>({commands:e})=>e.keyboardShortcut("Enter"),Mg=()=>({state:e,dispatch:t})=>vp(e,t);function Dg(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function Eg(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:Dg(t[r])?t[r].test(e[r]):t[r]===e[r])}function Tg(e,t,n={}){return e.find(e=>e.type===t&&Eg(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function _g(e,t,n={}){return!!Tg(e,t,n)}function Og(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(o.node&&o.node.marks.some(e=>e.type===t)||(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(e=>e.type===t))return;n=n||(null==(r=o.node.marks[0])?void 0:r.attrs);if(!Tg([...o.node.marks],t,n))return;let i=o.index,a=e.start()+o.offset,s=i+1,l=a+o.node.nodeSize;for(;i>0&&_g([...e.parent.child(i-1).marks],t,n);)i-=1,a-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&_g([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function Ag(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Ng=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=Ag(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:d}=s;if(o){const e=Og(l,i,t);if(e&&e.from<=c&&e.to>=d){const t=Hu.create(a,e.from,e.to);n.setSelection(t)}}return!0},Rg=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function Ig(e){return e instanceof Hu}function Pg(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Lg(e,t=null){if(!t)return null;const n=Pu.atStart(e),r=Pu.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,i=r.to;return"all"===t?Hu.create(e,Pg(0,o,i),Pg(e.content.size,o,i)):Hu.create(e,Pg(t,o,i),Pg(t,o,i))}function zg(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function Fg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Hg=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{(Fg()||zg())&&r.dom.focus(),"undefined"==typeof navigator||!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||Fg()||zg()||r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&null===e||!1===e)return!0}catch{return!1}if(i&&null===e&&!Ig(n.state.selection))return a(),!0;const s=Lg(o.doc,e)||n.state.selection,l=n.state.selection.eq(s);return i&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},jg=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),Bg=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),$g=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&$g(r)}return e};function Vg(e){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return $g(n)}function Ug(e,t,n){if(e instanceof sd||e instanceof zc)return e;n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return zc.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Ug("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,o="";const i=new Dd({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,o="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?Td.fromSchema(i).parseSlice(Vg(e),n.parseOptions):Td.fromSchema(i).parse(Vg(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const r=Td.fromSchema(t);return n.slice?r.parseSlice(Vg(e),n.parseOptions).content:r.parse(Vg(e),n.parseOptions)}return Ug("",t,n)}var Wg=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var a;if(o){let o;const s=e=>{i.emit("contentError",{editor:i,error:e,disableCollaboration:()=>{"collaboration"in i.storage&&"object"==typeof i.storage.collaboration&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...(n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Ug(t,i.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(Ol){s(Ol)}try{o=Ug(t,i.schema,{parseOptions:l,errorOnInvalidContent:null!=(a=n.errorOnInvalidContent)?a:i.options.enableContentCheck})}catch(Ol){return s(Ol),!1}let{from:c,to:d}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},u=!0,p=!0;if(("type"in o?[o]:o).forEach(e=>{e.check(),u=!!u&&(e.isText&&0===e.marks.length),p=!!p&&e.isBlock}),c===d&&p){const{parent:e}=r.doc.resolve(c);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(c-=1,d+=1)}let h;if(u){if(Array.isArray(t))h=t.map(e=>e.text||"").join("");else if(t instanceof zc){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),h=e}else h="object"==typeof t&&t&&t.text?t.text:t;r.insertText(h,c,d)}else{h=o;const e=r.doc.resolve(c),t=e.node(),n=0===e.parentOffset,i=t.isText||t.isTextblock,a=t.content.size>0;n&&i&&a&&(c=Math.max(0,c-1)),r.replaceWith(c,d,h)}n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ou||o instanceof iu))return;const i=e.mapping.maps[r];let a=0;i.forEach((e,t,n,r)=>{0===a&&(a=r)}),e.setSelection(Pu.near(e.doc.resolve(a),n))}(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:h})}return!0},Yg=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,o=r instanceof Bu;if(o){if(r.node.isTextblock||!mu(e.doc,r.from))return!1;n=r.from}else if(n=vu(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);o&&r.setSelection(Bu.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),qg=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof Bu){if(r.node.isTextblock||!mu(e.doc,r.to))return!1;n=r.to}else if(n=vu(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),Kg=()=>({state:e,dispatch:t})=>ap(e,t),Jg=()=>({state:e,dispatch:t})=>pp(e,t),Qg=()=>({state:e,dispatch:t,tr:n})=>{try{const r=vu(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},Gg=()=>({state:e,dispatch:t,tr:n})=>{try{const r=vu(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},Xg=()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=ip(e,n);if(!r)return!1;let o=dp(r);return!!o&&sp(e,o,t)})(e,t),Zg=()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=up(e,n);if(!r)return!1;let o=fp(r);return!!o&&sp(e,o,t)})(e,t);function ev(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var tv=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,a=t[t.length-1];"Space"===a&&(a=" ");for(let s=0;s<t.length-1;s+=1){const e=t[s];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))o=!0;else{if(!/^mod$/i.test(e))throw new Error(`Unrecognized modifier name: ${e}`);Fg()||ev()?i=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),i&&(a=`Meta-${a}`),o&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=i.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,s))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)}),!0};function nv(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?wg(t,e.schema):null,s=[];e.doc.nodesBetween(r,o,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s.push({node:e,from:n,to:i})});const l=o-r,c=s.filter(e=>!a||a.name===e.node.type.name).filter(e=>Eg(e.node.attrs,n,{strict:!1}));if(i)return!!c.length;return c.reduce((e,t)=>e+t.to-t.from,0)>=l}var rv=(e,t={})=>({state:n,dispatch:r})=>!!nv(n,wg(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&cu(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)})(n,r),ov=()=>({state:e,dispatch:t})=>bp(e,t),iv=e=>({state:t,dispatch:n})=>Rp(wg(e,t.schema))(t,n),av=()=>({state:e,dispatch:t})=>mp(e,t);function sv(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function lv(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var cv=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=sv("string"==typeof e?e:e.name,r.schema);if(!s)return!1;"node"===s&&(i=wg(e,r.schema)),"mark"===s&&(a=Ag(e,r.schema));let l=!1;return n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{i&&i===e.type&&(l=!0,o&&n.setNodeMarkup(r,void 0,lv(e.attrs,t))),a&&e.marks.length&&e.marks.forEach(i=>{a===i.type&&(l=!0,o&&n.addMark(r,r+e.nodeSize,a.create(lv(i.attrs,t))))})})}),l},dv=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),uv=()=>({tr:e,dispatch:t})=>{if(t){const t=new Vu(e.doc);e.setSelection(t)}return!0},pv=()=>({state:e,dispatch:t})=>cp(e,t),hv=()=>({state:e,dispatch:t})=>hp(e,t),fv=()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(Bu.create(e.doc,n))),!0)})(e,t),mv=()=>({state:e,dispatch:t})=>Mp(e,t),gv=()=>({state:e,dispatch:t})=>Sp(e,t);function vv(e,t,n={},r={}){return Ug(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var yv=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:a,commands:s})=>{const{doc:l}=i;if("full"!==r.preserveWhitespace){const s=vv(e,o.schema,r,{errorOnInvalidContent:null!=t?t:o.options.enableContentCheck});return a&&i.replaceWith(0,l.content.size,s).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:o.options.enableContentCheck})};function bv(e,t){const n=Ag(t,e.schema),{from:r,to:o,empty:i}=e.selection,a=[];i?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,e=>{a.push(...e.marks)});const s=a.find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}function wv(e,t){const n=new Ru(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function kv(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function xv(e,t,n){if(void 0===e.config[t]&&e.parent)return xv(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?xv(e.parent,t,n):null})}return e.config[t]}function Cv(e){return e.map(e=>{const t=xv(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...Cv(t())]:e}).flat(10)}function Sv(e,t){const n=Fd.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function Mv(e){return"function"==typeof e}function Dv(e,t=void 0,...n){return Mv(e)?t?e.bind(t)(...n):e(...n):e}function Ev(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function Tv(e){const t=[],{nodeExtensions:n,markExtensions:r}=Ev(e),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=xv(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:o});if(!n)return;n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})})})})}),o.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=xv(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(([n,r])=>{const o={...i,...r};"function"==typeof(null==o?void 0:o.default)&&(o.default=o.default()),(null==o?void 0:o.isRequired)&&void 0===(null==o?void 0:o.default)&&delete o.default,t.push({type:e.name,name:n,attribute:o})})}),t}function _v(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const r=t?String(t).split(" "):[],o=n[e]?n[e].split(" "):[],i=r.filter(e=>!o.includes(e));n[e]=[...o,...i].join(" ")}else if("style"===e){const r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],o=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],i=new Map;o.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),n[e]=Array.from(i.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function Ov(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>_v(e,t),{})}function Av(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...o}}}}function Nv(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function Rv(e){var t,n;const r={};return!(null==(t=null==e?void 0:e.attribute)?void 0:t.isRequired)&&"default"in((null==e?void 0:e.attribute)||{})&&(r.default=e.attribute.default),void 0!==(null==(n=null==e?void 0:e.attribute)?void 0:n.validate)&&(r.validate=e.attribute.validate),[e.name,r]}function Iv(e,t){var n;const r=Tv(e),{nodeExtensions:o,markExtensions:i}=Ev(e),a=null==(n=o.find(e=>xv(e,"topNode")))?void 0:n.name,s=Object.fromEntries(o.map(n=>{const o=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=xv(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}},{}),s=Nv({...a,content:Dv(xv(n,"content",i)),marks:Dv(xv(n,"marks",i)),group:Dv(xv(n,"group",i)),inline:Dv(xv(n,"inline",i)),atom:Dv(xv(n,"atom",i)),selectable:Dv(xv(n,"selectable",i)),draggable:Dv(xv(n,"draggable",i)),code:Dv(xv(n,"code",i)),whitespace:Dv(xv(n,"whitespace",i)),linebreakReplacement:Dv(xv(n,"linebreakReplacement",i)),defining:Dv(xv(n,"defining",i)),isolating:Dv(xv(n,"isolating",i)),attrs:Object.fromEntries(o.map(Rv))}),l=Dv(xv(n,"parseHTML",i));l&&(s.parseDOM=l.map(e=>Av(e,o)));const c=xv(n,"renderHTML",i);c&&(s.toDOM=e=>c({node:e,HTMLAttributes:Ov(e,o)}));const d=xv(n,"renderText",i);return d&&(s.toText=d),[n.name,s]})),l=Object.fromEntries(i.map(n=>{const o=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=xv(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}},{}),s=Nv({...a,inclusive:Dv(xv(n,"inclusive",i)),excludes:Dv(xv(n,"excludes",i)),group:Dv(xv(n,"group",i)),spanning:Dv(xv(n,"spanning",i)),code:Dv(xv(n,"code",i)),attrs:Object.fromEntries(o.map(Rv))}),l=Dv(xv(n,"parseHTML",i));l&&(s.parseDOM=l.map(e=>Av(e,o)));const c=xv(n,"renderHTML",i);return c&&(s.toDOM=e=>c({mark:e,HTMLAttributes:Ov(e,o)})),[n.name,s]}));return new Dd({topNode:a,nodes:s,marks:l})}function Pv(e){return e.sort((e,t)=>{const n=xv(e,"priority")||100,r=xv(t,"priority")||100;return n>r?-1:n<r?1:0})}function Lv(e){const t=Pv(Cv(e)),n=function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}function zv(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,o,(e,n,l,c)=>{var d;e.isBlock&&n>r&&(s+=i);const u=null==a?void 0:a[e.type.name];if(u)return l&&(s+=u({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(s+=null==(d=null==e?void 0:e.text)?void 0:d.slice(Math.max(r,n)-n,o-n))}),s}function Fv(e,t){return zv(e,{from:0,to:e.content.size},t)}function Hv(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function jv(e,t){const n=sv("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=wg(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,e=>{i.push(e)});const a=i.reverse().find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}(e,t):"mark"===n?bv(e,t):{}}function Bv(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>{const r=t.filter((e,t)=>t!==n);return!r.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}function $v(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,o)=>{const i=[];if(e.ranges.length)e.forEach((e,t)=>{i.push({from:e,to:t})});else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach(({from:e,to:n})=>{const i=t.slice(o).map(e,-1),a=t.slice(o).map(n),s=t.invert().map(i,-1),l=t.invert().map(a);r.push({oldRange:{from:s,to:l},newRange:{from:i,to:a}})})}),Bv(r)}function Vv(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const o=Og(n.resolve(e),t.type);o&&r.push({mark:t,...o})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function Uv(e,t){return t.nodes[e]||t.marks[e]||null}function Wv(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function Yv(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?Ag(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>Eg(e.attrs,n,{strict:!1}));let a=0;const s=[];if(o.forEach(({$from:t,$to:n})=>{const r=t.pos,o=n.pos;e.doc.nodesBetween(r,o,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);a+=i-n,s.push(...e.marks.map(e=>({mark:e,from:n,to:i})))})}),0===a)return!1;const l=s.filter(e=>!i||i.name===e.mark.type.name).filter(e=>Eg(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=s.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=a}function qv(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function Kv(e,t){const{nodeExtensions:n}=Ev(t),r=n.find(t=>t.name===e);if(!r)return!1;const o=Dv(xv(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function Jv(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(Jv(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}var Qv=class e{constructor(e){this.position=e}static fromJSON(t){return new e(t.position)}toJSON(){return{position:this.position}}};function Gv(e,t){const n=t.mapping.mapResult(e.position);return{position:new Qv(n.pos),mapResult:n}}function Xv(e){return new Qv(e)}function Zv(e,t,n){const r=e.state.doc.content.size,o=Pg(t,0,r),i=Pg(n,0,r),a=e.coordsAtPos(o),s=e.coordsAtPos(i,-1),l=Math.min(a.top,s.top),c=Math.max(a.bottom,s.bottom),d=Math.min(a.left,s.left),u=Math.max(a.right,s.right),p={top:l,bottom:c,left:d,right:u,width:u-d,height:c-l,x:d,y:l};return{...p,toJSON:()=>p}}var ey=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:s}=i,l=Ag(e,r.schema);if(o)if(a){const e=bv(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach(e=>{const o=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(o,i,(e,r)=>{const a=Math.max(r,o),s=Math.min(r+e.nodeSize,i);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))}):n.addMark(a,s,l.create(t))})});return function(e,t,n){var r;const{selection:o}=t;let i=null;if(Ig(o)&&(i=o.$cursor),i){const t=null!=(r=e.storedMarks)?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:t,$to:r})=>{let o=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));o=t&&i}return!o}),o})}(r,n,l)},ty=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),ny=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=wg(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:e})=>!!Dp(i,{...a,...t})(n)||e.clearNodes()).command(({state:e})=>Dp(i,{...a,...t})(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ry=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=Pg(e,0,n.content.size),o=Bu.create(n,r);t.setSelection(o)}return!0},oy=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=r;let a,s;return"number"==typeof t?(a=t,s=t):t&&"from"in t&&"to"in t?(a=t.from,s=t.to):(a=i.from,s=i.to),o&&n.doc.nodesBetween(a,s,(t,r)=>{t.isText||n.setNodeMarkup(r,void 0,{...t.attrs,dir:e})}),!0},iy=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,i=Hu.atStart(n).from,a=Hu.atEnd(n).to,s=Pg(r,i,a),l=Pg(o,i,a),c=Hu.create(n,s,l);t.setSelection(c)}return!0},ay=e=>({state:t,dispatch:n})=>{const r=wg(e,t.schema);return(o=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==o);if(!i)return!1;let a=i.startIndex;if(0==a)return!1;let s=i.parent,l=s.child(a-1);if(l.type!=o)return!1;if(t){let n=l.lastChild&&l.lastChild.type==s.type,r=zc.from(n?o.create():null),a=new Vc(zc.from(o.create(null,zc.from(s.type.create(null,r)))),n?3:1,0),c=i.start,d=i.end;t(e.tr.step(new iu(c-(n?3:1),d,c,d,a,1,!0)).scrollIntoView())}return!0})(t,n);var o};function sy(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var ly=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:s,$to:l}=i,c=Wv(o.extensionManager.attributes,s.node().type.name,s.node().attrs);if(i instanceof Bu&&i.node.isBlock)return!(!s.parentOffset||!fu(a,s.pos))&&(r&&(e&&sy(n,o.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,u=0===s.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1)));let p=d&&u?[{type:u,attrs:c}]:void 0,h=fu(t.doc,t.mapping.map(s.pos),1,p);if(p||h||!fu(t.doc,t.mapping.map(s.pos),1,u?[{type:u}]:void 0)||(h=!0,p=u?[{type:u,attrs:c}]:void 0),r){if(h&&(i instanceof Hu&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,p),u&&!d&&!s.parentOffset&&s.parent.type!==u)){const e=t.mapping.map(s.before()),n=t.doc.resolve(e);s.node(-1).canReplaceWith(n.index(),n.index()+1,u)&&t.setNodeMarkup(t.mapping.map(s.before()),u)}e&&sy(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return h},cy=(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var a;const s=wg(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==s)return!1;const p=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let e=zc.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=zc.from(l.node(t).copy(e));const o=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i={...Wv(p,l.node().type.name,l.node().attrs),...t},c=(null==(a=s.contentMatch.defaultType)?void 0:a.createAndFill(i))||void 0;e=e.append(zc.from(s.createAndFill(null,c)||void 0));const d=l.before(l.depth-(r-1));n.replace(d,l.after(-o),new Vc(e,4-r,0));let u=-1;n.doc.nodesBetween(d,n.doc.content.size,(e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)}),u>-1&&n.setSelection(Hu.near(n.doc.resolve(u))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,f={...Wv(p,u.type.name,u.attrs),...t},m={...Wv(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=h?[{type:s,attrs:f},{type:h,attrs:m}]:[{type:s,attrs:f}];if(!fu(n.doc,l.pos,2))return!1;if(o){const{selection:e,storedMarks:t}=r,{splittableMarks:a}=i.extensionManager,s=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!s||!o)return!0;const c=s.filter(e=>a.includes(e.type.name));n.ensureMarks(c)}return!0},dy=(e,t)=>{const n=kv(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!mu(e.doc,n.pos)||(e.join(n.pos),!0)},uy=(e,t)=>{const n=kv(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!mu(e.doc,r)||(e.join(r),!0)},py=(e,t,n,r={})=>({editor:o,tr:i,state:a,dispatch:s,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:p}=o.extensionManager,h=wg(e,a.schema),f=wg(t,a.schema),{selection:m,storedMarks:g}=a,{$from:v,$to:y}=m,b=v.blockRange(y),w=g||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;const k=kv(e=>Kv(e.type.name,u))(m);if(b.depth>=1&&k&&b.depth-k.depth<=1){if(k.node.type===h)return c.liftListItem(f);if(Kv(k.node.type.name,u)&&h.validContent(k.node.content)&&s)return l().command(()=>(i.setNodeMarkup(k.pos,h),!0)).command(()=>dy(i,h)).command(()=>uy(i,h)).run()}return n&&w&&s?l().command(()=>{const e=d().wrapInList(h,r),t=w.filter(e=>p.includes(e.type.name));return i.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(h,r).command(()=>dy(i,h)).command(()=>uy(i,h)).run():l().command(()=>!!d().wrapInList(h,r)||c.clearNodes()).wrapInList(h,r).command(()=>dy(i,h)).command(()=>uy(i,h)).run()},hy=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=Ag(e,r.schema);return Yv(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},fy=(e,t,n={})=>({state:r,commands:o})=>{const i=wg(e,r.schema),a=wg(t,r.schema),s=nv(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?o.setNode(a,l):o.setNode(i,{...l,...n})},my=(e,t={})=>({state:n,commands:r})=>{const o=wg(e,n.schema);return nv(n,o,t)?r.lift(o):r.wrapIn(o,t)},gy=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},vy=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},yy=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=Ag(e,r.schema),{$from:c,empty:d,ranges:u}=s;if(!o)return!0;if(d&&a){let{from:e,to:t}=s;const r=null==(i=c.marks().find(e=>e.type===l))?void 0:i.attrs,o=Og(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else u.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},by=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let i,a;return"number"==typeof e?(i=e,a=e):e&&"from"in e&&"to"in e?(i=e.from,a=e.to):(i=o.from,a=o.to),r&&t.doc.nodesBetween(i,a,(e,n)=>{if(e.isText)return;const r={...e.attrs};delete r.dir,t.setNodeMarkup(n,void 0,r)}),!0},wy=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=sv("string"==typeof e?e:e.name,r.schema);if(!s)return!1;"node"===s&&(i=wg(e,r.schema)),"mark"===s&&(a=Ag(e,r.schema));let l=!1;return n.selection.ranges.forEach(e=>{const s=e.$from.pos,c=e.$to.pos;let d,u,p,h;n.selection.empty?r.doc.nodesBetween(s,c,(e,t)=>{i&&i===e.type&&(l=!0,p=Math.max(t,s),h=Math.min(t+e.nodeSize,c),d=t,u=e)}):r.doc.nodesBetween(s,c,(e,r)=>{r<s&&i&&i===e.type&&(l=!0,p=Math.max(r,s),h=Math.min(r+e.nodeSize,c),d=r,u=e),r>=s&&r<=c&&(i&&i===e.type&&(l=!0,o&&n.setNodeMarkup(r,void 0,{...e.attrs,...t})),a&&e.marks.length&&e.marks.forEach(i=>{if(a===i.type&&(l=!0,o)){const o=Math.max(r,s),l=Math.min(r+e.nodeSize,c);n.addMark(o,l,a.create({...i.attrs,...t}))}}))}),u&&(void 0!==d&&o&&n.setNodeMarkup(d,void 0,{...u.attrs,...t}),a&&u.marks.length&&u.marks.forEach(e=>{a===e.type&&o&&n.addMark(p,h,a.create({...e.attrs,...t}))}))}),l},ky=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i),s=a&&du(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}(wg(e,n.schema),t)(n,r),xy=(e,t={})=>({state:n,dispatch:r})=>Np(wg(e,n.schema),t)(n,r),Cy=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},Sy=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function My(e){var t;const{editor:n,from:r,to:o,text:i,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1;const u=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,o,i)=>{var a,s;const l=(null==(s=(a=e.type.spec).toText)?void 0:s.call(a,{node:e,pos:t,parent:o,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+i;return a.forEach(e=>{if(d)return;const t=((e,t)=>{if(Dg(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(u,e.find);if(!t)return;const a=l.state.tr,c=dg({state:l.state,transaction:a}),p={from:r-(t[0].length-i.length),to:o},{commands:h,chain:f,can:m}=new ug({editor:n,state:c});null!==e.handler({state:c,range:p,match:t,commands:h,chain:f,can:m})&&a.steps.length&&(e.undoable&&a.setMeta(s,{transform:a,from:r,to:o,text:i}),l.dispatch(a),d=!0)}),d}function Dy(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function Ey(e,t){const n={...e};return Dy(e)&&Dy(t)&&Object.keys(t).forEach(r=>{Dy(t[r])&&Dy(e[r])?n[r]=Ey(e[r],t[r]):n[r]=t[r]}),n}var Ty=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Dv(xv(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Dv(xv(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ey(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},_y=class e extends Ty{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks(),i=!!o.find(e=>(null==e?void 0:e.type.name)===t.name);if(!i)return!1;const a=o.find(e=>(null==e?void 0:e.type.name)===t.name);return a&&n.removeStoredMark(a),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};var Oy=class{constructor(e){this.find=e.find,this.handler=e.handler}};function Ay(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:d}=new ug({editor:t,state:n}),u=[];n.doc.nodesBetween(r,o,(e,t)=>{var p,h,f,m,g;if((null==(h=null==(p=e.type)?void 0:p.spec)?void 0:h.code)||!(e.isText||e.isTextblock||e.isInline))return;const v=null!=(g=null!=(m=null==(f=e.content)?void 0:f.size)?m:e.nodeSize)?g:0,y=Math.max(r,t),b=Math.min(o,t+v);if(y>=b)return;const w=((e,t,n)=>{if(Dg(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(y-t,b-t,void 0,"\ufffc"),i.find,a);w.forEach(e=>{if(void 0===e.index)return;const t=y+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},p=i.handler({state:n,range:o,match:e,commands:l,chain:c,can:d,pasteEvent:a,dropEvent:s});u.push(p)})});return u.every(e=>null!==e)}var Ny=null;function Ry(e){const{editor:t,rules:n}=e;let r,o=null,i=!1,a=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}const l=({state:e,from:n,to:o,rule:i,pasteEvt:a})=>{const l=e.tr,c=dg({state:e,transaction:l});if(Ay({editor:t,state:c,from:Math.max(n-1,0),to:o.b-1,rule:i,pasteEvent:a,dropEvent:r})&&l.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}return s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}},c=n.map(e=>new ep({view(e){const n=n=>{var r;o=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,o&&(Ny=t)},r=()=>{Ny&&(Ny=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(a=o===e.dom.parentElement,r=t,!a){const e=Ny;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return s=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const o=t[0],c="paste"===o.getMeta("uiEvent")&&!i,d="drop"===o.getMeta("uiEvent")&&!a,u=o.getMeta("applyPasteRules"),p=!!u;if(!c&&!d&&!p)return;if(p){let{text:t}=u;"string"==typeof t||(t=Sv(zc.from(t),r.schema));const{from:n}=u,o=n+t.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:o},pasteEvt:i})}const h=n.doc.content.findDiffStart(r.doc.content),f=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof h&&f&&h!==f.b?l({rule:e,state:r,from:h,to:f,pasteEvt:s}):void 0}}));return c}var Iy=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=Lv(e),this.schema=Iv(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=xv(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Uv(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=Pv([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Uv(t.name,this.schema)},r=[],o=xv(t,"addKeyboardShortcuts",n);let i={};if("mark"===t.type&&xv(t,"exitable",n)&&(i.ArrowRight=()=>_y.handleExit({editor:e,mark:t})),o){const t=Object.fromEntries(Object.entries(o()).map(([t,n])=>[t,()=>n({editor:e})]));i={...i,...t}}const a=new ep({props:{handleKeyDown:sg(i)}});r.push(a);const s=xv(t,"addInputRules",n);if(qv(t,e.options.enableInputRules)&&s){const t=s();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new ep({state:{init:()=>null,apply(e,o,i){const a=e.getMeta(r);if(a)return a;const s=e.getMeta("applyInputRules");return!!s&&setTimeout(()=>{let{text:e}=s;"string"==typeof e||(e=Sv(zc.from(e),i.schema));const{from:o}=s,a=o+e.length;My({editor:t,from:o,to:a,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,i,a)=>My({editor:t,from:o,to:i,text:a,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:o}=e.state.selection;o&&My({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&My({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),o=Array.isArray(n)?n:[n];r.push(...o)}}const l=xv(t,"addPasteRules",n);if(qv(t,e.options.enablePasteRules)&&l){const t=l();if(t&&t.length){const n=Ry({editor:e,rules:t});r.push(...n)}}const c=xv(t,"addProseMirrorPlugins",n);if(c){const e=c();r.push(...e)}return r});return t}get attributes(){return Tv(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ev(this.extensions);return Object.fromEntries(t.filter(e=>!!xv(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:wg(t.name,this.schema)},o=xv(t,"addNodeView",r);if(!o)return[];const i=o();if(!i)return[];return[t.name,(r,o,a,s,l)=>{const c=Ov(r,n);return i({node:r,view:o,getPos:a,decorations:s,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]}))}dispatchTransaction(e){const{editor:t}=this;return Pv([...this.extensions].reverse()).reduceRight((e,n)=>{const r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Uv(n.name,this.schema)},o=xv(n,"dispatchTransaction",r);return o?t=>{o.call(r,{transaction:t,next:e})}:e},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=Ev(this.extensions);return Object.fromEntries(t.filter(e=>!!xv(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Ag(t.name,this.schema)},o=xv(t,"addMarkView",r);if(!o)return[];return[t.name,(r,i,a)=>{const s=Ov(r,n);return o()({mark:r,view:i,inline:a,editor:e,extension:t,HTMLAttributes:s,updateAttributes:t=>{ab(r,e,t)}})}]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Uv(e.name,this.schema)};if("mark"===e.type){(null==(t=Dv(xv(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name)}const r=xv(e,"onBeforeCreate",n),o=xv(e,"onCreate",n),i=xv(e,"onUpdate",n),a=xv(e,"onSelectionUpdate",n),s=xv(e,"onTransaction",n),l=xv(e,"onFocus",n),c=xv(e,"onBlur",n),d=xv(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),s&&this.editor.on("transaction",s),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}};Iy.resolve=Lv,Iy.sort=Pv,Iy.flatten=Cv;cg({},{ClipboardTextSerializer:()=>Ly,Commands:()=>zy,Delete:()=>Fy,Drop:()=>Hy,Editable:()=>jy,FocusEvents:()=>$y,Keymap:()=>Vy,Paste:()=>Uy,Tabindex:()=>Wy,TextDirection:()=>Yy,focusEventsPluginKey:()=>By});var Py=class e extends Ty{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},Ly=Py.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new ep({key:new rp("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map(e=>e.$from.pos)),s=Math.max(...i.map(e=>e.$to.pos)),l=Hv(n);return zv(r,{from:a,to:s},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),zy=Py.create({name:"commands",addCommands:()=>({...pg})}),Fy=Py.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const i=()=>{var n,r,o,i;if(null!=(i=null==(o=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.filterTransaction)?void 0:o.call(r,e))?i:e.getMeta("y-sync$"))return;const a=wv(e.before,[e,...t]);$v(a).forEach(t=>{a.mapping.mapResult(t.oldRange.from).deletedAfter&&a.mapping.mapResult(t.oldRange.to).deletedBefore&&a.before.nodesBetween(t.oldRange.from,t.oldRange.to,(n,r)=>{const o=r+n.nodeSize-2,i=t.oldRange.from<=r&&o<=t.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:o,newFrom:a.mapping.map(r),newTo:a.mapping.map(o),deletedRange:t.oldRange,newRange:t.newRange,partial:!i,editor:this.editor,transaction:e,combinedTransform:a})})});const s=a.mapping;a.steps.forEach((t,n)=>{var r,o;if(t instanceof tu){const i=s.slice(n).map(t.from,-1),l=s.slice(n).map(t.to),c=s.invert().map(i,-1),d=s.invert().map(l),u=null==(r=a.doc.nodeAt(i-1))?void 0:r.marks.some(e=>e.eq(t.mark)),p=null==(o=a.doc.nodeAt(l))?void 0:o.marks.some(e=>e.eq(t.mark));this.editor.emit("delete",{type:"mark",mark:t.mark,from:t.from,to:t.to,deletedRange:{from:c,to:d},newRange:{from:i,to:l},partial:Boolean(p||u),editor:this.editor,transaction:e,combinedTransform:a})}})};null==(o=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.async)||o?setTimeout(i,0):i()}}),Hy=Py.create({name:"drop",addProseMirrorPlugins(){return[new ep({key:new rp("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),jy=Py.create({name:"editable",addProseMirrorPlugins(){return[new ep({key:new rp("editable"),props:{editable:()=>this.editor.options.editable}})]}}),By=new rp("focusEvents"),$y=Py.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new ep({key:By,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Vy=Py.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:o,$anchor:i}=n,{pos:a,parent:s}=i,l=i.parent.isTextblock&&a>0?t.doc.resolve(a-1):i,c=l.parent.type.spec.isolating,d=i.pos-i.parentOffset,u=c&&1===l.parent.childCount?d===i.pos:Pu.atStart(r).from===a;return!(!o||!s.type.isTextblock||s.textContent.length||!u||u&&"paragraph"===i.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Fg()||ev()?o:r},addProseMirrorPlugins(){return[new ep({key:new rp("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:a,to:s}=t.selection,l=Pu.atStart(t.doc).from,c=Pu.atEnd(t.doc).to;if(i||!(a===l&&s===c))return;if(!Jv(n.doc))return;const d=n.tr,u=dg({state:n,transaction:d}),{commands:p}=new ug({editor:this.editor,state:u});return p.clearNodes(),d.steps.length?d:void 0}})]}}),Uy=Py.create({name:"paste",addProseMirrorPlugins(){return[new ep({key:new rp("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Wy=Py.create({name:"tabindex",addProseMirrorPlugins(){return[new ep({key:new rp("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Yy=Py.create({name:"textDirection",addOptions:()=>({direction:void 0}),addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Ev(this.extensions);return[{types:e.filter(e=>"text"!==e.name).map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return!t||"ltr"!==t&&"rtl"!==t&&"auto"!==t?this.options.direction:t},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new ep({key:new rp("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),qy=class e{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=n.isInline,s=this.pos+r+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(s);if(!o&&!a&&l.depth<=this.depth)return;const c=new e(l,this.editor,o,o||a?n:null);o&&(c.actualDepth=this.depth+1),t.push(c)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const o=Object.keys(t);return this.children.forEach(i=>{if(!(n&&r.length>0)){if(i.node.type.name===e){const e=o.every(e=>t[e]===i.node.attrs[e]);e&&r.push(i)}n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n)))}}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}};var Ky=class extends Cy{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:Gv,createMappablePosition:Xv},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Lg(t,this.options.autofocus);this.editorState=Xu.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(!1!==this.options.autofocus&&null!==this.options.autofocus&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Mv(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[jy,Ly.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),zy,$y,Vy,Wy,Hy,Uy,Fy,Yy.configure({direction:this.options.textDirection})].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new Iy(n,this)}createCommandManager(){this.commandManager=new ug({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=vv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(Ol){if(!(Ol instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(Ol.message)))throw Ol;this.emit("contentError",{editor:this,error:Ol,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=vv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,r=t.dispatchTransaction||this.dispatchTransaction.bind(this),o=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new Wm(e,{...t,attributes:{role:"textbox",...null==t?void 0:t.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.prependClass(),this.injectCSS();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),o=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),s=null==a?void 0:a.getMeta("focus"),l=null==a?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||i.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return jv(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return nv(e,null,n)||Yv(e,null,n);const r=sv(t,e.schema);return"node"===r?nv(e,t,n):"mark"===r&&Yv(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Sv(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return Fv(this.state.doc,{blockSeparator:t,textSerializers:{...Hv(this.schema),...n}})}get isEmpty(){return Jv(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new qy(t,this)}get $doc(){return this.$pos(0)}};function Jy(e){return new Sy({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Dv(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:i}=t,a=r[r.length-1],s=r[0];if(a){const r=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(Vv(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const d=n.from+r+a.length;i.addMark(n.from+r,d,e.type.create(o||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function Qy(e){return new Sy({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=Dv(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),s=a.doc.resolve(n.from).blockRange(),l=s&&du(s,e.type,i);if(!l)return null;if(a.wrap(s,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:o}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter(e=>o.includes(e.type.name));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";o().updateAttributes(t,i).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&mu(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&a.join(n.from-1)},undoable:e.undoable})}function Gy(e){if(!(null==e?void 0:e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,e=>(n.push(e),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const e=o.map(e=>e.trim().slice(1));t.class=e.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);Array.from(r.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(([,e,r])=>{var o;const i=parseInt((null==(o=r.match(/__QUOTED_(\d+)__/))?void 0:o[1])||"0",10),a=n[i];a&&(t[e]=a.slice(1,-1))});const a=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();if(a){a.split(/\s+/).filter(Boolean).forEach(e=>{e.match(/^[a-zA-Z][\w-]*$/)&&(t[e]=!0)})}return t}function Xy(e){if(!e||0===Object.keys(e).length)return"";const t=[];if(e.class){String(e.class).split(/\s+/).filter(Boolean).forEach(e=>t.push(`.${e}`))}return e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([e,n])=>{"class"!==e&&"id"!==e&&(!0===n?t.push(e):!1!==n&&null!=n&&t.push(`${e}="${String(n)}"`))}),t.join(" ")}function Zy(e){const{nodeName:t,name:n,parseAttributes:r=Gy,serializeAttributes:o=Xy,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t;return{parseMarkdown:(e,n)=>{const r={...i,...e.attributes};return n.createNode(t,r,[])},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${l}(?:\\s|$)`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,o){const i=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),s=e.match(i);if(!s)return;const c=s[1]||"",d=r(c);return a.find(e=>!(e in d))?void 0:{type:t,raw:s[0],attributes:d}}},renderMarkdown:e=>{const t=(e=>{if(!s)return e;const t={};return s.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),n=o(t);return`:::${l}${n?` {${n}}`:""} :::`}}}function eb(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=Gy,serializeAttributes:i=Xy,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t;return{parseMarkdown:(e,n)=>{let o;if(r){const t=r(e);o="string"==typeof t?[{type:"text",text:t}]:t}else o="block"===s?n.parseChildren(e.tokens||[]):n.parseInline(e.tokens||[]);const i={...a,...e.attributes};return n.createNode(t,i,o)},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${c}`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,r){var i;const a=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),l=e.match(a);if(!l)return;const[d,u=""]=l,p=o(u);let h=1;const f=d.length;let m="";const g=/^:::([\w-]*)(\s.*)?/gm,v=e.slice(f);for(g.lastIndex=0;;){const n=g.exec(v);if(null===n)break;const o=n.index,a=n[1];if(!(null==(i=n[2])?void 0:i.endsWith(":::")))if(a)h+=1;else if(h-=1,0===h){const i=v.slice(0,o);m=i.trim();const a=e.slice(0,f+o+n[0].length);let l=[];if(m)if("block"===s)for(l=r.blockTokens(i),l.forEach(e=>{!e.text||e.tokens&&0!==e.tokens.length||(e.tokens=r.inlineTokens(e.text))});l.length>0;){const e=l[l.length-1];if("paragraph"!==e.type||e.text&&""!==e.text.trim())break;l.pop()}else l=r.inlineTokens(m);return{type:t,raw:a,attributes:p,content:m,tokens:l}}}}},renderMarkdown:(e,t)=>{const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),r=i(n),o=r?` {${r}}`:"",a=t.renderChildren(e.content||[],"\n\n");return`:::${c}${o}\n\n${a}\n\n:::`}}}function tb(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;null!==r;){const[,o,i,a]=r;t[o]=i||a,r=n.exec(e)}return t}function nb(e){return Object.entries(e).filter(([,e])=>null!=e).map(([e,t])=>`${e}="${t}"`).join(" ")}function rb(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=tb,serializeAttributes:i=nb,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(e,n)=>{const o={...a,...e.attributes};if(s)return n.createNode(t,o);const i=r?r(e):e.content||"";return i?n.createNode(t,o,[n.createTextNode(i)]):n.createNode(t,o,[])},markdownTokenizer:{name:t,level:"inline",start(e){const t=s?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),n=e.match(t),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(e,n,r){const i=s?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),a=e.match(i);if(!a)return;let l="",c="";if(s){const[,e]=a;c=e}else{const[,e,t]=a;c=e,l=t||""}const u=o(c.trim());return{type:t,raw:a[0],content:l.trim(),attributes:u}}},renderMarkdown:e=>{let t="";r?t=r(e):e.content&&e.content.length>0&&(t=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""));const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{const r="string"==typeof n?n:n.name,o="string"==typeof n?void 0:n.skipIfDefault;if(r in e){const n=e[r];if(void 0!==o&&n===o)return;t[r]=n}}),t})(e.attrs||{}),o=i(n),a=o?` ${o}`:"";return s?`[${c}${a}]`:`[${c}${a}]${t}[/${c}]`}}}function ob(e,t,n){var r,o,i,a;const s=e.split("\n"),l=[];let c="",d=0;const u=t.baseIndentSize||2;for(;d<s.length;){const e=s[d],p=e.match(t.itemPattern);if(!p){if(l.length>0)break;if(""===e.trim()){d+=1,c=`${c}${e}\n`;continue}return}const h=t.extractItemData(p),{indentLevel:f,mainContent:m}=h;c=`${c}${e}\n`;const g=[m];for(d+=1;d<s.length;){const e=s[d];if(""===e.trim()){const t=s.slice(d+1).findIndex(e=>""!==e.trim());if(-1===t)break;if(((null==(o=null==(r=s[d+1+t].match(/^(\s*)/))?void 0:r[1])?void 0:o.length)||0)>f){g.push(e),c=`${c}${e}\n`,d+=1;continue}break}if(!(((null==(a=null==(i=e.match(/^(\s*)/))?void 0:i[1])?void 0:a.length)||0)>f))break;g.push(e),c=`${c}${e}\n`,d+=1}let v;const y=g.slice(1);if(y.length>0){const e=y.map(e=>e.slice(f+u)).join("\n");e.trim()&&(v=t.customNestedParser?t.customNestedParser(e):n.blockTokens(e))}const b=t.createToken(h,v);l.push(b)}if(0!==l.length)return{items:l,raw:c}}function ib(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o="function"==typeof n?n(r):n,[i,...a]=e.content,s=[`${o}${t.renderChildren([i])}`];return a&&a.length>0&&a.forEach(e=>{const n=t.renderChildren([e]);if(n){const e=n.split("\n").map(e=>e?t.indent(e):"").join("\n");s.push(e)}}),s.join("\n")}function ab(e,t,n={}){const{state:r}=t,{doc:o,tr:i}=r,a=e;o.descendants((t,r)=>{const o=i.mapping.map(r),s=i.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach(e=>{if(e!==a)return!1;l=e}),!l)return;let c=!1;if(Object.keys(n).forEach(e=>{n[e]!==l.attrs[e]&&(c=!0)}),c){const t=e.type.create({...e.attrs,...n});i.removeMark(o,s,e.type),i.addMark(o,s,t)}}),i.docChanged&&t.view.dispatch(i)}cg({},{createAtomBlockMarkdownSpec:()=>Zy,createBlockMarkdownSpec:()=>eb,createInlineMarkdownSpec:()=>rb,parseAttributes:()=>Gy,parseIndentedBlocks:()=>ob,renderNestedMarkdownContent:()=>ib,serializeAttributes:()=>Xy});var sb=class e extends Ty{constructor(){super(...arguments),this.type="node"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};function lb(e){return new Oy({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=Dv(e.getAttributes,void 0,r,o);if(!1===i||null===i)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const r=l.search(/\S/),o=n.from+l.indexOf(s),d=o+s.length;if(Vv(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;d<n.to&&a.delete(d,n.to),o>n.from&&a.delete(n.from+r,o),c=n.from+r+s.length,a.addMark(n.from+r,c,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}var cb=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const{children:n,...r}=null!=t?t:{};if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},db=/^\s*>\s$/,ub=sb.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return cb("blockquote",{..._v(this.options.HTMLAttributes,e),children:cb("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(e=>{const r=t.renderChildren([e]).split("\n").map(e=>""===e.trim()?">":`> ${e}`);n.push(r.join("\n"))}),n.join("\n>\n")},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Qy({find:db,type:this.type})]}}),pb=ub,hb=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,fb=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,mb=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,gb=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vb=_y.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return cb("strong",{..._v(this.options.HTMLAttributes,e),children:cb("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jy({find:hb,type:this.type}),Jy({find:mb,type:this.type})]},addPasteRules(){return[lb({find:fb,type:this.type}),lb({find:gb,type:this.type})]}}),yb=vb,bb=Object.defineProperty,wb="textStyle",kb=/^\s*([-+*])\s$/,xb=sb.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",_v(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>"list"!==e.type||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(wb)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Qy({find:kb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Qy({find:kb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(wb),editor:this.editor})),[e]}}),Cb=sb.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",_v(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if("list_item"!==e.type)return[];let n=[];if(e.tokens&&e.tokens.length>0){const r=e.tokens.some(e=>"paragraph"===e.type);if(r)n=t.parseChildren(e.tokens);else{const r=e.tokens[0];if(r&&"text"===r.type&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){const r=e.tokens.slice(1),o=t.parseChildren(r);n.push(...o)}}else n=t.parseChildren(e.tokens)}}return 0===n.length&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>ib(e,t,e=>{var t,n;if("bulletList"===e.parentType)return"- ";if("orderedList"===e.parentType){return`${((null==(n=null==(t=e.meta)?void 0:t.parentAttrs)?void 0:n.start)||1)+e.index}. `}return"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)bb(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>Sb,getNextListDepth:()=>Mb,handleBackspace:()=>_b,handleDelete:()=>Nb,hasListBefore:()=>Db,hasListItemAfter:()=>Rb,hasListItemBefore:()=>Eb,listItemHasSubList:()=>Tb,nextListIsDeeper:()=>Ob,nextListIsHigher:()=>Ab});var Sb=(e,t)=>{const{$from:n}=t.selection,r=wg(e,t.schema);let o=null,i=n.depth,a=n.pos,s=null;for(;i>0&&null===s;)o=n.node(i),o.type===r?s=i:(i-=1,a-=1);return null===s?null:{$pos:t.doc.resolve(a),depth:s}},Mb=(e,t)=>{const n=Sb(e,t);if(!n)return!1;const[,r]=((e,t,n,r=20)=>{const o=e.doc.resolve(n);let i=r,a=null;for(;i>0&&null===a;){const e=o.node(i);(null==e?void 0:e.type.name)===t?a=e:i-=1}return[a,i]})(t,e,n.$pos.pos+4);return r},Db=(e,t,n)=>{const{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),i=e.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},Eb=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return 0!==o.index()&&(null==(n=o.nodeBefore)?void 0:n.type.name)===e},Tb=(e,t,n)=>{if(!n)return!1;const r=wg(e,t.schema);let o=!1;return n.descendants(e=>{e.type===r&&(o=!0)}),o},_b=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!nv(e.state,t)&&Db(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),o=[];r.node().descendants((e,n)=>{e.type.name===t&&o.push({node:e,pos:n})});const i=o.at(-1);if(!i)return!1;const a=e.state.doc.resolve(r.start()+i.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},a.end()).joinForward().run()}if(!nv(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=Sb(t,e.state);if(!r)return!1;const o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=Tb(t,e.state,o);return Eb(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Ob=(e,t)=>{const n=Mb(e,t),r=Sb(e,t);return!(!r||!n)&&n>r.depth},Ab=(e,t)=>{const n=Mb(e,t),r=Sb(e,t);return!(!r||!n)&&n<r.depth},Nb=(e,t)=>{if(!nv(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const n=kv(e=>e.type.name===t)(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return o.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:o}=n;return!(!n.empty&&r.sameParent(o))&&(Ob(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Ab(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},Rb=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return o.index()!==o.parent.childCount-1&&(null==(n=o.nodeAfter)?void 0:n.type.name)===e},Ib=Py.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&Nb(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&Nb(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&_b(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&_b(e,n,r)&&(t=!0)}),t}}}}),Pb=/^(\s*)(\d+)\.\s+(.*)$/,Lb=/^\s/;function zb(e,t,n){var r;const o=[];let i=0;for(;i<e.length;){const a=e[i];if(a.indent===t){const s=a.content.split("\n"),l=(null==(r=s[0])?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const d=s.slice(1).join("\n").trim();if(d){const e=n.blockTokens(d);c.push(...e)}let u=i+1;const p=[];for(;u<e.length&&e[u].indent>t;)p.push(e[u]),u+=1;if(p.length>0){const e=Math.min(...p.map(e=>e.indent)),t=zb(p,e,n);c.push({type:"list",ordered:!0,start:p[0].number,items:t,raw:p.map(e=>e.raw).join("\n")})}o.push({type:"list_item",raw:a.raw,tokens:c}),i=u}else i+=1}return o}var Fb="textStyle",Hb=/^(\d+)\.\s$/,jb=sb.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",_v(this.options.HTMLAttributes,n),0]:["ol",_v(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if("list"!==e.type||!e.ordered)return[];const n=e.start||1,r=e.items?function(e,t){return e.map(e=>{if("list_item"!==e.type)return t.parseChildren([e])[0];const n=[];return e.tokens&&e.tokens.length>0&&e.tokens.forEach(e=>{if("paragraph"===e.type||"list"===e.type||"blockquote"===e.type||"code"===e.type)n.push(...t.parseChildren([e]));else if("text"===e.type&&e.tokens){const r=t.parseChildren([e]);n.push({type:"paragraph",content:r})}else{const r=t.parseChildren([e]);r.length>0&&n.push(...r)}}),{type:"listItem",content:n}})}(e.items,t):[];return 1!==n?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=null==t?void 0:t.index;return void 0!==n?n:-1},tokenize:(e,t,n)=>{var r;const o=e.split("\n"),[i,a]=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n],i=o.match(Pb);if(!i)break;const[,a,s,l]=i,c=a.length;let d=l,u=n+1;const p=[o];for(;u<e.length;){const t=e[u];if(t.match(Pb))break;if(""===t.trim())p.push(t),d+="\n",u+=1;else{if(!t.match(Lb))break;p.push(t),d+=`\n${t.slice(c+2)}`,u+=1}}t.push({indent:c,number:parseInt(s,10),content:d.trim(),raw:p.join("\n")}),r=u,n=u}return[t,r]}(o);if(0===i.length)return;const s=zb(i,0,n);if(0===s.length)return;return{type:"list",ordered:!0,start:(null==(r=i[0])?void 0:r.number)||1,items:s,raw:o.slice(0,a).join("\n")}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(Fb)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Qy({find:Hb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Qy({find:Hb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Fb)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),Bb=/^\s*(\[([( |x])?\])\s$/,$b=sb.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",_v(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;return ib(e,t,`- [${(null==(n=e.attrs)?void 0:n.checked)?"x":" "}] `)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=e=>{var t,n;s.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,s.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};c(e),i.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",e=>e.preventDefault()),s.addEventListener("change",t=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(s.checked=!s.checked);const{checked:o}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const r=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==r?void 0:r.attrs,checked:o}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,o)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{o.setAttribute(e,t)}),o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,i.append(s,a),o.append(i,l),Object.entries(t).forEach(([e,t])=>{o.setAttribute(e,t)});let d=new Set(Object.keys(t));return{dom:o,contentDOM:l,update:e=>{if(e.type!==this.type)return!1;o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,c(e);const t=Ov(e,r.extensionManager.attributes),n=new Set(Object.keys(t)),i=this.options.HTMLAttributes;return d.forEach(e=>{n.has(e)||(e in i?o.setAttribute(e,i[e]):o.removeAttribute(e))}),Object.entries(t).forEach(([e,t])=>{null==t?e in i?o.setAttribute(e,i[e]):o.removeAttribute(e):o.setAttribute(e,t)}),d=n,!0}}}},addInputRules(){return[Qy({find:Bb,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),Vb=sb.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",_v(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=null==(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:t.index;return void 0!==n?n:-1},tokenize(e,t,n){const r=e=>{const t=ob(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);return t?[{type:"taskList",raw:t.raw,items:t.items}]:n.blockTokens(e)},o=ob(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Ub=(Py.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(xb.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(Cb.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(Ib.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(jb.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push($b.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(Vb.configure(this.options.taskList)),e}}),xb),Wb=(e,t=0)=>{const n=[];return!e.children.length||t>20||Array.from(e.children).forEach(e=>{"SPAN"===e.tagName?n.push(e):e.children.length&&n.push(...Wb(e,t+1))}),n},Yb=_y.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=Wb(e);t&&t.forEach(e=>{var t,n;const r=e.getAttribute("style"),o=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style",`${o};${r}`)})})(e),{})}]},renderHTML({HTMLAttributes:e}){return["span",_v(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(t,n)=>{if(t.isTextblock)return!0;t.marks.filter(e=>e.type===this.type).some(e=>Object.values(e.attrs).some(e=>!!e))||e.removeMark(n,n+t.nodeSize,this.type)}),!0}}}}),qb=Py.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("background-color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),Kb=Py.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands:()=>({setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),Jb=Py.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})}),Qb=Py.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),Gb=Py.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands:()=>({setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()})}),Xb=Py.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(qb.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(Kb.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(Jb.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(Qb.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(Gb.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(Yb.configure(this.options.textStyle)),e}}),Zb=sb.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n\n"):""}),ew=Zb,tw=sb.create({name:"hardBreak",markdownTokenName:"br",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",_v(this.options.HTMLAttributes,e)]},renderText:()=>"\n",renderMarkdown:()=>"  \n",parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,s=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&s&&i){const t=s.filter(e=>a.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),nw=tw,rw=sb.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,_v(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.level)?parseInt(e.attrs.level,10):1,o="#".repeat(r);return e.content?`${o} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>{return t={find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}},new Sy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=Dv(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable});var t})}}),ow=rw,iw=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,aw=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,sw=_y.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",_v(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const r=/^(==)([^=]+)(==)/.exec(e);if(r){const e=r[2].trim(),t=n.inlineTokens(e);return{type:"highlight",raw:r[0],text:e,tokens:t}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Jy({find:iw,type:this.type})]},addPasteRules(){return[lb({find:aw,type:this.type})]}}),lw=sw;function cw(e={}){return new ep({view:t=>new dw(t,e)})}class dw{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,o=r.getBoundingClientRect(),i=o.width/r.offsetWidth,a=o.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let s=this.width/2*a;e={left:o.left,right:o.right,top:i-s,bottom:i+s}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;s=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-s)/i+"px",this.element.style.top=(e.top-l)/a+"px",this.element.style.width=(e.right-e.left)/i+"px",this.element.style.height=(e.bottom-e.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=yu(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class uw extends Pu{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return uw.valid(n)?new uw(n):Pu.near(n)}content(){return Vc.empty}eq(e){return e instanceof uw&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new uw(e.resolve(t.pos))}getBookmark(){return new pw(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||hw(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||hw(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&uw.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let a=e.doc.resolve(r);if(uw.valid(a))return a}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!Bu.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let a=e.doc.resolve(r);if(uw.valid(a))return a}return null}}}uw.prototype.visible=!1,uw.findFrom=uw.findGapCursorFrom,Pu.jsonID("gapcursor",uw);class pw{constructor(e){this.pos=e}map(e){return new pw(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return uw.valid(t)?new uw(t):Pu.near(t)}}function hw(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}const fw=sg({ArrowLeft:mw("horiz",-1),ArrowRight:mw("horiz",1),ArrowUp:mw("vert",-1),ArrowDown:mw("vert",1)});function mw(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof Hu){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}let l=uw.findGapCursorFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new uw(l))),!0)}}function gw(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!uw.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&Bu.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new uw(r))),!0)}function vw(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof uw))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=zc.empty;for(let a=r.length-1;a>=0;a--)o=zc.from(r[a].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new Vc(o,0,0));return i.setSelection(Hu.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function yw(e){if(!(e.selection instanceof uw))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",wm.create(e.doc,[vm.widget(e.selection.head,t,{key:"gapcursor"})])}var bw=200,ww=function(){};ww.prototype.append=function(e){return e.length?(e=ww.from(e),!this.length&&e||e.length<bw&&this.leafAppend(e)||this.length<bw&&e.leafPrepend(this)||this.appendInner(e)):this},ww.prototype.prepend=function(e){return e.length?ww.from(e).append(this):this},ww.prototype.appendInner=function(e){return new xw(this,e)},ww.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?ww.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},ww.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},ww.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},ww.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},ww.from=function(e){return e instanceof ww?e:e&&e.length?new kw(e):ww.empty};var kw=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=bw)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=bw)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ww);ww.empty=new kw([]);var xw=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(ww);const Cw=ww;class Sw{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,a,s=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new Mw(e.map));let t,o=e.step.map(n.slice(r));o&&s.maybeStep(o).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new Mw(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,a=new Sw(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:s,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),d=new Mw(e.mapping.maps[c],l,t);(n=s&&s.merge(d))&&(d=n,c?o.pop():a=a.slice(0,a.length-1)),o.push(d),t&&(i++,t=void 0),r||(s=d)}let l=i-n.depth;return l>Ew&&(a=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(a,l),i-=l),new Sw(a.append(o),i)}remapping(e,t){let n=new Jd;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new Sw(this.items.append(e.map(e=>new Mw(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(e=>{e.selection&&a--},r);let s=t;this.items.forEach(t=>{let r=o.getMirror(--s);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(s+1,r));c&&a++,n.push(new Mw(l,i,c))}else n.push(new Mw(l))},r);let l=[];for(let u=t;u<i;u++)l.push(new Mw(o.maps[u]));let c=this.items.slice(0,r).append(l).append(n),d=new Sw(c,a);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=i.selection&&i.selection.map(t.slice(n));s&&o++;let l,c=new Mw(a.invert(),e,s),d=r.length-1;(l=r.length&&r[d].merge(c))?r[d]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new Sw(Cw.from(r.reverse()),o)}}Sw.empty=new Sw(Cw.empty,0);class Mw{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Mw(t.getMap().invert(),t,this.selection)}}}class Dw{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const Ew=20;function Tw(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,o)=>t.push(r,o));return t}function _w(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}let Ow=!1,Aw=null;function Nw(e){let t=e.plugins;if(Aw!=t){Ow=!1,Aw=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Ow=!0;break}}return Ow}const Rw=new rp("history"),Iw=new rp("closeHistory");function Pw(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new ep({key:Rw,state:{init:()=>new Dw(Sw.empty,Sw.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(Rw);if(i)return i.historyState;n.getMeta(Iw)&&(e=new Dw(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(Rw))return a.getMeta(Rw).redo?new Dw(e.done.addTransform(n,void 0,r,Nw(t)),e.undone,Tw(n.mapping.maps),e.prevTime,e.prevComposition):new Dw(e.done,e.undone.addTransform(n,void 0,r,Nw(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Dw(e.done.rebased(n,o),e.undone.rebased(n,o),_w(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Dw(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),_w(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges)),s=a?_w(e.prevRanges,n.mapping):Tw(n.mapping.maps);return new Dw(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,Nw(t)),Sw.empty,s,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?zw:"historyRedo"==n?Fw:null;return!(!r||!e.editable)&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function Lw(e,t){return(n,r)=>{let o=Rw.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=Nw(t),o=Rw.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),s=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new Dw(n?s:i.remaining,n?i.remaining:s,null,0,-1);return i.transform.setSelection(a).setMeta(Rw,{redo:n,historyState:l})}(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const zw=Lw(!1,!0),Fw=Lw(!0,!0);Lw(!1,!1),Lw(!0,!1);Py.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new ep({key:new rp("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const o=this.options.limit;if(null==o||0===o)return void(e=!0);const i=this.storage.characters({node:r.doc});if(i>o){const t=0,n=i-o;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const a=r.tr.deleteRange(t,n);return e=!0,a}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=n)return!0;if(r>n&&o>n&&o<=r)return!0;if(r>n&&o>n&&o>r)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,a=i-(o-n),s=i;e.deleteRange(a,s);return!(this.storage.characters({node:e.doc})>n)}})]}}),Py.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[cw(this.options)]}}),Py.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new ep({key:new rp("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=t,i=[];if(!n||!r)return wm.create(e,[]);let a=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(e.isText)return;if(!(o>=t&&o<=t+e.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((e,t)=>{if(e.isText)return!1;if(!(o>=t&&o<=t+e.nodeSize-1))return!1;s+=1;if("deepest"===this.options.mode&&a-s>0||"shallowest"===this.options.mode&&s>1)return"deepest"===this.options.mode;i.push(vm.node(t,t+e.nodeSize,{class:this.options.className}))}),wm.create(e,i)}}})]}}),Py.create({name:"gapCursor",addProseMirrorPlugins:()=>[new ep({props:{decorations:yw,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&uw.valid(n)?new uw(n):null,handleClick:gw,handleKeyDown:fw,handleDOMEvents:{beforeinput:vw}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=Dv(xv(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}});var Hw="placeholder";Py.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:Hw,placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${t=this.options.dataAttribute,t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}`:`data-${Hw}`;var t;return[new ep({key:new rp("placeholder"),props:{decorations:({doc:t,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=n,i=[];if(!r)return null;const a=this.editor.isEmpty;return t.descendants((t,n)=>{const r=o>=n&&o<=n+t.nodeSize,s=!t.isLeaf&&Jv(t);if((r||!this.options.showOnlyCurrent)&&s){const o=[this.options.emptyNodeClass];a&&o.push(this.options.emptyEditorClass);const s=vm.node(n,n+t.nodeSize,{class:o.join(" "),[e]:"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:n,hasAnchor:r}):this.options.placeholder});i.push(s)}return this.options.includeChildren}),wm.create(t,i)}}})]}}),Py.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new ep({key:new rp("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||n.selection instanceof Bu||e.view.dragging?null:wm.create(n.doc,[vm.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});function jw({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}Py.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;const t=new rp(this.name),n=this.options.node||(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new ep({key:t,appendTransaction:(e,r,o)=>{const{doc:i,tr:a,schema:s}=o,l=t.getState(o),c=i.content.size,d=s.nodes[n];if(l)return a.insert(c,d.create())},state:{init:(e,t)=>!jw({node:t.tr.doc.lastChild,types:r}),apply:(e,t)=>{if(!e.docChanged)return t;if(e.getMeta("__uniqueIDTransaction"))return t;return!jw({node:e.doc.lastChild,types:r})}}})]}});var Bw=Py.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>zw(e,t),redo:()=>({state:e,dispatch:t})=>Fw(e,t)}),addProseMirrorPlugins(){return[Pw(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}}),$w=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Vw=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Uw=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Ww=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Yw=_y.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",_v(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jy({find:$w,type:this.type}),Jy({find:Uw,type:this.type})]},addPasteRules(){return[lb({find:Vw,type:this.type}),lb({find:Ww,type:this.type})]}}),qw=Yw;const Kw="numeric",Jw="ascii",Qw="alpha",Gw="asciinumeric",Xw="alphanumeric",Zw="domain",ek="emoji",tk="scheme",nk="slashscheme",rk="whitespace";function ok(e,t){return e in t||(t[e]=[]),t[e]}function ik(e,t,n){t[Kw]&&(t[Gw]=!0,t[Xw]=!0),t[Jw]&&(t[Gw]=!0,t[Qw]=!0),t[Gw]&&(t[Xw]=!0),t[Qw]&&(t[Xw]=!0),t[Xw]&&(t[Zw]=!0),t[ek]&&(t[Zw]=!0);for(const r in t){const t=ok(r,n);t.indexOf(e)<0&&t.push(e)}}function ak(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}ak.groups={},ak.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],o=t.jr[r][1];if(o&&n.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||ak.groups,t&&t.j?o=t:(o=new ak(t),n&&r&&ik(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let a=0;a<i-1;a++)o=o.tt(e[a]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||ak.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const i=t;let a,s=o.go(e);if(s?(a=new ak,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new ak,i){if(r)if(a.t&&"string"==typeof a.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(a.t,r),n);ik(i,e,r)}else n&&ik(i,n,r);a.t=i}return o.j[e]=a,a}};const sk=(e,t,n,r,o)=>e.ta(t,n,r,o),lk=(e,t,n,r,o)=>e.tr(t,n,r,o),ck=(e,t,n,r,o)=>e.ts(t,n,r,o),dk=(e,t,n,r,o)=>e.tt(t,n,r,o),uk="WORD",pk="UWORD",hk="ASCIINUMERICAL",fk="ALPHANUMERICAL",mk="LOCALHOST",gk="TLD",vk="UTLD",yk="SCHEME",bk="SLASH_SCHEME",wk="NUM",kk="WS",xk="NL",Ck="OPENBRACE",Sk="CLOSEBRACE",Mk="OPENBRACKET",Dk="CLOSEBRACKET",Ek="OPENPAREN",Tk="CLOSEPAREN",_k="OPENANGLEBRACKET",Ok="CLOSEANGLEBRACKET",Ak="FULLWIDTHLEFTPAREN",Nk="FULLWIDTHRIGHTPAREN",Rk="LEFTCORNERBRACKET",Ik="RIGHTCORNERBRACKET",Pk="LEFTWHITECORNERBRACKET",Lk="RIGHTWHITECORNERBRACKET",zk="FULLWIDTHLESSTHAN",Fk="FULLWIDTHGREATERTHAN",Hk="AMPERSAND",jk="APOSTROPHE",Bk="ASTERISK",$k="AT",Vk="BACKSLASH",Uk="BACKTICK",Wk="CARET",Yk="COLON",qk="COMMA",Kk="DOLLAR",Jk="DOT",Qk="EQUALS",Gk="EXCLAMATION",Xk="HYPHEN",Zk="PERCENT",ex="PIPE",tx="PLUS",nx="POUND",rx="QUERY",ox="QUOTE",ix="FULLWIDTHMIDDLEDOT",ax="SEMI",sx="SLASH",lx="TILDE",cx="UNDERSCORE",dx="EMOJI",ux="SYM";var px=Object.freeze({__proto__:null,ALPHANUMERICAL:fk,AMPERSAND:Hk,APOSTROPHE:jk,ASCIINUMERICAL:hk,ASTERISK:Bk,AT:$k,BACKSLASH:Vk,BACKTICK:Uk,CARET:Wk,CLOSEANGLEBRACKET:Ok,CLOSEBRACE:Sk,CLOSEBRACKET:Dk,CLOSEPAREN:Tk,COLON:Yk,COMMA:qk,DOLLAR:Kk,DOT:Jk,EMOJI:dx,EQUALS:Qk,EXCLAMATION:Gk,FULLWIDTHGREATERTHAN:Fk,FULLWIDTHLEFTPAREN:Ak,FULLWIDTHLESSTHAN:zk,FULLWIDTHMIDDLEDOT:ix,FULLWIDTHRIGHTPAREN:Nk,HYPHEN:Xk,LEFTCORNERBRACKET:Rk,LEFTWHITECORNERBRACKET:Pk,LOCALHOST:mk,NL:xk,NUM:wk,OPENANGLEBRACKET:_k,OPENBRACE:Ck,OPENBRACKET:Mk,OPENPAREN:Ek,PERCENT:Zk,PIPE:ex,PLUS:tx,POUND:nx,QUERY:rx,QUOTE:ox,RIGHTCORNERBRACKET:Ik,RIGHTWHITECORNERBRACKET:Lk,SCHEME:yk,SEMI:ax,SLASH:sx,SLASH_SCHEME:bk,SYM:ux,TILDE:lx,TLD:gk,UNDERSCORE:cx,UTLD:vk,UWORD:pk,WORD:uk,WS:kk});const hx=/[a-z]/,fx=/\p{L}/u,mx=/\p{Emoji}/u,gx=/\d/,vx=/\s/;let yx=null,bx=null;function wx(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let o,i=e.charCodeAt(r),a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,o=[];let i=0,a=0;for(;a<r;){let s=e,l=null,c=0,d=null,u=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(u=0,p=0,d=s):u>=0&&(u+=n[a].length,p++),c+=n[a].length,i+=n[a].length,a++;i-=u,a-=p,c-=u,o.push({t:d.t,v:t.slice(i-c,i),s:i-c,e:i})}return o}function kx(e,t,n,r,o){let i;const a=t.length;for(let s=0;s<a-1;s++){const n=t[s];e.j[n]?i=e.j[n]:(i=new ak(r),i.jr=o.slice(),e.j[n]=i),e=i}return i=new ak(n),i.jr=o.slice(),e.j[t[a-1]]=i,i}function xx(e){const t=[],n=[];let r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}const Cx={defaultProtocol:"http",events:null,format:Mx,formatHref:Mx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Sx(e,t=null){let n=Object.assign({},Cx);e&&(n=Object.assign(n,e instanceof Sx?e.o:e));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function Mx(e){return e}Sx.prototype={o:Cx,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let o=this.o[e];return o?("object"==typeof o?(o=n.t in o?o[n.t]:Cx[e],"function"==typeof o&&r&&(o=o(t,n))):"function"==typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Dx(e,t){this.t="token",this.v=e,this.tk=t}function Ex(e,t){class n extends Dx{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}Dx.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Cx.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),i=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),d&&Object.assign(a,d),{tagName:o,attributes:a,content:i,eventListeners:u}}};const Tx=Ex("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),_x=Ex("text"),Ox=Ex("nl"),Ax=Ex("url",{isLink:!0,toHref(e=Cx.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==mk&&e[1].t===Yk}});const Nx=e=>new ak(e);function Rx(e,t,n){const r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}const Ix="undefined"!=typeof console&&console&&console.warn||(()=>{}),Px="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Lx={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function zx(e,t=!1){if(Lx.initialized&&Ix(`linkifyjs: already initialized - will not register custom scheme "${e}" ${Px}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');Lx.customSchemes.push([e,t])}function Fx(){Lx.scanner=function(e=[]){const t={};ak.groups=t;const n=new ak;null==yx&&(yx=xx("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==bx&&(bx=xx("\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2")),dk(n,"'",jk),dk(n,"{",Ck),dk(n,"}",Sk),dk(n,"[",Mk),dk(n,"]",Dk),dk(n,"(",Ek),dk(n,")",Tk),dk(n,"<",_k),dk(n,">",Ok),dk(n,"\uff08",Ak),dk(n,"\uff09",Nk),dk(n,"\u300c",Rk),dk(n,"\u300d",Ik),dk(n,"\u300e",Pk),dk(n,"\u300f",Lk),dk(n,"\uff1c",zk),dk(n,"\uff1e",Fk),dk(n,"&",Hk),dk(n,"*",Bk),dk(n,"@",$k),dk(n,"`",Uk),dk(n,"^",Wk),dk(n,":",Yk),dk(n,",",qk),dk(n,"$",Kk),dk(n,".",Jk),dk(n,"=",Qk),dk(n,"!",Gk),dk(n,"-",Xk),dk(n,"%",Zk),dk(n,"|",ex),dk(n,"+",tx),dk(n,"#",nx),dk(n,"?",rx),dk(n,'"',ox),dk(n,"/",sx),dk(n,";",ax),dk(n,"~",lx),dk(n,"_",cx),dk(n,"\\",Vk),dk(n,"\u30fb",ix);const r=lk(n,gx,wk,{[Kw]:!0});lk(r,gx,r);const o=lk(r,hx,hk,{[Gw]:!0}),i=lk(r,fx,fk,{[Xw]:!0}),a=lk(n,hx,uk,{[Jw]:!0});lk(a,gx,o),lk(a,hx,a),lk(o,gx,o),lk(o,hx,o);const s=lk(n,fx,pk,{[Qw]:!0});lk(s,hx),lk(s,gx,i),lk(s,fx,s),lk(i,gx,i),lk(i,hx),lk(i,fx,i);const l=dk(n,"\n",xk,{[rk]:!0}),c=dk(n,"\r",kk,{[rk]:!0}),d=lk(n,vx,kk,{[rk]:!0});dk(n,"\ufffc",d),dk(c,"\n",l),dk(c,"\ufffc",d),lk(c,vx,d),dk(d,"\r"),dk(d,"\n"),lk(d,vx,d),dk(d,"\ufffc",d);const u=lk(n,mx,dx,{[ek]:!0});dk(u,"#"),lk(u,mx,u),dk(u,"\ufe0f",u);const p=dk(u,"\u200d");dk(p,"#"),lk(p,mx,u);const h=[[hx,a],[gx,o]],f=[[hx,null],[fx,s],[gx,i]];for(let m=0;m<yx.length;m++)kx(n,yx[m],gk,uk,h);for(let m=0;m<bx.length;m++)kx(n,bx[m],vk,pk,f);ik(gk,{tld:!0,ascii:!0},t),ik(vk,{utld:!0,alpha:!0},t),kx(n,"file",yk,uk,h),kx(n,"mailto",yk,uk,h),kx(n,"http",bk,uk,h),kx(n,"https",bk,uk,h),kx(n,"ftp",bk,uk,h),kx(n,"ftps",bk,uk,h),ik(yk,{scheme:!0,ascii:!0},t),ik(bk,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let m=0;m<e.length;m++){const t=e[m][0],r=e[m][1]?{[tk]:!0}:{[nk]:!0};t.indexOf("-")>=0?r[Zw]=!0:hx.test(t)?gx.test(t)?r[Gw]=!0:r[Jw]=!0:r[Kw]=!0,ck(n,t,t,r)}return ck(n,"localhost",mk,{ascii:!0}),n.jd=new ak(ux),{start:n,tokens:Object.assign({groups:t},px)}}(Lx.customSchemes);for(let e=0;e<Lx.tokenQueue.length;e++)Lx.tokenQueue[e][1]({scanner:Lx.scanner});Lx.parser=function({groups:e}){const t=e.domain.concat([Hk,Bk,$k,Vk,Uk,Wk,Kk,Qk,Xk,wk,Zk,ex,tx,nx,sx,ux,lx,cx]),n=[jk,Yk,qk,Jk,Gk,Zk,rx,ox,ax,_k,Ok,Ck,Sk,Dk,Mk,Ek,Tk,Ak,Nk,Rk,Ik,Pk,Lk,zk,Fk],r=[Hk,jk,Bk,Vk,Uk,Wk,Kk,Qk,Xk,Ck,Sk,Zk,ex,tx,nx,rx,sx,ux,lx,cx],o=Nx(),i=dk(o,lx);sk(i,r,i),sk(i,e.domain,i);const a=Nx(),s=Nx(),l=Nx();sk(o,e.domain,a),sk(o,e.scheme,s),sk(o,e.slashscheme,l),sk(a,r,i),sk(a,e.domain,a);const c=dk(a,$k);dk(i,$k,c),dk(s,$k,c),dk(l,$k,c);const d=dk(i,Jk);sk(d,r,i),sk(d,e.domain,i);const u=Nx();sk(c,e.domain,u),sk(u,e.domain,u);const p=dk(u,Jk);sk(p,e.domain,u);const h=Nx(Tx);sk(p,e.tld,h),sk(p,e.utld,h),dk(c,mk,h);const f=dk(u,Xk);dk(f,Xk,f),sk(f,e.domain,u),sk(h,e.domain,u),dk(h,Jk,p),dk(h,Xk,f);const m=dk(h,Yk);sk(m,e.numeric,Tx);const g=dk(a,Xk),v=dk(a,Jk);dk(g,Xk,g),sk(g,e.domain,a),sk(v,r,i),sk(v,e.domain,a);const y=Nx(Ax);sk(v,e.tld,y),sk(v,e.utld,y),sk(y,e.domain,a),sk(y,r,i),dk(y,Jk,v),dk(y,Xk,g),dk(y,$k,c);const b=dk(y,Yk),w=Nx(Ax);sk(b,e.numeric,w);const k=Nx(Ax),x=Nx();sk(k,t,k),sk(k,n,x),sk(x,t,k),sk(x,n,x),dk(y,sx,k),dk(w,sx,k);const C=dk(s,Yk),S=dk(l,Yk),M=dk(S,sx),D=dk(M,sx);sk(s,e.domain,a),dk(s,Jk,v),dk(s,Xk,g),sk(l,e.domain,a),dk(l,Jk,v),dk(l,Xk,g),sk(C,e.domain,k),dk(C,sx,k),dk(C,rx,k),sk(D,e.domain,k),sk(D,t,k),dk(D,sx,k);const E=[[Ck,Sk],[Mk,Dk],[Ek,Tk],[_k,Ok],[Ak,Nk],[Rk,Ik],[Pk,Lk],[zk,Fk]];for(let T=0;T<E.length;T++){const[e,r]=E[T],o=dk(k,e);dk(x,e,o),dk(o,r,k);const i=Nx(Ax);sk(o,t,i);const a=Nx();sk(o,n),sk(i,t,i),sk(i,n,a),sk(a,t,i),sk(a,n,a),dk(i,r,k),dk(a,r,k)}return dk(o,mk,y),dk(o,xk,Ox),{start:o,tokens:px}}(Lx.scanner.tokens);for(let e=0;e<Lx.pluginQueue.length;e++)Lx.pluginQueue[e][1]({scanner:Lx.scanner,parser:Lx.parser});return Lx.initialized=!0,Lx}function Hx(e){return Lx.initialized||Fx(),function(e,t,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let s=e,l=null,c=null,d=0,u=null,p=-1;for(;o<r&&!(l=s.go(n[o].t));)a.push(n[o++]);for(;o<r&&(c=l||s.go(n[o].t));)l=null,s=c,s.accepts()?(p=0,u=s):p>=0&&p++,o++,d++;if(p<0)o-=d,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(Rx(_x,t,a)),a=[]),o-=p,d-=p;const e=u.t,r=n.slice(o-d,o);i.push(Rx(e,t,r))}}return a.length>0&&i.push(Rx(_x,t,a)),i}(Lx.parser.start,e,wx(Lx.scanner.start,e))}function jx(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Sx(n),o=Hx(e),i=[];for(let a=0;a<o.length;a++){const e=o[a];!e.isLink||t&&e.t!==t||!r.check(e)||i.push(e.toFormattedObject(r))}return i}Hx.scan=wx;var Bx="[\0- \xa0\u1680\u180e\u2000-\u2029\u205f\u3000]",$x=new RegExp(Bx),Vx=new RegExp(`${Bx}$`),Ux=new RegExp(Bx,"g");function Wx(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(Ux,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Yx=_y.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{"string"!=typeof e?zx(e.scheme,e.optionalSlashes):zx(e)})},onDestroy(){ak.groups={},Lx.scanner=null,Lx.parser=null,Lx.tokenQueue=[],Lx.pluginQueue=[],Lx.customSchemes=[],Lx.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Wx(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const r=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!/^\d{1,3}(\.\d{1,3}){3}$/.test(r)&&!!/\./.test(r)}}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!Wx(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!Wx(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",_v(this.options.HTMLAttributes,e),0]:["a",_v(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n,r,o,i;const a=null!=(r=null==(n=e.attrs)?void 0:n.href)?r:"",s=null!=(i=null==(o=e.attrs)?void 0:o.title)?i:"",l=t.renderChildren(e);return s?`[${l}](${a} "${s}")`:`[${l}](${a})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!Wx(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!Wx(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[lb({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,o=jx(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!Wx(e,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(function(e){return new ep({key:new rp("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),i=t.some(e=>e.getMeta("preventAutolink"));if(!o||i)return;const{tr:a}=r;return $v(wv(n.doc,[...t])).forEach(({newRange:t})=>{const n=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&r.push({node:e,pos:t})}),r}(r.doc,t,e=>e.isTextblock);let o,i;if(n.length>1)o=n[0],i=r.doc.textBetween(o.pos,o.pos+o.node.nodeSize,void 0," ");else if(n.length){const e=r.doc.textBetween(t.from,t.to," "," ");if(!Vx.test(e))return;o=n[0],i=r.doc.textBetween(o.pos,t.to,void 0," ")}if(o&&i){const t=i.split($x).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],l=o.pos+i.lastIndexOf(n);if(!n)return!1;const c=Hx(n).map(t=>t.toObject(e.defaultProtocol));if(!(1===(s=c).length?s[0].isLink:3===s.length&&s[1].isLink&&["()","[]"].includes(s[0].value+s[2].value)))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{Vv(t.from,t.to,r.doc).some(t=>t.mark.type===e.type)||a.addMark(t.from,t.to,e.type.create({href:t.href}))})}var s}),a.steps.length?a:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!Wx(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(function(e){return new ep({key:new rp("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,i;if(0!==r.button)return!1;if(!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{const t=r.target;if(!t)return!1;const n=e.editor.view.dom;a=t.closest("a"),a&&!n.contains(a)&&(a=null)}if(!a)return!1;let s=!1;if(e.enableClickSelection&&(s=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const n=jv(t.state,e.type.name),r=null!=(o=a.href)?o:n.href,l=null!=(i=a.target)?i:n.target;r&&(window.open(r,l),s=!0)}return s}}})}({type:this.type,editor:this.editor,openOnClick:"whenNotEditable"===this.options.openOnClick||this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new ep({key:new rp("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:o}=e,{state:i}=t,{selection:a}=i,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(e=>{l+=e.textContent});const c=jx(l,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===l);return!(!l||!c||void 0!==o&&!o(c.value))&&e.editor.commands.setMark(e.type,{href:c.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),qx=Yx,Kx=Cb,Jx=jb,Qx="&nbsp;",Gx=sb.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",_v(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];if(1===n.length&&"image"===n[0].type)return t.parseChildren([n[0]]);const r=t.parseInline(n);return 1!==r.length||"text"!==r[0].type||r[0].text!==Qx&&"\xa0"!==r[0].text?t.createNode("paragraph",void 0,r):t.createNode("paragraph",void 0,[])},renderMarkdown:(e,t)=>{if(!e)return"";const n=Array.isArray(e.content)?e.content:[];return 0===n.length?Qx:t.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Xx=Gx,Zx=sb.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),eC=Zx,tC=Py.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(e=>e),toggleTextAlign:e=>({editor:t,commands:n})=>!!this.options.alignments.includes(e)&&(t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),nC=_y.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",_v(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown:(e,t)=>`++${t.renderChildren(e)}++`,markdownTokenizer:{name:"underline",level:"inline",start:e=>e.indexOf("++"),tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const o=r[2].trim();return{type:"underline",raw:r[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),rC=nC,oC=n(7357);const{getOwnPropertyNames:iC,getOwnPropertySymbols:aC}=Object,{hasOwnProperty:sC}=Object.prototype;function lC(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}}function cC(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);const{cache:o}=r,i=o.get(t),a=o.get(n);if(i&&a)return i===n&&a===t;o.set(t,n),o.set(n,t);const s=e(t,n,r);return o.delete(t),o.delete(n),s}}function dC(e){return iC(e).concat(aC(e))}const uC=Object.hasOwn||((e,t)=>sC.call(e,t));function pC(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:hC,keys:fC}=Object;function mC(e,t){return e.byteLength===t.byteLength&&TC(new Uint8Array(e),new Uint8Array(t))}function gC(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function vC(e,t){return e.byteLength===t.byteLength&&TC(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function yC(e,t){return pC(e.getTime(),t.getTime())}function bC(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function wC(e,t){return e===t}function kC(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const o=new Array(r),i=e.entries();let a,s,l=0;for(;(a=i.next())&&!a.done;){const r=t.entries();let i=!1,c=0;for(;(s=r.next())&&!s.done;){if(o[c]){c++;continue}const r=a.value,d=s.value;if(n.equals(r[0],d[0],l,c,e,t,n)&&n.equals(r[1],d[1],r[0],d[0],e,t,n)){i=o[c]=!0;break}c++}if(!i)return!1;l++}return!0}const xC=pC;function CC(e,t,n){const r=fC(e);let o=r.length;if(fC(t).length!==o)return!1;for(;o-- >0;)if(!OC(e,t,n,r[o]))return!1;return!0}function SC(e,t,n){const r=dC(e);let o,i,a,s=r.length;if(dC(t).length!==s)return!1;for(;s-- >0;){if(o=r[s],!OC(e,t,n,o))return!1;if(i=hC(e,o),a=hC(t,o),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function MC(e,t){return pC(e.valueOf(),t.valueOf())}function DC(e,t){return e.source===t.source&&e.flags===t.flags}function EC(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const o=new Array(r),i=e.values();let a,s;for(;(a=i.next())&&!a.done;){const r=t.values();let i=!1,l=0;for(;(s=r.next())&&!s.done;){if(!o[l]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){i=o[l]=!0;break}l++}if(!i)return!1}return!0}function TC(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function _C(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OC(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||uC(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const AC={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},NC=Object.prototype.toString;function RC({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:o,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:u,areTypedArraysEqual:p,areUrlsEqual:h,unknownTagComparators:f}){return function(m,g,v){if(m===g)return!0;if(null==m||null==g)return!1;const y=typeof m;if(y!==typeof g)return!1;if("object"!==y)return"number"===y?s(m,g,v):"function"===y&&i(m,g,v);const b=m.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(m,g,v);if(Array.isArray(m))return t(m,g,v);if(b===Date)return r(m,g,v);if(b===RegExp)return d(m,g,v);if(b===Map)return a(m,g,v);if(b===Set)return u(m,g,v);const w=NC.call(m);if("[object Date]"===w)return r(m,g,v);if("[object RegExp]"===w)return d(m,g,v);if("[object Map]"===w)return a(m,g,v);if("[object Set]"===w)return u(m,g,v);if("[object Object]"===w)return"function"!=typeof m.then&&"function"!=typeof g.then&&l(m,g,v);if("[object URL]"===w)return h(m,g,v);if("[object Error]"===w)return o(m,g,v);if("[object Arguments]"===w)return l(m,g,v);if(AC[w])return p(m,g,v);if("[object ArrayBuffer]"===w)return e(m,g,v);if("[object DataView]"===w)return n(m,g,v);if("[object Boolean]"===w||"[object Number]"===w||"[object String]"===w)return c(m,g,v);if(f){let e=f[w];if(!e){const t=null!=(k=m)?k[Symbol.toStringTag]:void 0;t&&(e=f[t])}if(e)return e(m,g,v)}var k;return!1}}const IC=PC();PC({strict:!0}),PC({circular:!0}),PC({circular:!0,strict:!0}),PC({createInternalComparator:()=>pC}),PC({strict:!0,createInternalComparator:()=>pC}),PC({circular:!0,createInternalComparator:()=>pC}),PC({circular:!0,createInternalComparator:()=>pC,strict:!0});function PC(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:o=!1}=e,i=function({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:mC,areArraysEqual:n?SC:gC,areDataViewsEqual:vC,areDatesEqual:yC,areErrorsEqual:bC,areFunctionsEqual:wC,areMapsEqual:n?lC(kC,SC):kC,areNumbersEqual:xC,areObjectsEqual:n?SC:CC,arePrimitiveWrappersEqual:MC,areRegExpsEqual:DC,areSetsEqual:n?lC(EC,SC):EC,areTypedArraysEqual:n?lC(TC,SC):TC,areUrlsEqual:_C,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const e=cC(r.areArraysEqual),t=cC(r.areMapsEqual),n=cC(r.areObjectsEqual),o=cC(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:n,areSetsEqual:o})}return r}(e),a=RC(i),s=n?n(a):(l=a,function(e,t,n,r,o,i,a){return l(e,t,a)});var l;return function({circular:e,comparator:t,createState:n,equals:r,strict:o}){if(n)return function(i,a){const{cache:s=(e?new WeakMap:void 0),meta:l}=n();return t(i,a,{cache:s,equals:r,meta:l,strict:o})};if(e)return function(e,n){return t(e,n,{cache:new WeakMap,equals:r,meta:void 0,strict:o})};const i={cache:void 0,equals:r,meta:void 0,strict:o};return function(e,n){return t(e,n,i)}}({circular:t,comparator:a,createState:r,equals:s,strict:o})}var LC=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},zC=({contentComponent:e})=>{const t=(0,oC.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getServerSnapshot);return(0,Mr.jsx)(Mr.Fragment,{children:Object.values(t)})};var FC=class extends r.Component{constructor(e){var t;super(e),this.editorContentRef=r.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&(null==(e=t.view.dom)?void 0:e.parentNode)){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:e}),t.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:a.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("div",{ref:LC(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&(0,Mr.jsx)(zC,{contentComponent:e.contentComponent})]})}},HC=(0,r.forwardRef)((e,t)=>{const n=r.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return r.createElement(FC,{key:n,innerRef:t,...e})}),jC=r.memo(HC),BC="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,$C=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function VC(e){var t;const[n]=(0,r.useState)(()=>new $C(e.editor)),o=(0,bl.useSyncExternalStoreWithSelector)(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:IC);return BC(()=>n.watch(e.editor),[e.editor,n]),(0,r.useDebugValue)(o),o}var UC="undefined"==typeof window,WC=UC||Boolean("undefined"!=typeof window&&window.next),YC=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?UC||WC?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDrop)?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null==(n=(t=this.options.current).onPaste)?void 0:n.call(t,...e)},onDelete:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDelete)?void 0:n.call(t,...e)}};return new Ky(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);const t=this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]);if(t)return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function qC(e={},t=[]){const n=(0,r.useRef)(e);n.current=e;const[o]=(0,r.useState)(()=>new YC(n)),i=(0,oC.useSyncExternalStore)(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,r.useDebugValue)(i),(0,r.useEffect)(o.onRender(t)),VC({editor:i,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),i}var KC=(0,r.createContext)({editor:null}),JC=(KC.Consumer,()=>(0,r.useContext)(KC));var QC=(0,r.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),GC=()=>(0,r.useContext)(QC);r.forwardRef((e,t)=>{const{onDragStart:n}=GC(),r=e.as||"div";return(0,Mr.jsx)(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});r.createContext({markViewContentRef:()=>{}});var XC=(0,r.createContext)({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});XC.displayName="TiptapContext";var ZC=()=>(0,r.useContext)(XC);function eS({editor:e,instance:t,children:n}){const o=null!=e?e:t;if(!o)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const i=(0,r.useMemo)(()=>({editor:o}),[o]),a=(0,r.useMemo)(()=>({editor:o}),[o]);return(0,Mr.jsx)(KC.Provider,{value:a,children:(0,Mr.jsx)(XC.Provider,{value:i,children:n})})}function tS({...e}){const{editor:t}=ZC();return(0,Mr.jsx)(jC,{editor:t,...e})}eS.displayName="Tiptap",tS.displayName="Tiptap.Content";Object.assign(eS,{Content:tS});const nS=["top","right","bottom","left"],rS=["start","end"],oS=nS.reduce((e,t)=>e.concat(t,t+"-"+rS[0],t+"-"+rS[1]),[]),iS=Math.min,aS=Math.max,sS=Math.round,lS=Math.floor,cS=e=>({x:e,y:e}),dS={left:"right",right:"left",bottom:"top",top:"bottom"},uS={start:"end",end:"start"};function pS(e,t,n){return aS(e,iS(t,n))}function hS(e,t){return"function"==typeof e?e(t):e}function fS(e){return e.split("-")[0]}function mS(e){return e.split("-")[1]}function gS(e){return"x"===e?"y":"x"}function vS(e){return"y"===e?"height":"width"}const yS=new Set(["top","bottom"]);function bS(e){return yS.has(fS(e))?"y":"x"}function wS(e){return gS(bS(e))}function kS(e,t,n){void 0===n&&(n=!1);const r=mS(e),o=wS(e),i=vS(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=TS(a)),[a,TS(a)]}function xS(e){return e.replace(/start|end/g,e=>uS[e])}const CS=["left","right"],SS=["right","left"],MS=["top","bottom"],DS=["bottom","top"];function ES(e,t,n,r){const o=mS(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?SS:CS:t?CS:SS;case"left":case"right":return t?MS:DS;default:return[]}}(fS(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(xS)))),i}function TS(e){return e.replace(/left|right|bottom|top/g,e=>dS[e])}function _S(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function OS(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function AS(e,t,n){let{reference:r,floating:o}=e;const i=bS(t),a=wS(t),s=vS(a),l=fS(t),c="y"===i,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let h;switch(l){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(mS(t)){case"start":h[a]-=p*(n&&c?-1:1);break;case"end":h[a]+=p*(n&&c?-1:1)}return h}async function NS(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=hS(t,e),f=_S(h),m=s[p?"floating"===u?"reference":"floating":u],g=OS(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),b=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},w=OS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+f.top)/b.y,bottom:(w.bottom-g.bottom+f.bottom)/b.y,left:(g.left-w.left+f.left)/b.x,right:(w.right-g.right+f.right)/b.x}}function RS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function IS(e){return nS.some(t=>e[t]>=0)}function PS(e){const t=iS(...e.map(e=>e.left)),n=iS(...e.map(e=>e.top));return{x:t,y:n,width:aS(...e.map(e=>e.right))-t,height:aS(...e.map(e=>e.bottom))-n}}const LS=new Set(["left","top"]);function zS(){return"undefined"!=typeof window}function FS(e){return BS(e)?(e.nodeName||"").toLowerCase():"#document"}function HS(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function jS(e){var t;return null==(t=(BS(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function BS(e){return!!zS()&&(e instanceof Node||e instanceof HS(e).Node)}function $S(e){return!!zS()&&(e instanceof Element||e instanceof HS(e).Element)}function VS(e){return!!zS()&&(e instanceof HTMLElement||e instanceof HS(e).HTMLElement)}function US(e){return!(!zS()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof HS(e).ShadowRoot)}const WS=new Set(["inline","contents"]);function YS(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=oM(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!WS.has(o)}const qS=new Set(["table","td","th"]);function KS(e){return qS.has(FS(e))}const JS=[":popover-open",":modal"];function QS(e){return JS.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const GS=["transform","translate","scale","rotate","perspective"],XS=["transform","translate","scale","rotate","perspective","filter"],ZS=["paint","layout","strict","content"];function eM(e){const t=tM(),n=$S(e)?oM(e):e;return GS.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||XS.some(e=>(n.willChange||"").includes(e))||ZS.some(e=>(n.contain||"").includes(e))}function tM(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const nM=new Set(["html","body","#document"]);function rM(e){return nM.has(FS(e))}function oM(e){return HS(e).getComputedStyle(e)}function iM(e){return $S(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function aM(e){if("html"===FS(e))return e;const t=e.assignedSlot||e.parentNode||US(e)&&e.host||jS(e);return US(t)?t.host:t}function sM(e){const t=aM(e);return rM(t)?e.ownerDocument?e.ownerDocument.body:e.body:VS(t)&&YS(t)?t:sM(t)}function lM(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=sM(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=HS(o);if(i){const e=cM(a);return t.concat(a,a.visualViewport||[],YS(o)?o:[],e&&n?lM(e):[])}return t.concat(o,lM(o,[],n))}function cM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dM(e){const t=oM(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=VS(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=sS(n)!==i||sS(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function uM(e){return $S(e)?e:e.contextElement}function pM(e){const t=uM(e);if(!VS(t))return cS(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=dM(t);let a=(i?sS(n.width):n.width)/r,s=(i?sS(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const hM=cS(0);function fM(e){const t=HS(e);return tM()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:hM}function mM(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=uM(e);let a=cS(1);t&&(r?$S(r)&&(a=pM(r)):a=pM(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==HS(e))&&t}(i,n,r)?fM(i):cS(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){const e=HS(i),t=r&&$S(r)?HS(r):r;let n=e,o=cM(n);for(;o&&r&&t!==n;){const e=pM(o),t=o.getBoundingClientRect(),r=oM(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=i,c+=a,n=HS(o),o=cM(n)}}return OS({width:d,height:u,x:l,y:c})}function gM(e,t){const n=iM(e).scrollLeft;return t?t.left+n:mM(jS(e)).left+n}function vM(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-gM(e,n),y:n.top+t.scrollTop}}const yM=new Set(["absolute","fixed"]);function bM(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=HS(e),r=jS(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=tM();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}const c=gM(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-o);a<=25&&(i-=a)}else c<=25&&(i+=c);return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=jS(e),n=iM(e),r=e.ownerDocument.body,o=aS(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=aS(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+gM(e);const s=-n.scrollTop;return"rtl"===oM(r).direction&&(a+=aS(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(jS(e));else if($S(t))r=function(e,t){const n=mM(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=VS(e)?pM(e):cS(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=fM(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return OS(r)}function wM(e,t){const n=aM(e);return!(n===t||!$S(n)||rM(n))&&("fixed"===oM(n).position||wM(n,t))}function kM(e,t,n){const r=VS(t),o=jS(t),i="fixed"===n,a=mM(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=cS(0);function c(){l.x=gM(o)}if(r||!r&&!i)if(("body"!==FS(t)||YS(o))&&(s=iM(t)),r){const e=mM(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();i&&!r&&o&&c();const d=!o||r||i?cS(0):vM(o,s);return{x:a.left+s.scrollLeft-l.x-d.x,y:a.top+s.scrollTop-l.y-d.y,width:a.width,height:a.height}}function xM(e){return"static"===oM(e).position}function CM(e,t){if(!VS(e)||"fixed"===oM(e).position)return null;if(t)return t(e);let n=e.offsetParent;return jS(e)===n&&(n=n.ownerDocument.body),n}function SM(e,t){const n=HS(e);if(QS(e))return n;if(!VS(e)){let t=aM(e);for(;t&&!rM(t);){if($S(t)&&!xM(t))return t;t=aM(t)}return n}let r=CM(e,t);for(;r&&KS(r)&&xM(r);)r=CM(r,t);return r&&rM(r)&&xM(r)&&!eM(r)?n:r||function(e){let t=aM(e);for(;VS(t)&&!rM(t);){if(eM(t))return t;if(QS(t))return null;t=aM(t)}return null}(e)||n}const MM={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=jS(r),s=!!t&&QS(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=cS(1);const d=cS(0),u=VS(r);if((u||!u&&!i)&&(("body"!==FS(r)||YS(a))&&(l=iM(r)),VS(r))){const e=mM(r);c=pM(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!a||u||i?cS(0):vM(a,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}},getDocumentElement:jS,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?QS(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=lM(e,[],!1).filter(e=>$S(e)&&"body"!==FS(e)),o=null;const i="fixed"===oM(e).position;let a=i?aM(e):e;for(;$S(a)&&!rM(a);){const t=oM(a),n=eM(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&yM.has(o.position)||YS(a)&&!n&&wM(e,a))?r=r.filter(e=>e!==a):o=t,a=aM(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],s=a[0],l=a.reduce((e,n)=>{const r=bM(t,n,o);return e.top=aS(r.top,e.top),e.right=iS(r.right,e.right),e.bottom=iS(r.bottom,e.bottom),e.left=aS(r.left,e.left),e},bM(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:SM,getElementRects:async function(e){const t=this.getOffsetParent||SM,n=this.getDimensions,r=await n(e.floating);return{reference:kM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=dM(e);return{width:t,height:n}},getScale:pM,isElement:$S,isRTL:function(e){return"rtl"===oM(e).direction}};function DM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function EM(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=uM(e),d=o||i?[...c?lM(c):[],...lM(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const u=c&&s?function(e,t){let n,r=null;const o=jS(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=c;if(s||t(),!p||!h)return;const f={rootMargin:-lS(u)+"px "+-lS(o.clientWidth-(d+p))+"px "+-lS(o.clientHeight-(u+h))+"px "+-lS(d)+"px",threshold:aS(0,iS(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||DM(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...f,root:o.ownerDocument})}catch(v){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),i}(c,n):null;let p,h=-1,f=null;a&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let m=l?mM(e):null;return l&&function t(){const r=mM(e);m&&!DM(m,r)&&n();m=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const TM=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=fS(n),s=mS(n),l="y"===bS(n),c=LS.has(a)?-1:1,d=i&&l?-1:1,u=hS(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:f}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&"number"==typeof f&&(h="end"===s?-1*f:f),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},_M=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:a,placement:s,platform:l,elements:c}=t,{crossAxis:d=!1,alignment:u,allowedPlacements:p=oS,autoAlignment:h=!0,...f}=hS(e,t),m=void 0!==u||p===oS?function(e,t,n){return(e?[...n.filter(t=>mS(t)===e),...n.filter(t=>mS(t)!==e)]:n.filter(e=>fS(e)===e)).filter(n=>!e||mS(n)===e||!!t&&xS(n)!==n)}(u||null,h,p):p,g=await l.detectOverflow(t,f),v=(null==(n=a.autoPlacement)?void 0:n.index)||0,y=m[v];if(null==y)return{};const b=kS(y,i,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(s!==y)return{reset:{placement:m[0]}};const w=[g[fS(y)],g[b[0]],g[b[1]]],k=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:y,overflows:w}],x=m[v+1];if(x)return{data:{index:v+1,overflows:k},reset:{placement:x}};const C=k.map(e=>{const t=mS(e.placement);return[e.placement,t&&d?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),S=C.filter(e=>e[2].slice(0,mS(e[0])?2:3).every(e=>e<=0)),M=(null==(o=S[0])?void 0:o[0])||C[0][0];return M!==s?{data:{index:v+1,overflows:k},reset:{placement:M}}:{}}}},OM=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=hS(e,t),d={x:n,y:r},u=await i.detectOverflow(t,c),p=bS(fS(o)),h=gS(p);let f=d[h],m=d[p];if(a){const e="y"===h?"bottom":"right";f=pS(f+u["y"===h?"top":"left"],f,f-u[e])}if(s){const e="y"===p?"bottom":"right";m=pS(m+u["y"===p?"top":"left"],m,m-u[e])}const g=l.fn({...t,[h]:f,[p]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[p]:s}}}}}},AM=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=hS(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const v=fS(o),y=bS(s),b=fS(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),k=p||(b||!m?[TS(s)]:function(e){const t=TS(e);return[xS(e),t,xS(t)]}(s)),x="none"!==f;!p&&x&&k.push(...ES(s,m,f,w));const C=[s,...k],S=await l.detectOverflow(t,g),M=[];let D=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&M.push(S[v]),u){const e=kS(o,a,w);M.push(S[e[0]],S[e[1]])}if(D=[...D,{placement:o,overflows:M}],!M.every(e=>e<=0)){var E,T;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=C[e];if(t){if(!("alignment"===u&&y!==bS(t))||D.every(e=>bS(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:D},reset:{placement:t}}}let n=null==(T=D.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!n)switch(h){case"bestFit":{var _;const e=null==(_=D.filter(e=>{if(x){const t=bS(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:_[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},NM=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,{apply:l=()=>{},...c}=hS(e,t),d=await a.detectOverflow(t,c),u=fS(o),p=mS(o),h="y"===bS(o),{width:f,height:m}=i.floating;let g,v;"top"===u||"bottom"===u?(g=u,v=p===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=u,g="end"===p?"top":"bottom");const y=m-d.top-d.bottom,b=f-d.left-d.right,w=iS(m-d[g],y),k=iS(f-d[v],b),x=!t.middlewareData.shift;let C=w,S=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=y),x&&!p){const e=aS(d.left,0),t=aS(d.right,0),n=aS(d.top,0),r=aS(d.bottom,0);h?S=f-2*(0!==e||0!==t?e+t:aS(d.left,d.right)):C=m-2*(0!==n||0!==r?n+r:aS(d.top,d.bottom))}await l({...t,availableWidth:S,availableHeight:C});const M=await a.getDimensions(s.floating);return f!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}},RM=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...i}=hS(e,t);switch(o){case"referenceHidden":{const e=RS(await r.detectOverflow(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:IS(e)}}}case"escaped":{const e=RS(await r.detectOverflow(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:IS(e)}}}default:return{}}}}},IM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=hS(e,t)||{};if(null==c)return{};const u=_S(d),p={x:n,y:r},h=wS(o),f=vS(h),m=await a.getDimensions(c),g="y"===h,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=i.reference[f]+i.reference[h]-p[h]-i.floating[f],k=p[h]-i.reference[h],x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let C=x?x[b]:0;C&&await(null==a.isElement?void 0:a.isElement(x))||(C=s.floating[b]||i.floating[f]);const S=w/2-k/2,M=C/2-m[f]/2-1,D=iS(u[v],M),E=iS(u[y],M),T=D,_=C-m[f]-E,O=C/2-m[f]/2+S,A=pS(T,O,_),N=!l.arrow&&null!=mS(o)&&O!==A&&i.reference[f]/2-(O<T?D:E)-m[f]/2<0,R=N?O<T?O-T:O-_:0;return{[h]:p[h]+R,data:{[h]:A,centerOffset:O-A-R,...N&&{alignmentOffset:R}},reset:N}}}),PM=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:l,y:c}=hS(e,t),d=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(r.reference))||[]),u=function(e){const t=e.slice().sort((e,t)=>e.y-t.y),n=[];let r=null;for(let o=0;o<t.length;o++){const e=t[o];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map(e=>OS(PS(e)))}(d),p=OS(PS(d)),h=_S(s);const f=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===u.length&&u[0].left>u[1].right&&null!=l&&null!=c)return u.find(e=>l>e.left-h.left&&l<e.right+h.right&&c>e.top-h.top&&c<e.bottom+h.bottom)||p;if(u.length>=2){if("y"===bS(n)){const e=u[0],t=u[u.length-1],r="top"===fS(n),o=e.top,i=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:o,bottom:i,left:a,right:s,width:s-a,height:i-o,x:a,y:o}}const e="left"===fS(n),t=aS(...u.map(e=>e.right)),r=iS(...u.map(e=>e.left)),o=u.filter(n=>e?n.left===r:n.right===t),i=o[0].top,a=o[o.length-1].bottom;return{top:i,bottom:a,left:r,right:t,width:t-r,height:a-i,x:r,y:i}}return p}},floating:r.floating,strategy:a});return o.reference.x!==f.reference.x||o.reference.y!==f.reference.y||o.reference.width!==f.reference.width||o.reference.height!==f.reference.height?{reset:{rects:f}}:{}}}},LM=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=hS(e,t),d={x:n,y:r},u=bS(o),p=gS(u);let h=d[p],f=d[u];const m=hS(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===p?"height":"width",t=i.reference[p]-i.floating[e]+g.mainAxis,n=i.reference[p]+i.reference[e]-g.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var v,y;const e="y"===p?"width":"height",t=LS.has(fS(o)),n=i.reference[u]-i.floating[e]+(t&&(null==(v=a.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),r=i.reference[u]+i.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[u])||0)-(t?g.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[p]:h,[u]:f}}}},zM=(e,t,n)=>{const r=new Map,o={platform:MM,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=AS(c,r,l),p=r,h={},f=0;for(let g=0;g<s.length;g++){var m;const{name:n,fn:i}=s[g],{x:v,y:y,data:b,reset:w}=await i({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:c,platform:{...a,detectOverflow:null!=(m=a.detectOverflow)?m:NS},elements:{reference:e,floating:t}});d=null!=v?v:d,u=null!=y?y:u,h={...h,[n]:{...h[n],...b}},w&&f<=50&&(f++,"object"==typeof w&&(w.placement&&(p=w.placement),w.rects&&(c=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:d,y:u}=AS(c,p,l))),g=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:h}})(e,t,{...o,platform:i})};let FM,HM;if("undefined"!=typeof WeakMap){let e=new WeakMap;FM=t=>e.get(t),HM=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;FM=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},HM=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}var jM=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,a=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:r,top:o,right:i,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(o,l),right:Math.max(r,s),bottom:Math.max(i,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<o;)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return FM(e)||HM(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){const t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[];let o=0,i=null;const a=[];for(let c=0,d=t*n;c<d;c++)r[c]=0;for(let c=0,d=0;c<n;c++){const s=e.child(c);d++;for(let e=0;;e++){for(;o<r.length&&0!=r[o];)o++;if(e==s.childCount)break;const l=s.child(e),{colspan:u,rowspan:p,colwidth:h}=l.attrs;for(let e=0;e<p;e++){if(e+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:p-e});break}const s=o+e*t;for(let e=0;e<u;e++){0==r[s+e]?r[s+e]=d:(i||(i=[])).push({type:"collision",row:c,pos:d,n:u-e});const n=h&&h[e];if(n){const r=(s+e)%t*2,o=a[r];null==o||o!=n&&1==a[r+1]?(a[r]=n,a[r+1]=1):o==n&&a[r+1]++}}}o+=u,d+=l.nodeSize}const l=(c+1)*t;let u=0;for(;o<l;)0==r[o++]&&u++;u&&(i||(i=[])).push({type:"missing",row:c,n:u}),d++}0!==t&&0!==n||(i||(i=[])).push({type:"zero_sized"});const s=new jM(t,n,r,i);let l=!1;for(let c=0;!l&&c<a.length;c+=2)null!=a[c]&&a[c+1]<n&&(l=!0);l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const r=t[(o+n)%e.width*2];null==r||l.colwidth&&l.colwidth[n]==r||((s||(s=BM(l)))[n]=r)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}(s,a,e);return s}(e))}};function BM(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function $M(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}new rp("selectingCells");function VM(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function UM(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function WM(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=VM(t.$head)||YM(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function YM(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}function qM(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function KM(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function JM(e,t,n){const r=e.node(-1),o=jM.get(r),i=e.start(-1),a=o.nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function QM(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(e=>e>0)||(r.colwidth=null)),r}var GM=class e extends Pu{constructor(e,t=e){const n=e.node(-1),r=jM.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),s=r.cellsInRect(i).filter(e=>e!=t.pos-o);s.unshift(t.pos-o);const l=s.map(e=>{const t=n.nodeAt(e);if(!t)throw new RangeError(`No cell with offset ${e} found`);const r=o+e+1;return new Lu(a.resolve(r),a.resolve(r+t.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(qM(r)&&qM(o)&&KM(r,o)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,o):t&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return Hu.between(r,o)}content(){const e=this.$anchorCell.node(-1),t=jM.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let s=r.top;s<r.bottom;s++){const n=[];for(let i=s*t.width+r.left,a=r.left;a<r.right;a++,i++){const a=t.map[i];if(o[a])continue;o[a]=!0;const s=t.findCell(a);let l=e.nodeAt(a);if(!l)throw new RangeError(`No cell with offset ${a} found`);const c=r.left-s.left,d=s.right-r.right;if(c>0||d>0){let e=l.attrs;if(c>0&&(e=QM(e,0,c)),d>0&&(e=QM(e,e.colspan-d,d)),s.left<r.left){if(l=l.type.createAndFill(e),!l)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<r.top||s.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};l=s.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}n.push(l)}i.push(e.child(s).copy(zc.from(n)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new Vc(zc.from(a),1,1)}replace(e,t=Vc.empty){const n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:o,$to:a}=r[i],s=e.mapping.slice(n);e.replace(s.map(o.pos),s.map(a.pos),i?Vc.empty:t)}const o=Pu.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new Vc(zc.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=jM.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=jM.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(t=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=jM.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);if(Math.min(r,o)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=jM.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(n=l.resolve(i+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(t=l.resolve(i+o.map[o.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new XM(this.$anchorCell.pos,this.$headCell.pos)}};GM.prototype.visible=!1,Pu.jsonID("cell",GM);var XM=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&KM(t,n)?new GM(t,n):Pu.near(n,1)}};new rp("fix-tables");function ZM(e){const t=e.selection,n=WM(e),r=n.node(-1),o=n.start(-1),i=jM.get(r);return{...t instanceof GM?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function eD(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let o=0;o<r.length;o++){const e=t.table.nodeAt(r[o]);if(e&&e.type!==n.header_cell)return!1}return!0}function tD(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!UM(t))return!1;if(n){const r=$M(t.schema),o=ZM(t),i=t.tr,a=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=a.map(e=>o.table.nodeAt(e));for(let e=0;e<a.length;e++)s[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[e],r.cell,s[e].attrs);if(0===i.steps.length)for(let e=0;e<a.length;e++)i.setNodeMarkup(o.tableStart+a[e],r.header_cell,s[e].attrs);n(i)}return!0}}(e):function(t,n){if(!UM(t))return!1;if(n){const r=$M(t.schema),o=ZM(t),i=t.tr,a=eD("row",o,r),s=eD("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:o.map.height}:"row"==e?{left:l,top:0,right:o.map.width,bottom:1}:o,d="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach(e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,d,n.attrs)}),n(i)}return!0}}tD("row",{useDeprecatedLogic:!0}),tD("column",{useDeprecatedLogic:!0}),tD("cell",{useDeprecatedLogic:!0});function nD(e,t){const n=e.selection;if(!(n instanceof GM))return!1;if(t){const r=e.tr,o=$M(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new Vc(o,0,0))}),r.docChanged&&t(r)}return!0}sg({ArrowLeft:oD("horiz",-1),ArrowRight:oD("horiz",1),ArrowUp:oD("vert",-1),ArrowDown:oD("vert",1),"Shift-ArrowLeft":iD("horiz",-1),"Shift-ArrowRight":iD("horiz",1),"Shift-ArrowUp":iD("vert",-1),"Shift-ArrowDown":iD("vert",1),Backspace:nD,"Mod-Backspace":nD,Delete:nD,"Mod-Delete":nD});function rD(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function oD(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof GM)return rD(n,r,Pu.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const a=aD(o,e,t);if(null==a)return!1;if("horiz"==e)return rD(n,r,Pu.near(n.doc.resolve(i.head+t),t));{const o=n.doc.resolve(a),i=JM(o,e,t);let s;return s=i?Pu.near(i,1):t<0?Pu.near(n.doc.resolve(o.before(-1)),-1):Pu.near(n.doc.resolve(o.after(-1)),1),rD(n,r,s)}}}function iD(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let a;if(i instanceof GM)a=i;else{const r=aD(o,e,t);if(null==r)return!1;a=new GM(n.doc.resolve(r))}const s=JM(a.$headCell,e,t);return!!s&&rD(n,r,new GM(a.$anchorCell,s))}}function aD(e,t,n){if(!(e.state.selection instanceof Hu))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(o),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}new rp("tableColumnResizing");var sD=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:o=60,shouldShow:i,appendTo:a,getReferencedVirtualElement:s,options:l}){var c;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:o,selection:i}=t,{empty:a}=i,s=!o.textBetween(n,r).length&&Ig(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||a||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.editor.isDestroyed?this.destroy():this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,r,t)},this.updateDelay))},this.updateHandler=(e,t,n,r)=>{const{composing:o}=e;if(o||!t&&!n)return;this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide()},this.transactionHandler=({transaction:e})=>{const t=e.getMeta("bubbleMenu");"updatePosition"===t?this.updatePosition():t&&"object"==typeof t&&"updateOptions"===t.type&&this.updateOptions(t.options)},this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=o,this.appendTo=a,this.scrollTarget=null!=(c=null==l?void 0:l.scrollTarget)?c:window,this.getReferencedVirtualElement=s,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(AM("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(OM("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(TM("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(IM(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(NM("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(_M("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(RM("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(PM("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e,t,n;const{selection:r}=this.editor.state,o=null==(e=this.getReferencedVirtualElement)?void 0:e.call(this);if(o)return o;if(!(null==(n=null==(t=this.view)?void 0:t.dom)?void 0:n.parentNode))return;const i=Zv(this.view,r.from,r.to);let a={getBoundingClientRect:()=>i,getClientRects:()=>[i]};if(r instanceof Bu){let e=this.view.nodeDOM(r.from);const t=e.dataset.nodeViewWrapper?e:e.querySelector("[data-node-view-wrapper]");t&&(e=t),e&&(a={getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>[e.getBoundingClientRect()]})}if(r instanceof GM){const{$anchorCell:e,$headCell:t}=r,n=e?e.pos:t.pos,o=t?t.pos:e.pos,i=this.view.nodeDOM(n),s=this.view.nodeDOM(o);if(!i||!s)return;const l=i===s?i.getBoundingClientRect():function(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),o=Math.min(e.left,t.left),i=Math.max(e.right,t.right);return new DOMRect(o,n,i-o,r-n)}(i.getBoundingClientRect(),s.getBoundingClientRect());a={getBoundingClientRect:()=>l,getClientRects:()=>[l]}}return a}updatePosition(){const e=this.virtualElement;e&&zM(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n,middlewareData:r})=>{var o,i;(null==(o=r.hide)?void 0:o.referenceHidden)||(null==(i=r.hide)?void 0:i.escaped)?this.element.style.visibility="hidden":(this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate())})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const o=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,o,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos));return(null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:a}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}updateOptions(e){var t;if(void 0!==e.updateDelay&&(this.updateDelay=e.updateDelay),void 0!==e.resizeDelay&&(this.resizeDelay=e.resizeDelay),void 0!==e.appendTo&&(this.appendTo=e.appendTo),void 0!==e.getReferencedVirtualElement&&(this.getReferencedVirtualElement=e.getReferencedVirtualElement),void 0!==e.shouldShow&&e.shouldShow&&(this.shouldShow=e.shouldShow),void 0!==e.options){const n=null!=(t=e.options.scrollTarget)?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},lD=e=>new ep({key:"string"==typeof e.pluginKey?new rp(e.pluginKey):e.pluginKey,view:t=>new sD({view:t,...e})}),cD=(Py.create({name:"bubbleMenu",addOptions:()=>({element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[lD({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}}),class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:o=60,options:i,appendTo:a,shouldShow:s}){var l;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:o}=n,i=1===r.depth,a=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent&&0===r.parent.childCount&&!this.getTextContent(r.parent);return!!(e.hasFocus()&&o&&i&&a&&this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(e,t,n,r)=>{const{composing:o}=e;if(o||!t&&!n)return;this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.transactionHandler=({transaction:e})=>{const t=e.getMeta("floatingMenu");"updatePosition"===t?this.updatePosition():t&&"object"==typeof t&&"updateOptions"===t.type&&this.updateOptions(t.options)},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=o,this.appendTo=a,this.scrollTarget=null!=(l=null==i?void 0:i.scrollTarget)?l:window,this.floatingUIOptions={...this.floatingUIOptions,...i},this.element.tabIndex=0,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return Fv(e,{textSerializers:Hv(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(AM("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(OM("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(TM("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(IM(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(NM("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(_M("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(RM("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(PM("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos));return null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:a})}updateOptions(e){var t;if(void 0!==e.updateDelay&&(this.updateDelay=e.updateDelay),void 0!==e.resizeDelay&&(this.resizeDelay=e.resizeDelay),void 0!==e.appendTo&&(this.appendTo=e.appendTo),void 0!==e.shouldShow&&e.shouldShow&&(this.shouldShow=e.shouldShow),void 0!==e.options){const n=null!=(t=e.options.scrollTarget)?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}updatePosition(){const{selection:e}=this.editor.state,t=Zv(this.view,e.from,e.to);zM({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n,middlewareData:r})=>{var o,i;(null==(o=r.hide)?void 0:o.referenceHidden)||(null==(i=r.hide)?void 0:i.escaped)?this.element.style.visibility="hidden":(this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate())})}update(e,t){const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}}),dD=e=>new ep({key:"string"==typeof e.pluginKey?new rp(e.pluginKey):e.pluginKey,view:t=>new cD({view:t,...e})}),uD=(Py.create({name:"floatingMenu",addOptions:()=>({element:null,options:{},pluginKey:"floatingMenu",updateDelay:void 0,resizeDelay:void 0,appendTo:void 0,shouldShow:null}),addCommands:()=>({updateFloatingMenuPosition:()=>({tr:e,dispatch:t})=>(t&&e.setMeta("floatingMenu","updatePosition"),!0)}),addProseMirrorPlugins(){return this.options.element?[dD({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,resizeDelay:this.options.resizeDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}}),r.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:o,appendTo:i,shouldShow:s=null,getReferencedVirtualElement:l,options:c,children:d,...u},p)=>{const h=(0,r.useRef)(document.createElement("div"));"function"==typeof p?p(h.current):p&&(p.current=h.current);const{editor:f}=JC(),m=t||f,g={updateDelay:n,resizeDelay:o,appendTo:i,pluginKey:e,shouldShow:s,getReferencedVirtualElement:l,options:c},v=(0,r.useRef)(g);v.current=g;const[y,b]=(0,r.useState)(!1),w=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(null==m?void 0:m.isDestroyed)return;if(!m)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const e=h.current;e.style.visibility="hidden",e.style.position="absolute";const t=lD({...v.current,editor:m,element:e});m.registerPlugin(t);const n=v.current.pluginKey;return w.current=!0,b(!0),()=>{b(!1),m.unregisterPlugin(n),window.requestAnimationFrame(()=>{e.parentNode&&e.parentNode.removeChild(e)})}},[m]),(0,r.useEffect)(()=>{y&&m&&!m.isDestroyed&&(w.current?w.current=!1:m.view.dispatch(m.state.tr.setMeta("bubbleMenu",{type:"updateOptions",options:v.current})))},[y,m,n,o,s,c,i,l]),(0,a.createPortal)((0,Mr.jsx)("div",{...u,children:d}),h.current)})),pD=(r.forwardRef(({pluginKey:e="floatingMenu",editor:t,updateDelay:n,resizeDelay:o,appendTo:i,shouldShow:s=null,options:l,children:c,...d},u)=>{const p=(0,r.useRef)(document.createElement("div"));"function"==typeof u?u(p.current):u&&(u.current=p.current);const{editor:h}=JC(),f=t||h,m={updateDelay:n,resizeDelay:o,appendTo:i,pluginKey:e,shouldShow:s,options:l},g=(0,r.useRef)(m);g.current=m;const[v,y]=(0,r.useState)(!1),b=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(null==f?void 0:f.isDestroyed)return;if(!f)return void console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");const e=p.current;e.style.visibility="hidden",e.style.position="absolute";const t=dD({...g.current,editor:f,element:e});f.registerPlugin(t);const n=g.current.pluginKey;return b.current=!0,y(!0),()=>{y(!1),f.unregisterPlugin(n),window.requestAnimationFrame(()=>{e.parentNode&&e.parentNode.removeChild(e)})}},[f]),(0,r.useEffect)(()=>{v&&f&&!f.isDestroyed&&(b.current?b.current=!1:f.view.dispatch(f.state.tr.setMeta("floatingMenu",{type:"updateOptions",options:g.current})))},[v,f,n,o,s,l,i]),(0,a.createPortal)((0,Mr.jsx)("div",{...d,children:c}),p.current)}),"undefined"!=typeof document?r.useLayoutEffect:function(){});function hD(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!hD(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!hD(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function fD(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mD(e,t){const n=fD(e);return Math.round(t*n)/n}function gD(e){const t=r.useRef(e);return pD(()=>{t.current=e}),t}const vD=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?IM({element:n.current,padding:r}).fn(t):{}:n?IM({element:n,padding:r}).fn(t):{};var o}}),yD=(e,t)=>({...TM(e),options:[e,t]}),bD=(e,t)=>({...OM(e),options:[e,t]}),wD=(e,t)=>({...LM(e),options:[e,t]}),kD=(e,t)=>({...AM(e),options:[e,t]}),xD=(e,t)=>({...NM(e),options:[e,t]}),CD=(e,t)=>({...RM(e),options:[e,t]}),SD=(e,t)=>({...vD(e),options:[e,t]});var MD=r.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return(0,Mr.jsx)(di.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Mr.jsx)("polygon",{points:"0,0 30,0 15,10"})})});MD.displayName="Arrow";var DD=MD;function ED(e){const[t,n]=r.useState(void 0);return ei(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let o,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var TD="Popper",[_D,OD]=Xo(TD),[AD,ND]=_D(TD),RD=e=>{const{__scopePopper:t,children:n}=e,[o,i]=r.useState(null);return(0,Mr.jsx)(AD,{scope:t,anchor:o,onAnchorChange:i,children:n})};RD.displayName=TD;var ID="PopperAnchor",PD=r.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...i}=e,a=ND(ID,n),s=r.useRef(null),l=Go(t,s),c=r.useRef(null);return r.useEffect(()=>{const e=c.current;c.current=o?.current||s.current,e!==c.current&&a.onAnchorChange(c.current)}),o?null:(0,Mr.jsx)(di.div,{...i,ref:l})});PD.displayName=ID;var LD="PopperContent",[zD,FD]=_D(LD),HD=r.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,y=ND(LD,n),[b,w]=r.useState(null),k=Go(t,e=>w(e)),[x,C]=r.useState(null),S=ED(x),M=S?.width??0,D=S?.height??0,E=o+("center"!==s?"-"+s:""),T="number"==typeof p?p:{top:0,right:0,bottom:0,left:0,...p},_=Array.isArray(u)?u:[u],O=_.length>0,A={padding:T,boundary:_.filter(VD),altBoundary:O},{refs:N,floatingStyles:R,placement:I,isPositioned:P,middlewareData:L}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[p,h]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=r.useState(o);hD(f,o)||m(o);const[g,v]=r.useState(null),[y,b]=r.useState(null),w=r.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),k=r.useCallback(e=>{e!==M.current&&(M.current=e,b(e))},[]),x=s||g,C=l||y,S=r.useRef(null),M=r.useRef(null),D=r.useRef(p),E=null!=d,T=gD(d),_=gD(i),O=gD(u),A=r.useCallback(()=>{if(!S.current||!M.current)return;const e={placement:t,strategy:n,middleware:f};_.current&&(e.platform=_.current),zM(S.current,M.current,e).then(e=>{const t={...e,isPositioned:!1!==O.current};N.current&&!hD(D.current,t)&&(D.current=t,a.flushSync(()=>{h(t)}))})},[f,t,n,_,O]);pD(()=>{!1===u&&D.current.isPositioned&&(D.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);const N=r.useRef(!1);pD(()=>(N.current=!0,()=>{N.current=!1}),[]),pD(()=>{if(x&&(S.current=x),C&&(M.current=C),x&&C){if(T.current)return T.current(x,C,A);A()}},[x,C,A,T,E]);const R=r.useMemo(()=>({reference:S,floating:M,setReference:w,setFloating:k}),[w,k]),I=r.useMemo(()=>({reference:x,floating:C}),[x,C]),P=r.useMemo(()=>{const e={position:n,left:0,top:0};if(!I.floating)return e;const t=mD(I.floating,p.x),r=mD(I.floating,p.y);return c?{...e,transform:"translate("+t+"px, "+r+"px)",...fD(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,c,I.floating,p.x,p.y]);return r.useMemo(()=>({...p,update:A,refs:R,elements:I,floatingStyles:P}),[p,A,R,I,P])}({strategy:"fixed",placement:E,whileElementsMounted:(...e)=>EM(...e,{animationFrame:"always"===m}),elements:{reference:y.anchor},middleware:[yD({mainAxis:i+D,alignmentAxis:l}),d&&bD({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?wD():void 0,...A}),d&&kD({...A}),xD({...A,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),x&&SD({element:x,padding:c}),UD({arrowWidth:M,arrowHeight:D}),f&&CD({strategy:"referenceHidden",...A})]}),[z,F]=WD(I),H=ui(g);ei(()=>{P&&H?.()},[P,H]);const j=L.arrow?.x,B=L.arrow?.y,$=0!==L.arrow?.centerOffset,[V,U]=r.useState();return ei(()=>{b&&U(window.getComputedStyle(b).zIndex)},[b]),(0,Mr.jsx)("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:P?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,Mr.jsx)(zD,{scope:n,placedSide:z,onArrowChange:C,arrowX:j,arrowY:B,shouldHideArrow:$,children:(0,Mr.jsx)(di.div,{"data-side":z,"data-align":F,...v,ref:k,style:{...v.style,animation:P?void 0:"none"}})})})});HD.displayName=LD;var jD="PopperArrow",BD={top:"bottom",right:"left",bottom:"top",left:"right"},$D=r.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,o=FD(jD,n),i=BD[o.placedSide];return(0,Mr.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,Mr.jsx)(DD,{...r,ref:t,style:{...r.style,display:"block"}})})});function VD(e){return null!==e}$D.displayName=jD;var UD=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,i=0!==o.arrow?.centerOffset,a=i?0:e.arrowWidth,s=i?0:e.arrowHeight,[l,c]=WD(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(o.arrow?.x??0)+a/2,p=(o.arrow?.y??0)+s/2;let h="",f="";return"bottom"===l?(h=i?d:`${u}px`,f=-s+"px"):"top"===l?(h=i?d:`${u}px`,f=`${r.floating.height+s}px`):"right"===l?(h=-s+"px",f=i?d:`${p}px`):"left"===l&&(h=`${r.floating.width+s}px`,f=i?d:`${p}px`),{data:{x:h,y:f}}}});function WD(e){const[t,n="center"]=e.split("-");return[t,n]}var YD=RD,qD=PD,KD=HD,JD=$D,QD="Popover",[GD,XD]=Xo(QD,[OD]),ZD=OD(),[eE,tE]=GD(QD),nE=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=ZD(t),c=r.useRef(null),[d,u]=r.useState(!1),[p,h]=ii({prop:o,defaultProp:i??!1,onChange:a,caller:QD});return(0,Mr.jsx)(YD,{...l,children:(0,Mr.jsx)(eE,{scope:t,contentId:ri(),triggerRef:c,open:p,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:d,onCustomAnchorAdd:r.useCallback(()=>u(!0),[]),onCustomAnchorRemove:r.useCallback(()=>u(!1),[]),modal:s,children:n})})};nE.displayName=QD;var rE="PopoverAnchor",oE=r.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,i=tE(rE,n),a=ZD(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return r.useEffect(()=>(s(),()=>l()),[s,l]),(0,Mr.jsx)(qD,{...a,...o,ref:t})});oE.displayName=rE;var iE="PopoverTrigger",aE=r.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=tE(iE,n),i=ZD(n),a=Go(t,o.triggerRef),s=(0,Mr.jsx)(di.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":wE(o.open),...r,ref:a,onClick:Ko(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?s:(0,Mr.jsx)(qD,{asChild:!0,...i,children:s})});aE.displayName=iE;var sE="PopoverPortal",[lE,cE]=GD(sE,{forceMount:void 0}),dE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=tE(sE,t);return(0,Mr.jsx)(lE,{scope:t,forceMount:n,children:(0,Mr.jsx)(Ni,{present:n||i.open,children:(0,Mr.jsx)(Ai,{asChild:!0,container:o,children:r})})})};dE.displayName=sE;var uE="PopoverContent",pE=r.forwardRef((e,t)=>{const n=cE(uE,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=tE(uE,e.__scopePopover);return(0,Mr.jsx)(Ni,{present:r||i.open,children:i.modal?(0,Mr.jsx)(fE,{...o,ref:t}):(0,Mr.jsx)(mE,{...o,ref:t})})});pE.displayName=uE;var hE=ai("PopoverContent.RemoveScroll"),fE=r.forwardRef((e,t)=>{const n=tE(uE,e.__scopePopover),o=r.useRef(null),i=Go(t,o),a=r.useRef(!1);return r.useEffect(()=>{const e=o.current;if(e)return Ra(e)},[]),(0,Mr.jsx)(Ma,{as:hE,allowPinchZoom:!0,children:(0,Mr.jsx)(gE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ko(e.onCloseAutoFocus,e=>{e.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ko(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:Ko(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),mE=r.forwardRef((e,t)=>{const n=tE(uE,e.__scopePopover),o=r.useRef(!1),i=r.useRef(!1);return(0,Mr.jsx)(gE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(o.current||n.triggerRef.current?.focus(),t.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const r=t.target,a=n.triggerRef.current?.contains(r);a&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),gE=r.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,p=tE(uE,n),h=ZD(n);return Pi(),(0,Mr.jsx)(Si,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,Mr.jsx)(vi,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:(0,Mr.jsx)(KD,{"data-state":wE(p.open),role:"dialog",id:p.contentId,...h,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vE="PopoverClose",yE=r.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=tE(vE,n);return(0,Mr.jsx)(di.button,{type:"button",...r,ref:t,onClick:Ko(e.onClick,()=>o.onOpenChange(!1))})});yE.displayName=vE;var bE=r.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ZD(n);return(0,Mr.jsx)(JD,{...o,...r,ref:t})});function wE(e){return e?"open":"closed"}bE.displayName="PopoverArrow";var kE=nE,xE=aE,CE=pE,SE=bE;function ME(e,[t,n]){return Math.min(n,Math.max(t,e))}var DE=["PageUp","PageDown"],EE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],TE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_E="Slider",[OE,AE,NE]=ys(_E),[RE,IE]=Xo(_E,[NE]),[PE,LE]=RE(_E),zE=r.forwardRef((e,t)=>{const{name:n,min:o=0,max:i=100,step:a=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[o],value:u,onValueChange:p=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:m,...g}=e,v=r.useRef(new Set),y=r.useRef(0),b="horizontal"===s?jE:BE,[w=[],k]=ii({prop:u,defaultProp:d,onChange:e=>{const t=[...v.current];t[y.current]?.focus(),p(e)}}),x=r.useRef(w);function C(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(a),s=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-o)/a)*a+o,r),l=ME(s,[o,i]);k((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,c*a)){y.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&h(r),t?r:e}return e})}return(0,Mr.jsx)(PE,{scope:e.__scopeSlider,name:n,disabled:l,min:o,max:i,valueIndexToChangeRef:y,thumbs:v.current,values:w,orientation:s,form:m,children:(0,Mr.jsx)(OE.Provider,{scope:e.__scopeSlider,children:(0,Mr.jsx)(OE.Slot,{scope:e.__scopeSlider,children:(0,Mr.jsx)(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Ko(g.onPointerDown,()=>{l||(x.current=w)}),min:o,max:i,inverted:f,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(w,e);C(e,t)},onSlideMove:l?void 0:function(e){C(e,y.current)},onSlideEnd:l?void 0:function(){const e=x.current[y.current];w[y.current]!==e&&h(w)},onHomeKeyDown:()=>!l&&C(o,0,{commit:!0}),onEndKeyDown:()=>!l&&C(i,w.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const n=DE.includes(e.key)||e.shiftKey&&EE.includes(e.key)?10:1,r=y.current;C(w[r]+a*n*t,r,{commit:!0})}}})})})})});zE.displayName=_E;var[FE,HE]=RE(_E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),jE=r.forwardRef((e,t)=>{const{min:n,max:o,dir:i,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[p,h]=r.useState(null),f=Go(t,e=>h(e)),m=r.useRef(void 0),g=Cs(i),v="ltr"===g,y=v&&!a||!v&&a;function b(e){const t=m.current||p.getBoundingClientRect(),r=XE([0,t.width],y?[n,o]:[o,n]);return m.current=t,r(e-t.left)}return(0,Mr.jsx)(FE,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:(0,Mr.jsx)($E,{dir:g,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=b(e.clientX);s?.(t)},onSlideMove:e=>{const t=b(e.clientX);l?.(t)},onSlideEnd:()=>{m.current=void 0,c?.()},onStepKeyDown:e=>{const t=TE[y?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),BE=r.forwardRef((e,t)=>{const{min:n,max:o,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=r.useRef(null),p=Go(t,u),h=r.useRef(void 0),f=!i;function m(e){const t=h.current||u.current.getBoundingClientRect(),r=XE([0,t.height],f?[o,n]:[n,o]);return h.current=t,r(e-t.top)}return(0,Mr.jsx)(FE,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,Mr.jsx)($E,{"data-orientation":"vertical",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=m(e.clientY);a?.(t)},onSlideMove:e=>{const t=m(e.clientY);s?.(t)},onSlideEnd:()=>{h.current=void 0,l?.()},onStepKeyDown:e=>{const t=TE[f?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),$E=r.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=e,d=LE(_E,n);return(0,Mr.jsx)(di.span,{...c,ref:t,onKeyDown:Ko(e.onKeyDown,e=>{"Home"===e.key?(a(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):DE.concat(EE).includes(e.key)&&(l(e),e.preventDefault())}),onPointerDown:Ko(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():r(e)}),onPointerMove:Ko(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:Ko(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),VE="SliderTrack",UE=r.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=LE(VE,n);return(0,Mr.jsx)(di.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});UE.displayName=VE;var WE="SliderRange",YE=r.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=LE(WE,n),a=HE(WE,n),s=Go(t,r.useRef(null)),l=i.values.length,c=i.values.map(e=>GE(e,i.min,i.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return(0,Mr.jsx)(di.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...o,ref:s,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:u+"%"}})});YE.displayName=WE;var qE="SliderThumb",KE=r.forwardRef((e,t)=>{const n=AE(e.__scopeSlider),[o,i]=r.useState(null),a=Go(t,e=>i(e)),s=r.useMemo(()=>o?n().findIndex(e=>e.ref.current===o):-1,[n,o]);return(0,Mr.jsx)(JE,{...e,ref:a,index:s})}),JE=r.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:i,...a}=e,s=LE(qE,n),l=HE(qE,n),[c,d]=r.useState(null),u=Go(t,e=>d(e)),p=!c||(s.form||!!c.closest("form")),h=ED(c),f=s.values[o],m=void 0===f?0:GE(f,s.min,s.max),g=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(o,s.values.length),v=h?.[l.size],y=v?function(e,t,n){const r=e/2,o=XE([0,50],[0,r]);return(r-o(t)*n)*n}(v,m,l.direction):0;return r.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),(0,Mr.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${y}px)`},children:[(0,Mr.jsx)(OE.ItemSlot,{scope:e.__scopeSlider,children:(0,Mr.jsx)(di.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":f,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...a,ref:u,style:void 0===f?{display:"none"}:e.style,onFocus:Ko(e.onFocus,()=>{s.valueIndexToChangeRef.current=o})})}),p&&(0,Mr.jsx)(QE,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:f},o)]})});KE.displayName=qE;var QE=r.forwardRef(({__scopeSlider:e,value:t,...n},o)=>{const i=r.useRef(null),a=Go(i,o),s=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return r.useEffect(()=>{const e=i.current;if(!e)return;const n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(s!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[s,t]),(0,Mr.jsx)(di.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});function GE(e,t,n){return ME(100/(n-t)*(e-t),[0,100])}function XE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}QE.displayName="RadioBubbleInput";var ZE=zE,eT=UE,tT=YE,nT=KE,rT=n(342),oT=Object.defineProperty,iT=(e,t,n)=>((e,t,n)=>t in e?oT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);function aT({children:e,icon:t,size:n="default",secondary:r=!1,outline:o=!1,...i}){return Tr(sT,{css:[r&&lT,"small"===n&&cT,o&&dT],type:"button",...i,children:[t&&Er(t,{size:20}),e]})}var sT=Sr.button({outline:"none",display:"flex",alignItems:"center",gap:"0.5em",fontWeight:700,backgroundColor:"var(--ve-primary)",border:"none",color:"#fff",alignSelf:"flex-end",fontSize:"0.9rem",height:48,padding:"0 1em",lineHeight:"1.25rem",cursor:"pointer",borderRadius:4,transition:"background-color 0.3s","&:hover, &:focus":{backgroundColor:"var(--ve-primary-hover)"}}),lT={backgroundColor:"transparent",color:"var(--ve-primary)","&:hover, &:focus":{backgroundColor:"var(--ve-primary-light)"}},cT={height:40},dT={border:"solid 1px var(--ve-primary)",background:"transparent",color:"var(--ve-primary)","&:hover, &:focus":{backgroundColor:"var(--ve-primary)",color:"#FFF"}},uT=Sr.input({color:"var(--ve-color)",background:"transparent",padding:".5rem .75em",lineHeight:"1.25rem",borderRadius:".2rem",display:"block",width:"100%",border:"1px solid var(--ve-field-border)",boxShadow:"var(--ve-field-shadow)","&:focus":{borderColor:"var(--ve-primary)",outline:"0",boxShadow:"0 0 0 0.25rem rgb(23 113 230 / 25%)"}}),pT=Sr.button({backgroundColor:"transparent",border:"none",padding:0,margin:0,color:"inherit"});function hT({content:e,children:t,visible:n,trigger:r}){const o={};return"click"===r&&(o.trigger=r,o.hideOnClick=!0,o.interactive=!0),Er(fT,{content:e,visible:n,...o,children:t})}var fT=Sr(Fo)({backgroundColor:"#202227",color:"#FFF",padding:".2em .5em",position:"relative",borderRadius:"4px",fontSize:".75em",lineHeight:1.4,boxShadow:"rgba(0, 0, 0, 0.1) 0 10px 15px -3px, rgba(0, 0, 0, 0.05) 0 4px 6px -2px",outline:"0",transitionProperty:"transform, visibility, opacity","&[data-animation=fade][data-state=hidden]":{transform:"translateY(-5px)",opacity:0},"&[data-placement^=top] > .tippy-arrow":{bottom:"0"},"& .tippy-arrow":{width:"16px",height:"16px",color:"#202227"},"&[data-placement^=top] > .tippy-arrow::before":{bottom:"-7px",left:"0",borderWidth:"8px 8px 0",borderTopColor:"initial",transformOrigin:"center top"},"& .tippy-arrow::before":{content:'""',position:"absolute",borderColor:"transparent",borderStyle:"solid"},"&[data-placement^=bottom] > .tippy-arrow::before":{top:"-19px",left:"0",borderWidth:"8px 8px 0",borderTopColor:"initial",transform:"rotate(180deg)",transformOrigin:"center top"}});function mT({danger:e,success:t,rotate:n,title:r,...o}){const i=Er(gT,{type:"button",...o,"aria-label":r,css:[e&&vT,t&&yT],style:n?{transform:`rotate(${n}deg)`}:void 0});return r?Er(hT,{content:r,trigger:"focus",children:i}):i}var gT=Sr.button({flex:"none",width:40,height:40,borderRadius:40,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",transition:"background-color 0.3s, transform 0.3s",border:"none",outline:"none",cursor:"pointer",color:"var(--ve-color-light)",background:"var(--ve-background)","&:hover, &:focus":{backgroundColor:"var(--ve-hover)",color:"var(--ve-color)"}}),vT={color:"var(--ve-danger)","&:hover, &:focus":{color:"var(--ve-danger)",backgroundColor:"var(--ve-danger-light)"}},yT={color:"#059669","&:hover, &:focus":{color:"#059669",backgroundColor:"rgba(110, 231, 183, .2)"}},bT=(Vo({transform:"rotate(180deg)"}),Sr.div({width:10,position:"absolute",top:".5rem",left:3,bottom:".5rem",cursor:"move",background:"radial-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1) 30%, rgba(0,0,0,0) 31%, rgba(0,0,0,0.0)) left top / 5px 5px repeat"})),wT=Sr.label({display:"block",marginBottom:".5em",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function kT({children:e,label:t,help:n,type:r="text",options:o,tooltip:i,icon:a,...s}){if(!e)if(o)e=Er(xT,{...s,children:o.map((e,t)=>Er("option",{value:e.value,children:e.label},t))});else if(["text","number"].includes(r))e=Er(uT,{type:r,...s});else{if("textarea"!==r)throw new Error("Cannot render this type of field : "+r);e=Er(uT,{as:"textarea",...s})}return i&&(e=Er(hT,{content:i,children:e})),Tr("div",{children:[t&&Er(wT,{htmlFor:s.id,children:t}),Tr(ST,{children:[e,a&&Er(MT,{children:a})]}),n&&Er(CT,{children:n})]})}var xT=uT.withComponent("select"),CT=Sr.div({fontStyle:"italic",marginTop:".5em",fontSize:".8em"}),ST=Sr.div({position:"relative"}),MT=Sr.div({display:"flex",alignItems:"center",justifyContent:"center",bottom:0,color:"var(--ve-field-border)",cursor:"pointer",height:"100%",position:"absolute",right:0,top:0,width:40});function DT(e){if(e)return t=>{t.preventDefault(),e(t)}}function ET(e){if(e)return t=>{t.preventDefault(),t.stopPropagation(),e(t)}}function TT({children:e,title:t,visible:n,onVisibilityChange:r}){return Tr(fs,{open:n,onOpenChange:r,children:[Er(AT,{}),Tr(NT,{children:[Er(RT,{children:t}),Er("div",{children:e}),Er(IT,{onClick:DT(()=>r(!1)),children:Er(v_,{size:16})})]})]})}var _T=Uo({from:{opacity:0},to:{opacity:1}}),OT=Uo({from:{opacity:0,transform:"translateY(-48%) scale(.96)"},to:{opacity:1,transform:"translateY(-50%) scale(1)"}}),AT=Sr(ms)({position:"fixed",inset:0,zIndex:50,overflow:"auto",backgroundColor:"rgba(0, 0, 0, 0.5)",animation:`${_T} 300ms cubic-bezier(0.16, 1, 0.3, 1)`}),NT=Sr(gs)({position:"fixed",top:"50%",left:"0",right:"0",zIndex:51,marginLeft:"auto",marginRight:"auto",width:"calc(100% - 2rem)",maxWidth:"1290px",borderRadius:"8px",backgroundColor:"var(--ve-background)",padding:"1.5rem 2rem",transform:"translateY(-50%)",animation:`${OT} 300ms cubic-bezier(0.16, 1, 0.3, 1)`}),RT=Sr(vs)({fontSize:"1.5rem",fontWeight:500,margin:0,padding:0}),IT=Sr(mT)({position:"absolute",top:"1.2rem",right:"1.5rem"}),PT=Sr(Qs)({display:"flex",gap:".5rem",marginBottom:"1em"}),LT=Sr(Xs)({backgroundColor:"var(--ve-hover)",borderRadius:56,padding:".6rem 1rem",border:"none",fontWeight:500,cursor:"pointer",transition:"color .3s, background-color .3s"}),zT={color:"var(--ve-primary)",backgroundColor:"var(--ve-primary-light)"};function FT({children:e,...t}){const n=r.Children.toArray(e),[o,i]=(0,r.useState)(n[0]?.props.title);return Tr(Ks,{value:o,onValueChange:i,children:[Er(PT,{...t,children:n.map(e=>Er(LT,{css:[o===e.props.title&&zT],value:e.props.title,children:e.props.title},e.props.title))}),n.map(e=>Er(el,{value:e.props.title,children:e},e.props.title))]})}FT.Tab=function(e){return Er("div",{...e})};var HT=(0,r.forwardRef)(({between:e,column:t,center:n,...r},o)=>Er(jT,{...r,ref:o,css:[e&&BT,t&&VT,n&&$T]}));HT.displayName="Flex";var jT=Sr.div({display:"flex",alignItems:"center",justifyContent:"flex-start"},({gap:e=1})=>({gap:e+"em",gridGap:e+"em"})),BT={justifyContent:"space-between"},$T={justifyContent:"center"},VT={display:"grid",alignContent:"flex-start",gridTemplateColumns:"1fr",alignItems:"flex-start"};function UT(){const e=(0,r.useRef)(!1),[t,n]=(0,r.useState)(0);var o;o=()=>e.current=!0,(0,r.useEffect)(()=>()=>o(),[]);const i=(0,r.useCallback)(()=>{!e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>gl.postRender(i),[i]),t]}var WT={animationDuration:".7s",animationTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",animateFill:"both"},YT=({children:e,isPresent:t,onExitComplete:n,in:o,out:i})=>{const a=function(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}(qT),s=t?o:i;return(0,r.useMemo)(()=>{a.forEach((e,t)=>a.set(t,!1))},[t]),Er(qo,{children:({css:o,cx:i})=>r.cloneElement(e,{className:i(e.props.className,o({...WT,animationName:s.toString()})),onAnimationEnd:t?null:n})})};function qT(){return new Map}var KT=(0,r.createContext)({});function JT(e){return e.key||""}var QT=({children:e,in:t,out:n,exitBeforeEnter:o})=>{let[i]=UT();const a=(0,r.useContext)(KT).forceRender;a&&(i=a);const s=(0,r.useRef)(!0),l=(0,r.useRef)(!0);(0,r.useEffect)(()=>()=>{l.current=!1},[]);const c=function(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),d=(0,r.useRef)(c),u=(0,r.useRef)(new Map).current,p=(0,r.useRef)(new Set).current;if(function(e,t){e.forEach(e=>{const n=JT(e);t.set(n,e)})}(c,u),s.current)return s.current=!1,Er(Dr,{children:c.map(e=>Er(YT,{isPresent:!0,in:t,out:n,children:e},JT(e)))});let h=[...c];const f=d.current.map(JT),m=c.map(JT),g=f.length;for(let r=0;r<g;r++){const e=f[r]||"";-1===m.indexOf(e)?p.add(e):p.delete(e)}return o&&p.size&&(h=[]),p.forEach(e=>{if(-1!==m.indexOf(e))return;const r=u.get(e);if(!r)return;const o=f.indexOf(e);h.splice(o,0,Er(YT,{isPresent:!1,onExitComplete:()=>{u.delete(e),p.delete(e);const t=d.current.findIndex(t=>t.key===e);if(d.current.splice(t,1),!p.size){if(d.current=c,!l.current)return;i()}},in:t,out:n,children:r},JT(r)))}),h=h.map(e=>{const r=e.key;return p.has(r)?e:Er(YT,{isPresent:!0,in:t,out:n,children:e},JT(e))}),d.current=h,Er(Dr,{children:p.size?h:h.map(e=>(0,r.cloneElement)(e))})};function GT({children:e,action:t,onClick:n,duration:o,onHide:i}){const a=Boolean(e);return(0,r.useEffect)(()=>{if(!o||!a)return;const e=setTimeout(()=>{i?.()},1e3*o);return()=>clearTimeout(e)},[i,a]),Er(QT,{in:n_,out:r_,children:e&&Tr(XT,{between:!0,className:"ve-flash",onClick:i,children:[Er("div",{children:e}),t&&Er(ZT,{size:"small",onClick:ET(n),children:t}),o&&Er(t_,{style:{animationDuration:`${o}s`}})]})})}var XT=Sr(HT)({position:"fixed",bottom:"1rem",right:"2rem",color:"var(--ve-background)",background:"var(--ve-dark)",zIndex:1001,padding:"1em",borderRadius:"4px",width:"460px",fontWeight:500}),ZT=Sr(aT)({border:"solid 1px var(--ve-background)",backgroundColor:"transparent"}),e_=Uo({from:{transform:"scaleX(0)"},to:{transform:"scaleX(1)"}}),t_=Sr.div({display:"block",position:"absolute",bottom:"0",left:"0",width:"100%",height:"4px",transformOrigin:"0 0",backgroundColor:"var(--ve-primary)",animation:`${e_} 1s both linear`}),n_=Uo({from:{transform:"translateX(3em);",opacity:0},to:{transform:"translateX(0)",opacity:1}}),r_=Uo({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-3em);",opacity:0}}),o_={Mosaic:{"--ve-transparentColor":"#ffffff",backgroundColor:"#d0d0d0",backgroundImage:"linear-gradient(45deg, var(--ve-transparentColor) 25%, transparent 25%), linear-gradient(-45deg, var(--ve-transparentColor) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--ve-transparentColor) 75%), linear-gradient(-45deg, transparent 75%, var(--ve-transparentColor) 75%)",backgroundSize:"10px 10px",backgroundPosition:"0 0, 0 5px, 5px -5px, -5px 0px"},FocusState:{borderColor:"var(--ve-primary)",outline:0,boxShadow:"0 0 0 0.25rem rgb(23 113 230 / 25%)"}},i_=Sr.div({padding:".8em .6em .8em 1.4em",backgroundColor:"#fff",border:"1px solid rgba(0,0,0,0.06)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)",transition:"box-shadow .3s!important"},e=>e.hoverable?{"&:hover":{boxShadow:"var(--ve-shadow-dragging)",zIndex:10}}:{}),a_=Uo({from:{transform:"rotate(0deg)"},to:{transform:"rotate(-360deg)"}}),s_=Sr.div({position:"absolute",top:"calc(50% - var(--size) * 0.5)",left:"calc(50% - var(--size) * 0.5)",width:"var(--size)",height:"var(--size)",animation:`${a_} 1.4s infinite linear`,svg:{display:"block",width:"var(--size)",height:"var(--size)"}},({size:e=30})=>({"--size":`${e}px`}));function l_(e){return Er(s_,{...e,children:Tr("svg",{viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Er("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30 60C46.5685 60 60 46.5685 60 30C60 13.4315 46.5685 0 30 0C13.4315 0 0 13.4315 0 30C0 46.5685 13.4315 60 30 60ZM30 50C41.0457 50 50 41.0457 50 30C50 18.9543 41.0457 10 30 10C18.9543 10 10 18.9543 10 30C10 41.0457 18.9543 50 30 50Z",fill:"url(#paint0_linear_313_15)"}),Er("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 30H0C0 46.5685 13.4315 60 30 60V50C18.9543 50 10 41.0457 10 30Z",fill:"currentColor"}),Er("defs",{children:Tr("linearGradient",{id:"paint0_linear_313_15",x1:"30",y1:"30",x2:"17",y2:"30",gradientUnits:"userSpaceOnUse",children:[Er("stop",{stopColor:"currentColor",stopOpacity:"0"}),Er("stop",{offset:"0.198062",stopColor:"currentColor",stopOpacity:"0.217786"}),Er("stop",{offset:"0.434425",stopColor:"currentColor",stopOpacity:"0.477687"}),Er("stop",{offset:"1",stopColor:"currentColor"})]})})]})})}function c_({size:e=18}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{fill:"currentColor",d:"M7 4v16h10V4H7zM6 2h12a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm6 15a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})}function d_({size:e=24}){return Tr("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,fill:"none",children:[Er("path",{fill:"currentColor",d:"M20 7H4v10h16V7Zm2-1v12a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1Z"}),Er("rect",{width:"10",height:"1",x:"7",y:"15",fill:"currentColor",rx:".5"})]})}function u_({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{fill:"currentColor",d:"M4 16h16V5H4v11zm9 2v2h4v2H7v-2h4v-2H2.992A.998.998 0 0 1 2 16.993V4.007C2 3.451 2.455 3 2.992 3h18.016c.548 0 .992.449.992 1.007v12.986c0 .556-.455 1.007-.992 1.007H13z"})})}function p_({size:e=18}){return Tr("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",children:[Er("path",{fill:"currentColor",d:"M13.315 2.716A7.461 7.461 0 102.763 13.268 7.461 7.461 0 0013.315 2.716zM8.039 14.454a6.468 6.468 0 01-6.46-6.46 6.468 6.468 0 016.46-6.462A6.468 6.468 0 0114.5 7.992a6.468 6.468 0 01-6.46 6.461z"}),Er("path",{fill:"currentColor",d:"M6.915 9.556L4.62 7.262l-.708.707 3.002 3.002 5.234-5.235-.707-.707-4.527 4.527z"})]})}function h_({size:e=24}){return Tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:[Er("path",{fill:"none",d:"M0 0h24v24H0z"}),Er("path",{d:"M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2h4zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z",fill:"currentColor"})]})}function f_({size:e=24,style:t}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,style:t,children:Er("path",{d:"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z",fill:"currentColor"})})}function m_(e){return Er(f_,{...e,style:{transform:"scaleY(-1)",...e.style}})}function g_({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-4.586 6l1.768 1.768-1.414 1.414L12 15.414l-1.768 1.768-1.414-1.414L10.586 14l-1.768-1.768 1.414-1.414L12 12.586l1.768-1.768 1.414 1.414L13.414 14zM9 4v2h6V4H9z",fill:"currentColor"})})}function v_({size:e=24}){return Er("svg",{width:e,height:e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Er("path",{d:"M6.99999 5.58599L11.95 0.635986L13.364 2.04999L8.41399 6.99999L13.364 11.95L11.95 13.364L6.99999 8.41399L2.04999 13.364L0.635986 11.95L5.58599 6.99999L0.635986 2.04999L2.04999 0.635986L6.99999 5.58599Z",fill:"currentColor"})})}function y_({size:e=24}){return Er("svg",{width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Er("path",{d:"m11.02 10.078 2.856 2.855-.943.943-2.855-2.855A6.002 6.002 0 0 1 .333 6.334c0-3.313 2.688-6 6-6a6.002 6.002 0 0 1 4.688 9.744Zm-1.337-.495a4.665 4.665 0 0 0-3.35-7.917 4.665 4.665 0 0 0-4.666 4.667 4.665 4.665 0 0 0 7.916 3.35l.1-.1Z",fill:"currentColor"})})}function b_({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{fill:"currentColor",d:"M24 12l-5.657 5.657-1.414-1.414L21.172 12l-4.243-4.243 1.414-1.414L24 12zM2.828 12l4.243 4.243-1.414 1.414L0 12l5.657-5.657L7.07 7.757 2.828 12zm6.96 9H7.66l6.552-18h2.128L9.788 21z"})})}function w_({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{fill:"currentColor",d:"M3 21a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2H20a1 1 0 0 1 1 1v3h-2V7h-7.414l-2-2H4v11.998L5.5 11h17l-2.31 9.243a1 1 0 0 1-.97.757H3zm16.938-8H7.062l-1.5 6h12.876l1.5-6z"})})}function k_({size:e=24}){return Er("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Er("path",{d:"M4.5 2.5L4.5 20.5L2.5 20.5L2.5 2.5L4.5 2.5ZM10.328 12.5L16.4 18.571L14.986 19.985L6.5 11.5L14.985 3.015L16.4 4.429L10.33 10.5L21.5 10.5L21.5 12.5L10.328 12.5Z",fill:"currentColor"})})}function x_({size:e=24}){return Er("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Er("path",{d:"M7 19v-6h10v6h2V7.828L16.172 5H5v14h2zM4 3h13l4 4v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm5 12v4h6v-4H9z",fill:"currentColor"})})}function C_({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{fill:"currentColor",d:"M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zm-2 2H9v2H7V5H4v4h16V5h-3v2h-2V5zm5 6H4v8h16v-8z"})})}function S_({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{fill:"currentColor",d:"M5 8v12h14V8H5zm0-2h14V4H5v2zm15 16H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zM7 10h4v4H7v-4zm0 6h10v2H7v-2zm6-5h4v2h-4v-2z"})})}function M_({size:e=24}){return Tr("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:e,height:e,children:[Er("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 4v5h16V4H4ZM3 2a1 1 0 0 0-1 1v7c0 .6.4 1 1 1h18c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1H3ZM4 15v5h16v-5H4Zm-1-2a1 1 0 0 0-1 1v7c0 .6.4 1 1 1h18c.6 0 1-.4 1-1v-7c0-.6-.4-1-1-1H3Z",clipRule:"evenodd"}),Er("path",{fill:"currentColor",d:"M5 5h6v1H5V5ZM5 16h6v1H5v-1Z"})]})}function D_({items:e,children:t,onMove:n}){const o=e.map(e=>e._id),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(j(Re),j(Te,{coordinateGetter:Ht}));return Er(ht,{sensors:i,collisionDetection:K,onDragEnd:function(e){const{active:t,over:r}=e;r&&t.id!==r.id&&n(o.indexOf(t.id.toString()),o.indexOf(r.id.toString()))},modifiers:[kt,wt],children:Er(Ot,{items:o,strategy:Et,children:t})})}function E_({item:e,children:t,className:n,...r}){const{attributes:o,listeners:i,setNodeRef:a,transform:s,transition:l,isDragging:c}=zt({id:e._id}),d={transform:T.Translate.toString(s),transition:l||void 0};return Tr("div",{className:n,"data-dragging":!!c||void 0,ref:a,style:d,...o,...r,children:[Er(bT,{...i}),t]})}function T_(e,t,n){return xt(e,t,n)}function __(e,t,n){const r=[...e];return r.splice(t,0,n),r}function O_(e){return Array.isArray(e)?e:e.split(".")}function A_(e,t,n){return t?O_(t).reduceRight((t,n,r,o)=>{const i=function(e,t,n=null){return O_(t).reduce((e,t)=>e&&(Array.isArray(e)?e[parseInt(t)]:e[t])||n,e)}(e,o.slice(0,r));return Array.isArray(i)?i.map((e,r)=>r.toString()===n?t:e):Object.assign({},i,{[n]:t})},n):n}function N_(e){return JSON.stringify(e,(e,t)=>{if("_id"!==e)return t},2)}function R_(e){if(Array.isArray(e)){const t=Math.round(Date.now()/1e3);e.forEach((e,n)=>{"object"==typeof e&&("_id"in e||(e._id=t+n.toString()),R_(e))})}else"object"==typeof e&&null!==e&&Object.keys(e).forEach(t=>R_(e[t]));return e}function I_(){return`_${Math.random().toString(36).substr(2,9)}`}function P_(e){return e.charAt(0).toUpperCase()+e.slice(1)}function L_(e,t,n){return Math.min(Math.max(e,t),n)}function z_(e,t){let n={...e};for(const r of t){if(r.group){n=z_(n,r.fields);continue}const t=r.name;void 0===e[t]&&"default"in r.options&&(n[t]=r.options.default)}return n}function F_(e){return pR.i18n[e]}var H_="undefined"!=typeof localStorage?localStorage.getItem("veSidebarWidth"):0,j_=(e=[],t,n=[],r,o,i,a,s)=>Dl(((e,t)=>(...n)=>Object.assign({},e,t(...n)))({data:e,definitions:t,hiddenCategories:n,rootElement:r,templates:o,insertPosition:i,actions:s,device:a[a.length-1],devices:a,previousData:e,rollbackMessage:null,addBlockIndex:null,focusIndex:null,sidebarMode:"components",sidebarWidth:L_(H_?parseInt(H_,10):33,0,window.innerWidth-375)},(e,t)=>{const n={setDevice:function(t){e({device:t})},setSidebarWidth:function(t){localStorage.setItem("veSidebarWidth",t.toString()),e({sidebarWidth:t})},updateData:function(t,r){e(e=>({data:A_(e.data,r,t)})),n.dispatchEvent("change")},moveBloc:function(t,n){return e(({data:e})=>{const r=e.findIndex(e=>e._id===t);return{data:T_(e,r,r+n)}})},removeBloc:function(t){const r=()=>{e(({data:e})=>({previousData:e,data:e.filter(e=>e._id!==t),rollbackMessage:F_("deleteItemConfirm")})),n.dispatchEvent("change")};n.dispatchEvent("removeitem",{cancelable:!0,detail:{confirm:r}}).defaultPrevented||r()},rollback:function(){e(({previousData:e})=>({previousData:[],rollbackMessage:null,data:e})),n.dispatchEvent("change")},voidRollback:function(){return e({rollbackMessage:null,previousData:[]})},insertData:function(r,o,i){i||(i=z_({},t().definitions[r].fields));const a=R_({...i,_name:r,_id:r+I_()});return e(e=>({data:__(e.data,o,a),focusIndex:a._id})),n.dispatchEvent("change"),a},dispatchEvent(e,n){const r=t(),o=new CustomEvent(e,n);return r.rootElement.dispatchEvent(o),o},setData:function(t){e({data:R_(t),focusIndex:null}),n.dispatchEvent("change")},setDataFromOutside:function(t){e({data:R_(t)})},setFocusIndex:function(t){e({focusIndex:t})},setAddBlockIndex:function(r){const o=t();if(void 0!==r)if("string"!=typeof r){if(null!==r){const e=new CustomEvent("components",{cancelable:!0,detail:{index:r,add:(e,t)=>{n.insertData(e,r,t),n.setAddBlockIndex(null)}}});if(o.rootElement.dispatchEvent(e),e.defaultPrevented)return}e({addBlockIndex:r})}else n.setAddBlockIndex(o.data.findIndex(e=>e._id===r)??0);else n.setAddBlockIndex("start"===o.insertPosition?0:o.data.length)},toggleSidebarMode:function(){e(({sidebarMode:e})=>({sidebarMode:"components"===e?"templates":"components"}))}};return n})),B_=(0,r.createContext)({});function $_({children:e,data:t,definitions:n,hiddenCategories:o,rootElement:i,templates:a,insertPosition:s,devices:l,onStore:c,actions:d}){const u=(0,r.useMemo)(()=>j_(t,n,o,i,a,s,l,d),[t,n,o,i,a,s,l]);return c(u),Er(B_.Provider,{value:{store:u},children:e})}function V_(e){const t=(0,r.useContext)(B_).store;if(!t)throw new Error("A context need to be provided to use the store");return Sl(t,e)}function U_(...e){return Object.fromEntries(e.map(e=>[e,V_(t=>t[e])]))}function W_(e){return V_(t=>t.focusIndex===e)}function Y_(){const e=(0,r.useContext)(B_);return()=>e.store?.getState().data??[]}function q_(e=!1){const[t,n]=(0,r.useState)(e);return[t,()=>n(e=>!e),n]}function K_(e,t=0){return e.offsetParent?K_(e.offsetParent,t+e.offsetTop):t+e.offsetTop}var J_=Sr(HT)({}),Q_=Sr.div({width:"100%",color:"var(--ve-color-light)",textAlign:"left",fontSize:".95em",scrollMargin:"1.8em",cursor:"pointer",strong:{display:"block",color:"var(--ve-color)",fontWeight:500,fontSize:"1.1em"}}),G_=Sr(HT)({opacity:0,transition:"opacity .3s","*:hover > * > &":{opacity:1}}),X_=(0,r.forwardRef)(({children:e,onClick:t,title:n,description:r},o)=>Tr(J_,{ref:o,gap:0,between:!0,children:[Tr(Q_,{as:t?pT:"div",onClick:t,children:[Er("strong",{children:n}),r]}),e]}));X_.displayName="SidebarHeading";X_.Hover=e=>Er(G_,{gap:0,...e});var Z_=Sr(E_,{target:"SidebarBlocWrapper"})({position:"relative",padding:".8em .6em .8em 1.4em",backgroundColor:"#fff",border:"1px solid rgba(0,0,0,0.06)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)",transition:"box-shadow .3s",cursor:"inherit","&[data-dragging]":{boxShadow:"var(--ve-shadow-dragging)",transition:"box-shadow .3s!important",zIndex:10}});function eO({data:e}){const{removeBloc:t}=U_("removeBloc");return Er(Z_,{item:e,css:{backgroundColor:"var(--ve-hover)",boxShadow:"none"},children:Er(X_,{title:`${F_("unknownComponent")} : ${e._name}`,children:Er(mT,{danger:!0,onClick:DT(()=>t(e._id)),title:F_("deleteComponent"),children:Er(g_,{size:20})})})})}function tO({data:e,fields:t,path:n,onUpdate:r}){return Er(Dr,{children:t.filter(t=>t.shouldRender(e)).map((t,o)=>t.group?Er(t.render,{options:t.options,children:Er(tO,{fields:t.fields,data:e,path:n,onUpdate:r})},o):Er(nO,{field:t,value:t.name?e[t.name]:void 0,path:`${n}.${t.name}`,extraProps:t.extraProps?t.extraProps(e):void 0,onUpdate:r},t.name))})}function nO({field:e,value:t,path:n,extraProps:o,onUpdate:i}){const a=e.render,s=(0,r.useCallback)(e=>{i(e,n)},[n,i]);return Er(a,{value:t,onChange:s,options:e.options,...o})}function rO({fields:e,data:t,path:n}){const{updateData:r}=U_("updateData");return Er(tO,{fields:e,data:t,onUpdate:r,path:n})}function oO(){return!("undefined"==typeof window||!window.document)}function iO({data:e,size:t,...n}){const[o,i]=(0,r.useState)(!1),a=Y_(),s=(0,r.useRef)(),l=F_(e?"copyComponent":"copyPage");return(0,r.useEffect)(()=>{clearTimeout(s.current)},[]),Er(hT,{content:o?Tr(Dr,{children:[F_("copySuccess"),Er("br",{}),F_("copyInstructions")]}):l,trigger:"focus",children:Er("div",{className:"ve-copy-code",children:Er(mT,{onClick:DT(async()=>{try{await async function(e){try{const t="clipboard-write",n=await navigator.permissions.query({name:t});if("granted"==n.state||"prompt"==n.state)return await navigator.clipboard.writeText(e),!0;throw n}catch(Ol){return await navigator.clipboard.writeText(e),!0}}(N_(e??a())),i(!0),s.current=window.setTimeout(()=>{i(!1)},4e3)}catch(Ol){alert(Ol)}}),success:o,...n,children:Er(o?p_:b_,{size:t})})})})}var aO=(0,r.memo)(function({data:e,definition:t,path:n}){const o=(0,r.useRef)(null),i=W_(e._id),[a,s,l]=q_(!1),{removeBloc:c,setFocusIndex:d}=U_("removeBloc","setFocusIndex"),u=t?.label&&e[t.label]?e[t.label]:null;!function(e,t){const n=(0,r.useRef)(!0);(0,r.useEffect)(()=>{if(!n.current)return e();n.current=!1},t)}(()=>{i?(l(!1),window.setTimeout(()=>o.current.scrollIntoView({behavior:"smooth",block:"start"}),100)):l(!0)},[i]);const p=(0,r.useMemo)(()=>{return u?.includes("<")?(e=u,document.createRange().createContextualFragment(`<div>${e.trim()}</div>`).firstChild).innerText:u;var e},[u]);return t?Tr(Z_,{item:e,children:[Tr(X_,{ref:o,title:t.title,description:a?p:null,onClick:DT(()=>{a&&d(n),s()}),children:[Tr(X_.Hover,{children:[Er(iO,{data:e,size:20}),Er(mT,{danger:!0,onClick:()=>{c(e._id)},title:F_("deleteComponent"),children:Er(g_,{size:20})})]}),Er(mT,{rotate:a?-90:0,onClick:DT(s),children:Er(f_,{size:20})})]}),!a&&Er(HT,{column:!0,gap:1,css:{marginTop:".5em"},children:Er(rO,{fields:t.fields,data:e,path:n})})]}):Er(eO,{data:e})});function sO(){const{updateData:e,definitions:t,data:n}=U_("definitions","updateData","data");return Er(lO,{children:Er(D_,{items:n,onMove:(t,r)=>{e(T_(n,t,r))},children:n.map((e,n)=>Er(aO,{data:e,definition:t[e._name],path:`${n}`},e._id))})})}var lO=Sr.div({display:"grid",gridTemplateColumns:"1fr",flexDirection:"column",gap:"1em",padding:"1em",overflow:"auto",scrollbarGutter:"stable"});function cO({icon:e,title:t,action:n}){return Er(mT,{onClick:DT(n),title:t,children:Er("span",{dangerouslySetInnerHTML:{__html:e}})})}function dO({onClose:e,children:t}){const{setAddBlockIndex:n,actions:r}=U_("setAddBlockIndex","actions");return Tr(uO,{between:!0,children:[Er("div",{children:Er(mT,{title:F_("close"),onClick:DT(e),children:Er(v_,{size:12})})}),Tr(HT,{children:[r.filter(e=>"header"===e.position).map((e,t)=>Bo(cO,{...e,key:t})),t,Er(iO,{size:20}),Er(aT,{icon:h_,onClick:DT(()=>n()),children:F_("addComponent")})]})]})}var uO=Sr(HT)({padding:"0 1em",flex:"none",backgroundColor:"#FFF",borderBottom:"1px solid rgba(0,0,0,0.06)",boxShadow:"rgba(0, 0, 0, 0.05) 0 1px 2px 0",height:64});function pO(){const{actions:e}=U_("actions");return Tr(hO,{between:!0,children:[Tr(fO,{className:"ve-footer-mention",children:[F_("poweredBy")," ",Er("br",{}),Er("a",{href:"https://ciklik.com",target:"_blank",children:Er(mO,{src:"https://static.ciklik.co/logo.svg",alt:"Logo Boxraiser"})})]}),Tr(HT,{children:[e.filter(e=>"footer"===e.position).map((e,t)=>Bo(cO,{...e,key:t})),Er(aT,{type:"submit",icon:x_,children:F_("save")})]})]})}var hO=Sr(HT)({marginTop:"auto",backgroundColor:"#FFF",justifyContent:"flex-end",borderTop:"1px solid rgba(0,0,0,0.06)",padding:".5em 1em",boxShadow:"0 -1px 2px 0 rgba(0,0,0,0.05)"}),fO=Sr("div")({fontSize:".7em",marginRight:"auto"}),mO=Sr("img")({width:"auto",height:20});function gO(e){return Tr(vO,{children:[Er(yO,{children:F_("noContent")}),Er("div",{children:Er(aT,{outline:!0,onClick:DT(e.onAction),size:"small",children:F_("useTemplate")})})]})}var vO=Sr.div({display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",height:"100%",textAlign:"center"}),yO=Sr.p({marginBottom:"1em"});function bO({onTemplate:e}){const{templates:t,setData:n}=U_("setData","templates"),[o,i]=(0,r.useState)(),a=(0,r.useCallback)(async t=>{let r;i(t),"function"==typeof t.data?(i(t),r=await t.data().catch(()=>[]),i(t)):r=t.data,n(r),e()},[n,e]);return Er(kO,{children:t.map(e=>Er(wO,{template:e,onClick:a,loading:o===e},e.name))})}function wO({template:e,onClick:t,loading:n}){return Tr(xO,{hoverable:!0,onClick:DT(()=>n?null:t(e)),loading:n,children:[n&&Er(l_,{}),Er(CO,{src:e.image,alt:""}),Tr(SO,{children:[Er(MO,{children:e.name}),Er("div",{children:e.description})]})]})}var kO=Sr.div({display:"flex",flexDirection:"column",justifyContent:"flex-start",height:"100%",padding:"1em",gap:"1em",overflow:"auto"}),xO=Sr(i_)({padding:0,display:"grid",position:"relative",gridTemplateColumns:"150px 1fr",gridGap:"1.5em",alignItems:"center",width:"100%",cursor:"pointer"},e=>e.loading?{opacity:.4,cursor:"inherit"}:{}),CO=Sr.img({width:"100%",height:"150px",objectFit:"cover"}),SO=Sr.div({display:"grid",gridTemplateColumns:"1fr"}),MO=Sr.div({color:"var(--ve-color)",fontWeight:500,fontSize:"1.1em"});function DO({onClose:e,...t}){const[n,o]=(0,r.useState)(0),{templates:i}=U_("templates"),a=function(){const{rootElement:e}=U_("rootElement");return(t,n)=>{const r=new CustomEvent(t,n);return e.dispatchEvent(r),r}}(),s=(0,r.useCallback)(()=>{o(e=>{if(0===e){if(a("templates",{cancelable:!0}).defaultPrevented)return e}return 0===e?1:0})},[]),l=i.length>0,c=V_(e=>e.data.length),d=0===c&&l,u=1===n;return Tr(_O,{...t,children:[Er(dO,{onClose:e,children:l&&Er(mT,{onClick:DT(s),title:F_(u?"addComponent":"useTemplate"),children:Er(u?M_:S_,{})})}),0===n&&(d?Er(gO,{onAction:()=>o(1)}):Er(sO,{})),1===n&&Er(bO,{onTemplate:()=>o(0)}),Er(pO,{})]})}var EO=Uo({from:{transform:"translateX(0)"},to:{transform:"translateX(-100%)"}}),TO=Uo({from:{transform:"translateX(-100%)"},to:{transform:"translateX(0)"}}),_O=Sr.div({position:"relative",display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#FBFBFD",zIndex:2,boxShadow:"0 20px 25px -5px rgba(0,0,0,0.2),0 10px 10px -5px rgba(0,0,0,0.04)",transition:"transform .5s cubic-bezier(0.19, 1, 0.22, 1)",animation:`${TO} .7s cubic-bezier(0.19, 1, 0.22, 1) both`,"[hidden=hidden] &":{animation:`${EO} .7s cubic-bezier(0.19, 1, 0.22, 1) both`}});var OO,AO,NO=(OO=e=>Vn({container:e.querySelector("head"),key:"iframe"}),AO=new WeakMap,function(e){if(AO.has(e))return AO.get(e);var t=OO(e);return AO.set(e,t),t});function RO({container:e,children:t}){return Er(cr,{value:NO(e),children:t})}var IO=({children:e,complete:t=!0})=>Tr(Dr,{children:[Er($o,{styles:{"visual-editor":{display:"block"}}}),Er(PO,{complete:t,children:e})]}),PO=Sr.div(Vo`
    --ve-background: #fff;
    --ve-primary: #1771e6;
    --ve-dark: #202227;
    --ve-primary-hover: #388afa;
    --ve-primary-light: #1771e626;
    --ve-color: #111827;
    --ve-hover: #f3f4f9;
    --ve-color-light: #6b7280;
    --ve-field-border: rgb(209, 213, 219);
    --ve-field-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
    --ve-blocs-background: rgba(0, 0, 0, 0.05);
    --ve-danger: #ae2121;
    --ve-danger-light: rgba(255, 0, 0, 0.05);
    --ve-shadow-dragging: rgba(0, 0, 0, 0.1) 0 10px 15px -3px,
      rgba(0, 0, 0, 0.05) 0 4px 6px -2px;
    --ve-gap: 0.5em;
    font-size: 16px;
    line-height: 1.4;

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }
  `,e=>e.complete?"\n  img,\n  picture,\n  video,\n  canvas,\n  svg {\n    display: block;\n    max-width: 100%;\n  }\n\n  input,\n  button,\n  textarea,\n  select {\n    font: inherit;\n  }":{});function LO(e,t,n){const o=(0,r.useRef)(e),i=(0,r.useMemo)(()=>function(e,t){let n=null;return function(...r){n&&clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}((...e)=>o.current(...e),n),[]);o.current=e,(0,r.useEffect)(()=>{i()},t)}function zO({onClick:e,style:t}){return Er(FO,{onClick:e,style:t,children:Er("span",{children:"Ajouter un bloc"})})}var FO=Sr(pT)({position:"absolute",top:0,left:0,right:0,marginTop:"-40px",marginBottom:"-40px",opacity:0,width:"100%",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:101,backgroundColor:"transparent",border:"none",transition:"opacity .3s","&:hover":{opacity:1},"&::before":{content:"''",height:"2px",width:"100%",position:"absolute",top:"calc(50% - 1px)",left:"0",zIndex:101,backgroundColor:"var(--ve-primary)"},"&::after":{content:"'+'",fontSize:"1.5em",zIndex:101,width:"40px",height:"40px",background:"var(--ve-primary)",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFF",borderRadius:"40px",transition:"transform .3s"},"& span":{pointerEvents:"none",fontSize:"15px",height:"34px",background:"var(--ve-primary)",padding:"0 .5em",display:"flex",alignItems:"center",position:"absolute",left:"50%",bottom:"-30px",transform:"translate(-50%, 5px)",color:"#FFF",transition:"transform .3s","&::before":{content:"''",position:"absolute",display:"block",left:"calc(50% - 6px)",top:"-6px",width:"12px",height:"12px",background:"var(--bs-primary)",transform:"rotate(45deg)"}},"&:hover span":{transform:"translate(-50%, 0px)"}}),HO=(0,r.forwardRef)(({title:e,isFocused:t,style:n,onClick:r,onAdd:o,onDelete:i,onMove:a},s)=>Tr(jO,{isFocused:t,ref:s,style:n,onClick:r,children:[Er(zO,{onClick:e=>{e.preventDefault(),e.stopPropagation(),o(e)}}),e&&Er(VO,{isFocused:t,children:e}),Tr(BO,{isFocused:t,children:[Er($O,{onClick:DT(()=>a(-1)),style:{marginLeft:"auto"},children:Er(m_,{size:16})}),Er($O,{onClick:DT(()=>a(1)),style:{marginLeft:"auto"},children:Er(f_,{size:16})}),Er($O,{onClick:e=>{e.preventDefault(),e.stopPropagation(),i(e)},style:{backgroundColor:"var(--ve-danger)"},children:Er(g_,{size:16})})]})]})),jO=Sr.div({position:"absolute",inset:0,cursor:"pointer","&:hover":{borderColor:"var(--ve-primary)"},"&::before":{content:"''",position:"absolute",inset:0,borderStyle:"solid",borderColor:"transparent",zIndex:10},"&:hover::before":{borderColor:"var(--ve-primary)"}},({isFocused:e})=>({"&::before":{borderWidth:e?2:1,borderColor:e?"var(--ve-primary)":"transparent"}})),BO=Sr.div({position:"absolute",top:-1,right:0,display:"flex",alignItems:"flex-end",justifyContent:"flex-end",gap:2,color:"#FFF",opacity:0,paddingRight:".5rem",transform:"translateY(calc(1px - 100%))",zIndex:102,transition:".3s","*:hover > &":{opacity:1}},({isFocused:e})=>({opacity:e?1:0})),$O=Sr.button({color:"#FFF",border:"none",backgroundColor:"var(--ve-primary)",height:30,display:"flex",alignItems:"center",paddingInline:".4rem",borderTopLeftRadius:"5px",borderTopRightRadius:"5px",transition:".3s",transformOrigin:"0 0","&:hover":{height:36}}),VO=Sr.div({position:"absolute",top:0,left:0,opacity:0,color:"#FFF",backgroundColor:"var(--ve-primary)",height:30,display:"flex",alignItems:"center",paddingInline:".4rem",borderTopLeftRadius:"5px",borderTopRightRadius:"5px",transform:"translateY(calc(1px - 100%))","*:hover > &":{opacity:1}},({isFocused:e})=>({opacity:e?1:0}));function UO({index:e,data:t,initialHTML:n,previewUrl:o,title:i}){const a=(0,r.useRef)(null),{loading:s,html:l}=function(e,t,n){const[o,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(n),l=(0,r.useRef)(!!n);return LO(()=>{if(l.current)return void(l.current=!1);const n=window.setTimeout(()=>i(!0),200);return fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({...e,preview:!0})}).then(e=>e.text()).then(s).finally(()=>{clearTimeout(n),i(!1)}),()=>clearTimeout(n)},[e],500),{loading:o,html:a}}(t,o,n),c=W_(t._id),{removeBloc:d,setAddBlockIndex:u,setFocusIndex:p,moveBloc:h}=U_("setFocusIndex","setAddBlockIndex","removeBloc","moveBloc");return(0,r.useEffect)(()=>{if(c){const e=K_(a.current)-40;a.current.closest("html").scrollTop=e}},[c]),Er(Ec,{flipId:t._id,children:Tr("div",{children:[s&&Er(WO,{size:12}),Er("div",{dangerouslySetInnerHTML:{__html:l}}),Er(HO,{title:i,id:`previewItem${t._id}`,isFocused:c,ref:a,onClick:()=>p(t._id),onAdd:()=>u(e),onDelete:()=>d(t._id),onMove:e=>h(t._id,e)})]})})}var WO=Sr(l_)({top:"1rem",right:"1rem",left:"auto",bottom:"auto",color:"var(--ve-primary)"});function YO({onClick:e}){return Er(qO,{children:Er(aT,{icon:h_,onClick:e,children:"Ajouter un bloc"})})}var qO=Sr.div({backgroundColor:"transparent",border:"2px dashed var(--ve-field-border)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"var(--ve-color)",width:"calc(100% - 2rem)",margin:"1rem",padding:"1rem"});function KO({initialHTML:e={},previewUrl:t}){const{definitions:n,setAddBlockIndex:r,data:o}=U_("setAddBlockIndex","definitions","data");return Tr(Dr,{children:[Er(Cc,{flipKey:o.map(e=>e._id).join("_"),children:o.map((r,o)=>Er("div",{style:{position:"relative"},children:Er(UO,{index:o,title:n[r._name]?.title||"",data:r,initialHTML:e[r._id]||"",previewUrl:t})},r._id))}),Er(YO,{onClick:()=>r(o.length)})]})}function JO(){const{sidebarWidth:e,devices:t,setDevice:n,device:r}=U_("sidebarWidth","devices","setDevice","device");return Er(ZO,{center:!0,style:{left:`${e}vw`},children:t.map(e=>Er(hT,{content:e.name,children:Er(eA,{onClick:DT(()=>n(e)),"aria-selected":e===r,children:Er(QO,{icon:e.icon})})},e.name))})}function QO({icon:e}){return Er("tablet"===e?d_:"desktop"===e?u_:c_,{})}var GO=Uo({from:{transform:"translateY(0)"},to:{transform:"translateY(-100%)"}}),XO=Uo({from:{transform:"translateY(-100%)"},to:{transform:"translateY(0)"}}),ZO=Sr(HT)({position:"fixed",top:0,left:0,gap:0,right:0,zIndex:2,padding:"0 1em",flex:"none",backgroundColor:"#FFF",borderBottom:"1px solid rgba(0,0,0,0.06)",boxShadow:"rgba(0, 0, 0, 0.05) 0 1px 2px 0",height:50,animation:`${XO} .7s cubic-bezier(0.19, 1, 0.22, 1) both`,"[hidden=hidden] &":{animation:`${GO} .7s cubic-bezier(0.19, 1, 0.22, 1) both`}}),eA=Sr("button")({display:"flex",alignItems:"center",border:"none",height:50,padding:"1rem",background:"transparent",borderBottom:"solid 4px transparent","&:hover":{background:"var(--ve-hover)",color:"var(--ve-dark)"},'&[aria-selected="true"]':{background:"var(--ve-hover)",color:"var(--ve-primary)",borderBottom:"solid 4px var(--ve-primary)"}});function tA({children:e}){const t=function(){const{height:e,width:t}=Nc(),{device:n,sidebarWidth:r}=U_("device","sidebarWidth"),o=t-r/100*t,i=e-50,a="number"==typeof n.width?n.width:o,s="number"==typeof n.height?n.height:i;let l=1;(a>o||s>i)&&(l=Math.min(o/a,i/s));return{width:Number.isInteger(n.width)?n.width:"100%",height:Number.isInteger(n.height)?n.height:"100%",transform:`scale(${l.toFixed(2)})`}}();return Er(oA,{children:Er(iA,{id:"viewport",style:t,children:e})})}var nA=Uo({from:{opacity:1},to:{opacity:0}}),rA=Uo({from:{opacity:0},to:{opacity:1}}),oA=Sr.div({width:"100%",height:"100%",paddingTop:50,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--ve-hover)",animation:`${rA} .7s cubic-bezier(0.19, 1, 0.22, 1) both`,'[hidden="hidden"] &':{animationName:`${nA}`}}),iA=Sr.div({flex:"none",boxShadow:"rgba(0, 0, 0, 0.2) 0 4px 8px 0"});function aA({previewUrl:e}){const t=(0,r.useRef)(null),[n,o]=(0,r.useState)(null),i=(0,r.useRef)({}),[s,l]=(0,r.useState)(!1),c=!s,d=Y_();var u,p;return u=async()=>{const n=d(),r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!r.ok)return;const a=t.current.contentDocument;a.open(),a.write(await r.text()),a.close();const s=a.querySelector("#ve-components");i.current=Array.from(s.children).reduce((e,t,r)=>({...e,[n[r]._id]:t.outerHTML}),{}),s.innerHTML="",o(s)},p=[],(0,r.useEffect)(()=>{u()},p),Tr(tA,{children:[c&&Er(l_,{css:{color:"white",opacity:.6}}),Er(sA,{loaded:s,ref:t,onLoad:()=>l(!0)}),n&&(0,a.createPortal)(Er(RO,{container:t.current.contentDocument,children:Er(IO,{complete:!1,children:Er(KO,{initialHTML:i.current,previewUrl:e})})}),n)]})}var sA=Sr.iframe({transformOrigin:"50% 50%",border:"none",color:"var(--ve-primary)",transition:"opacity .5s",width:"100%",height:"100%"},e=>({opacity:e.loaded?1:0}));function lA(){const[e,t]=(0,r.useState)(!1),{setSidebarWidth:n}=U_("setSidebarWidth");return Tr(Dr,{children:[Er(cA,{isDragging:e,onMouseDown:e=>{e.stopPropagation(),e.preventDefault(),t(!0);const r=e=>{n(Math.round(100*e.clientX/window.innerWidth))};document.documentElement.addEventListener("mousemove",r),document.documentElement.addEventListener("mouseup",()=>{t(!1),document.documentElement.removeEventListener("mousemove",r)},{once:!0})}}),e&&Er(dA,{})]})}var cA=Sr.div({position:"fixed",top:0,bottom:0,height:"100%",left:"var(--ve-clampedSidebar)",width:15,zIndex:1002,cursor:"ew-resize",transition:"box-shadow .3s",":hover":{boxShadow:"-1px -1px 0 1px var(--ve-primary)"}},({isDragging:e})=>e?{boxShadow:"-1px -1px 0 1px var(--ve-primary)"}:null),dA=Sr.div({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1001});function uA({definition:e,name:t,iconsUrl:n,onClick:r}){const o=n.replace("[name]",t),i=e.title;return Tr(pA,{onClick:DT(r),children:[Er(hA,{children:Er("img",{src:o,alt:""})}),Er("div",{children:i})]})}var pA=Sr.button({backgroundColor:"transparent",border:"none",display:"flex",flexDirection:"column",gap:"1rem",font:"inherit",fontWeight:500,cursor:"pointer",transition:".3s","&:hover, &:focus":{outline:"none",color:"var(--ve-primary)","& img":{transform:"translateY(-5px)"}}}),hA=Sr.div({width:"100%",backgroundColor:"var(--ve-hover)",height:107,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:".3s",img:{width:120,height:80,objectFit:"contain",borderRadius:4,transition:"transform .3s"},"&::after":{content:"''",position:"absolute",inset:0,opacity:0,background:"var(--ve-primary)",mixBlendMode:"saturation",borderRadius:4,transition:"opacity .3s"},"button:hover &::after, button:focus &::after":{opacity:1},"button:focus &":{transition:"none",border:"2px solid var(--ve-primary)"}}),fA=Sr.div({position:"relative",float:"right",svg:{position:"absolute",left:"1rem",top:"50%",color:"var(--ve-color-light)",transform:"translateY(-50%)"}}),mA=Sr.input({height:40,background:"var(--ve-hover)",borderRadius:40,padding:"0 1rem 0 2.6rem",border:"1px solid transparent",font:"inherit","&:focus":o_.FocusState});function gA({value:e,onChange:t}){return Tr(fA,{children:[Er(mA,{type:"search",placeholder:F_("searchComponent"),value:e,onChange:e=>t(e.target.value)}),Er(y_,{size:14})]})}var vA=Sr(FT.Tab)({display:"grid",gridTemplateColumns:"repeat(auto-fit, 218px)",gap:"2rem",overflow:"auto",maxHeight:"calc(100vh - 300px)",marginTop:"2rem",alignContent:"flex-start",height:700,"&::-webkit-scrollbar":{width:7,height:7},"&::-webkit-scrollbar-track":{background:"var(--ve-hover)",padding:1},"&::-webkit-scrollbar-thumb":{background:"var(--ve-field-border)",borderRadius:4},"&[hidden]":{display:"none"}}),yA="Tous les blocs";function bA({iconsUrl:e}){const t=null!==V_(e=>e.addBlockIndex),{setAddBlockIndex:n}=U_("setAddBlockIndex"),[o,i]=(0,r.useState)(""),{definitions:a,hiddenCategories:s}=U_("definitions","hiddenCategories"),l=function(){const{insertData:e,definitions:t,setAddBlockIndex:n}=U_("insertData","definitions","setAddBlockIndex"),o=V_(e=>e.addBlockIndex)||0;return(0,r.useCallback)(t=>{e(t,o),n(null)},[e,o,t,n])}(),c=(0,r.useMemo)(()=>[yA,...Object.values(a).filter(e=>e.category).filter(e=>!s.includes(e.category??"")).reduce((e,t)=>e.includes(t.category)?e:[...e,t.category],[])],[a]);if((0,r.useEffect)(()=>{i("")},[t]),!t)return null;return Tr(TT,{visible:t,onVisibilityChange:e=>{n(null)},title:F_("addComponent"),children:[Er(gA,{value:o,onChange:i}),Er(FT,{css:{margin:"1.5rem 0"},children:c.map(t=>Er(vA,{title:t,children:Object.keys(a).filter(e=>!s.includes(a[e].category??"")).filter(wA(o??"",t,a)).map(t=>Er(uA,{definition:a[t],name:t,iconsUrl:e,onClick:()=>l(t)},t))},t))})]})}function wA(e,t,n){return r=>{const o=t===yA||n[r].category===t,i=""===e||n[r].title.toLowerCase().includes(e.toLowerCase());return o&&i}}function kA(){const{message:e,rollback:t,voidRollback:n}={message:V_(e=>e.rollbackMessage),rollback:V_(e=>e.rollback),voidRollback:V_(e=>e.voidRollback)};return Er(GT,{action:F_("rollback"),onClick:t,duration:3,onHide:n,children:e})}function xA({collapsed:e,onClick:t}){return Er(CA,{onClick:DT(t),collapsed:e,children:Er(k_,{size:20})})}var CA=Sr(mT)({position:"absolute",top:"10px",zIndex:1001,boxShadow:"var(--ve-field-shadow)",border:"1px solid var(--ve-hover)",transition:"opacity .3s","&:hover":{opacity:1}},e=>({left:e.collapsed?"1em":"calc(var(--ve-clampedSidebar) + 1em)",opacity:e.collapsed?1:0,transform:e.collapsed?"rotate(180deg)":"none"}));function SA({previewUrl:e}){const t=(0,r.useRef)(null),[n,o]=(0,r.useState)(!1);let i;const{setFocusIndex:a,setAddBlockIndex:s,removeBloc:l,focusIndex:c,moveBloc:d,data:u}=U_("data","setFocusIndex","setAddBlockIndex","removeBloc","focusIndex","moveBloc"),p=(0,r.useRef)(e);p.current=e,(0,r.useEffect)(()=>{const e=e=>{switch(e.data.type){case"ve-focus":a(e.data.payload.id);break;case"ve-add":s(e.data.payload.id);break;case"ve-remove":l(e.data.payload.id);break;case"ve-move":d(e.data.payload.id,e.data.payload.direction)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),(0,r.useEffect)(()=>{n&&t.current&&t.current.contentWindow&&t.current.contentWindow.postMessage({type:"ve-data",payload:u},p.current)},[n,u]),(0,r.useEffect)(()=>{t.current&&t.current.contentWindow&&t.current.contentWindow.postMessage({type:"ve-focus",payload:{id:c}},p.current)},[c]);const h=new URL(e);return h.searchParams.set("referrer",window.location.toString()),Er(tA,{children:Er(sA,{ref:t,src:h.toString(),loaded:n,style:i,onLoad:()=>o(!0)})})}function MA({previewUrl:e,onClose:t,iconsUrl:n}){const[r,o]=q_(!1),i=!r,a=pR.postMessagePreview?SA:aA;return Er(Dr,{children:Tr(DA,{withSidebar:!r,children:[Er(JO,{}),Er(DO,{onClose:t,css:{display:r?"none":void 0}}),e&&Er(a,{previewUrl:e}),Er(xA,{collapsed:r,onClick:o}),i&&Er(lA,{}),Er(bA,{iconsUrl:n}),Er(kA,{})]})})}function DA(e){const{sidebarWidth:t}=U_("sidebarWidth");return Er(_A,{...e,style:{"--ve-sidebar":`${t}vw`}})}var EA=Uo({from:{backgroundColor:"rgba(255, 255, 255, 0)"},to:{backgroundColor:"var(--ve-field-border)"}}),TA=Uo({from:{backgroundColor:"var(--ve-field-border)"},to:{backgroundColor:"rgba(255, 255, 255, 0)"}}),_A=Sr.div({isolation:"isolate",zIndex:9999,fontSize:"15px","--ve-sidebar":"600px","--ve-clampedSidebar":"clamp(450px, var(--ve-sidebar), calc(100vw - 375px))",color:"var(--ve-color-light)",transition:"background-color .3s",position:"fixed",inset:"0",width:"100%",height:"100%",display:"grid",backgroundColor:"var(--ve-field-border)",animation:`${EA} .7s cubic-bezier(0.19, 1, 0.22, 1) both`,'[hidden="hidden"] &':{animation:`${TA} .7s cubic-bezier(0.19, 1, 0.22, 1) both`},"& *":{"&::-webkit-scrollbar":{width:"7px",height:"7px"},"&::-webkit-scrollbar-track":{background:"transparent",padding:"1px"},"&::-webkit-scrollbar-thumb":{background:"var(--ve-field-border)",borderRadius:"4px"}}},e=>({gridTemplateColumns:e.withSidebar?"var(--ve-clampedSidebar) 1fr":"1fr"}));var OA={unknownComponent:"Unknown component",deleteComponent:"Remove component",copyPage:"Copier le code de la page",copyComponent:"Copy the component",searchComponent:"Search a component",copySuccess:"The code has been copied",copyInstructions:"You can paste the component on another page (CTRL + V)",addComponent:"Add a component",responsiveView:"Responsive view",addItem:"Add an item",deleteItem:"Remove item",rollback:"Restore",deleteItemConfirm:"The component has been deleted",save:"Save",close:"Close",noContent:"You have no content yet",useTemplate:"Use a template",poweredBy:"Powered by"},AA=e=>e.stopPropagation();oO()&&HTMLElement,oO()&&HTMLElement;function NA(e=""){return(0,r.useMemo)(()=>e+I_(),[])}function RA(e){return(t,n={})=>{const r="function"==typeof e?e():e;return{...PA(r,n),...r,options:{...r.defaultOptions,...n},name:t,group:!1}}}function IA(){return{conditions:[],shouldRender(e){return 0===this.conditions.filter(t=>!t(e)).length},when(e,t=!0){return{...this,conditions:[...this.conditions,n=>"function"==typeof t?t(n[e]):function(e,t){if("boolean"==typeof t)return!!e;if("string"==typeof t)return"boolean"==typeof e?"":""+(e??"");throw new Error(`Cannot cast ${typeof e} into a ${typeof t}`)}(n[e],t)===t]}}}}function PA(e,t){return{options:{...e.defaultOptions,...t},...IA()}}var LA=RA({defaultOptions:{default:""},render:({value:e,onChange:t,options:n})=>{const r=NA("textinput");return Er(kT,{label:n.label,type:n.multiline?"textarea":"text",id:r,value:e,onInput:e=>t(e.target.value),help:n.help})}}),zA=RA({defaultOptions:{label:"",default:!1},render:({value:e,onChange:t,options:n})=>{const r=NA("checkbox");return Er(kT,{help:n.help,children:Tr(FA,{children:[Er(HA,{type:"checkbox",id:r,checked:e,onChange:()=>t(!e)}),Er(jA,{htmlFor:r,children:n.label})]})})}}),FA=Sr.div({position:"relative",display:"flex"}),HA=Sr("input",{target:"ve-checkbox-input"})({position:"absolute",inset:0,opacity:0,cursor:"pointer",zIndex:5}),jA=Sr.label({display:"flex",alignItems:"center",cursor:"pointer",lineHeight:1,"&::before":{cursor:"pointer",display:"block",content:"''",width:"38px",height:"20px",border:"solid 1px var(--ve-field-border)",borderRadius:"18px",marginRight:".5em",transition:".3s"},"&::after":{position:"absolute",content:"''",top:"2px",left:"2px",borderRadius:"16px",width:"16px",height:"16px",backgroundColor:"var(--ve-color-light)",transition:".3s"},[`${HA}:checked + &::before`]:{borderColor:"var(--ve-primary)",backgroundColor:"var(--ve-primary)"},[`${HA}:focus + &::before`]:{outline:"0",boxShadow:"0 0 0 0.25rem rgb(23 113 230 / 25%)"},[`${HA}:checked + &::after`]:{backgroundColor:"#FFF",transform:"translateX(17px)"}}),BA=Sr.div({display:"flex",flexDirection:"column",backgroundColor:"#fff",border:"1px solid rgba(0,0,0,0.06)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)"}),$A=Sr(E_)({position:"relative",display:"grid",gridTemplateColumns:"1fr",gap:".5em",padding:".4rem .7rem .4rem calc(10px + .7rem)",borderBottom:"solid 1px rgba(0,0,0,0.06)",backgroundColor:"#fff"}),VA=Sr.div({display:"grid",gridTemplateColumns:"1fr",gap:"1em"}),UA=Sr.div({display:"flex",justifyContent:"flex-end",padding:".2rem",backgroundColor:"rgba(0,0,0,0.03)"}),WA=({value:e,onChange:t,options:n})=>{const o=e??[],i=!n.max||o.length<n.max,a=!n.min||o.length>n.min,[s,l]=(0,r.useState)(-1),c=e=>{t(o.filter(t=>t!==e))},d=(e,n)=>{t(A_(o,n,e))};return Er(kT,{label:n.label,children:Er(D_,{items:o,onMove:function(e,n){t(T_(o,e,n))},children:Tr(BA,{children:[o.map((e,t)=>Er(YA,{line:e,index:t,onUpdate:d,onRemove:a?c:null,options:n,defaultCollapsed:s!==t},e._id)),i&&Er(UA,{children:Er(aT,{secondary:!0,onClick:DT(()=>{t([...o,z_({_id:I_()},n.fields)]),l(o.length)}),icon:h_,children:n.addLabel})})]})})})},YA=({line:e,index:t,onRemove:n,onUpdate:o,options:i,defaultCollapsed:a})=>{const[s,l]=q_(a),c=i.collapsed?e[i.collapsed]:`#${t+1}`,d=(0,r.useMemo)(()=>{return e=c,(new DOMParser).parseFromString(e,"text/html").body.textContent;var e},[c]);return Tr($A,{item:e,children:[Tr(X_,{onClick:DT(l),title:d,children:[Er(X_.Hover,{children:n&&Er(mT,{danger:!0,onClick:()=>n(e),title:F_("deleteItem"),children:Er(g_,{size:20})})}),Er(mT,{rotate:s?-90:0,onClick:DT(l),children:Er(f_,{size:24})})]}),!s&&Er(VA,{children:Er(tO,{fields:i.fields,data:e,onUpdate:o,path:t.toString()})})]})},qA=RA(()=>({defaultOptions:{addLabel:F_("addItem"),fields:[],default:[]},render:WA})),KA=RA({defaultOptions:{default:""},render:({value:e,onChange:t,options:n})=>{const r=NA("imageinput");return Er(kT,{id:r,label:n.label,help:n.help,value:e,tooltip:e?Er(QA,{src:e,alt:""}):void 0,onChange:e=>t(e.target.value),css:{paddingRight:40},icon:n.onBrowse?Er(JA,{onClick:DT(()=>{n.onBrowse(e).then(e=>{t(e)}).catch(e=>{})}),children:Er(w_,{size:16})}):void 0})}}),JA=Sr(mT)({width:"32px",height:"32px",color:"var(--ve-color-light)"}),QA=Sr.img({width:"150px",height:"150px",position:"relative",zIndex:2,objectFit:"cover"});function GA({size:e=24}){return Er("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Er("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z",fill:"currentColor"})})}function XA({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z",fill:"currentColor"})})}function ZA({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3h2zM4 20h16v2H4v-2z",fill:"currentColor"})})}function eN({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M15.243 4.515l-6.738 6.737-.707 2.121-1.04 1.041 2.828 2.829 1.04-1.041 2.122-.707 6.737-6.738-4.242-4.242zm6.364 3.535a1 1 0 0 1 0 1.414l-7.779 7.779-2.12.707-1.415 1.414a1 1 0 0 1-1.414 0l-4.243-4.243a1 1 0 0 1 0-1.414l1.414-1.414.707-2.121 7.779-7.779a1 1 0 0 1 1.414 0l5.657 5.657zm-6.364-.707l1.414 1.414-4.95 4.95-1.414-1.414 4.95-4.95zM4.283 16.89l2.828 2.829-1.414 1.414-4.243-1.414 2.828-2.829z",fill:"currentColor"})})}function tN({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M17.657 14.828l-1.414-1.414L17.657 12A4 4 0 1 0 12 6.343l-1.414 1.414-1.414-1.414 1.414-1.414a6 6 0 0 1 8.485 8.485l-1.414 1.414zm-2.829 2.829l-1.414 1.414a6 6 0 1 1-8.485-8.485l1.414-1.414 1.414 1.414L6.343 12A4 4 0 1 0 12 17.657l1.414-1.414 1.414 1.414zm0-9.9l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z",fill:"currentColor"})})}function nN({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M12.651 14.065L11.605 20H9.574l1.35-7.661-7.41-7.41L4.93 3.515 20.485 19.07l-1.414 1.414-6.42-6.42zm-.878-6.535l.27-1.53h-1.8l-2-2H20v2h-5.927L13.5 9.257 11.773 7.53z",fill:"currentColor"})})}function rN({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"currentColor"})})}function oN({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z",fill:"currentColor"})})}function iN({size:e=24}){return Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"currentColor"})})}function aN({size:e=24,level:t}){let n="";return void 0===t?n="M17 11V4h2v17h-2v-8H7v8H5V4h2v7z":1===t?n="M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z":2===t?n="M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z":3===t?n="M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z":4===t?n="M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm9-12v8h1.5v2H22v2h-2v-2h-5.5v-1.34l5-8.66H22zm-2 3.133L17.19 16H20v-4.867z":5===t?n="M22 8v2h-4.323l-.464 2.636c.33-.089.678-.136 1.037-.136 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.827 0-3.367-1.224-3.846-2.897l1.923-.551c.24.836 1.01 1.448 1.923 1.448 1.105 0 2-.895 2-2s-.895-2-2-2c-.63 0-1.193.292-1.56.748l-1.81-.904L16 8h6zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z":6===t&&(n="M21.097 8l-2.598 4.5c2.21 0 4.001 1.79 4.001 4s-1.79 4-4 4-4-1.79-4-4c0-.736.199-1.426.546-2.019L18.788 8h2.309zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 10.5c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z"),Er("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:n,fill:"currentColor"})})}function sN({size:e=24,direction:t="left"}){return Er("svg","left"===t?{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z",fill:"currentColor"})}:"right"===t?{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z",fill:"currentColor"})}:"center"===t?{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z",fill:"currentColor"})}:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,children:Er("path",{d:"M3 4h18v2H3V4zm0 15h18v2H3v-2zm0-5h18v2H3v-2zm0-5h18v2H3V9z",fill:"currentColor"})})}var lN=Sr(pT)({height:40,width:28,flex:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:"#FFF"}},e=>({color:e.active?"#FFF":"#CCC",background:e.active?"rgba(255, 255, 255, .1)":void 0})),cN=Sr.div({position:"relative",display:"flex",flexDirection:"column",background:"#444",height:40,flex:"none",overflow:"hidden",alignItems:"center",transition:"height .2s, transform .3s",transformOrigin:"50% 0",zIndex:1e3,borderRadius:3,"& > *":{height:30},"& > *:first-of-type":{marginTop:0,transition:"margin .3s",height:40},"&:hover > *:first-of-type":{marginTop:-3},"&:hover":{transform:"scale(1.2)"}},e=>({"&:hover":{height:40*e.size-10*(e.size-1)}})),dN=({editor:e})=>{const t=["left","center","right","justify"],n=t.find(t=>e.isActive({textAlign:t}))??"left";return e.can().setTextAlign("left")?Tr(cN,{size:t.length,children:[Er(lN,{title:P_(n),type:"button",children:Er(sN,{size:16,direction:n})}),t.filter(e=>e!==n).map(t=>Er(lN,{onClick:DT(()=>e.chain().focus().setTextAlign(t).run()),css:{height:30},title:P_(t),children:Er(sN,{size:16,direction:t})},t))]}):null},uN=({editor:e})=>{const t=[1,2,3,4,5,6],n=e.getAttributes("heading").level;if(!("toggleHeading"in e.can())||!e.can().toggleHeading({level:2}))return null;const r=t=>DT(()=>{t&&e.chain().focus().toggleHeading({level:t}).run()});return Tr(cN,{size:t.length+1,children:[Er(lN,{active:!!n,onClick:r(n),children:Er(aN,{size:16,level:n})}),t.map(e=>Er(lN,{active:e===n,onClick:r(e),css:{height:30},children:Er(aN,{size:16,level:e})},e))]})};function pN(e){if("string"==typeof e)return e.startsWith("--")?`var(${e})`:e}function hN({editor:e,colors:t}){const n=e?.getAttributes("textStyle").color,o=(0,r.useMemo)(()=>t.map(pN),[t]),[i,a,s]=q_();return(0,r.useEffect)(()=>{e.isFocused&&s(!1)},[e.isFocused]),0===t.length?null:Tr("div",{css:{position:"relative"},children:[Er(lN,{onClick:DT(a),children:Tr("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Er("path",{d:"M15.246 14H8.754L7.154 18H5L11 3H13L19 18H16.846L15.246 14ZM14.446 12L12 5.885L9.554 12H14.446Z",fill:"currentColor"}),Er("path",{d:"M3 20H21V22H3V20Z",fill:n||"currentColor"})]})}),i&&Er(gN,{colors:o,onChange:t=>{a(),e.chain().focus().setColor(t).run()}})]})}var fN=Sr.div({position:"absolute",top:"100%",right:0,background:"#444",display:"grid",gridGap:3,padding:4},e=>({gridTemplateColumns:`repeat(${Math.ceil(e.size/3)}, 16px)`})),mN=Sr.button({width:16,height:16,border:"1px solid transparent",cursor:"pointer","&:hover":{borderColor:"white",transform:"scale(1.5)"}});function gN({colors:e,onChange:t}){const n=e=>DT(()=>t(e));return Er(fN,{size:e.length,children:e.map(e=>Er(mN,{onClick:n(e),style:{backgroundColor:e}},e))})}var vN=16;function yN({editor:e,colors:t}){const[n,o]=(0,r.useState)(0);let i=null;try{i=U_("rootElement").rootElement}catch(Ol){}return(0,r.useEffect)(()=>{e.isFocused&&o(0)},[e.isFocused]),Er(kN,{className:"WysiwygToolbar",editor:e,shouldShow:({from:e,to:t})=>e!==t,children:1===n?Er(bN,{onSubmit:t=>{e.commands.setLink({href:t})},onCancel:()=>o(0)}):Er(wN,{editor:e,onLinkClick:()=>o(1),colors:t})})}function bN({onSubmit:e,onCancel:t}){return Tr(HT,{as:"form",onKeyDown:e=>{"Escape"===e.key&&t()},onSubmit:DT(n=>{const r=new FormData(n.target).get("link");r?e(r.toString()):t(r)}),children:[Er(CN,{name:"link",type:"text",placeholder:"https://...",autoFocus:!0}),Er(lN,{children:"Ok"})]})}function wN({editor:e,onLinkClick:t,colors:n}){return Tr(Dr,{children:[e.can().toggleOrderedList()&&Er(lN,{onClick:DT(()=>e.chain().focus().toggleOrderedList().run()),active:e.isActive("orderedList"),title:"Ordered List",children:Er(iN,{size:vN})}),e.can().toggleBulletList()&&Er(lN,{onClick:DT(()=>e.chain().focus().toggleBulletList().run()),active:e.isActive("bulletList"),title:"Unordered List",children:Er(rN,{size:vN})}),e.can().toggleBlockquote()&&Er(lN,{onClick:DT(()=>e.chain().focus().toggleBlockquote().run()),active:e.isActive("blockquote"),title:"Blockquote",children:Er(oN,{size:vN})}),Er(uN,{editor:e}),e.can().toggleBulletList()&&Er(xN,{}),Er(dN,{editor:e}),Er(lN,{onClick:DT(()=>e.chain().focus().toggleBold().run()),active:e.isActive("bold"),title:"Bold",children:Er(GA,{size:vN})}),Er(lN,{onClick:DT(()=>e.chain().focus().toggleItalic().run()),active:e.isActive("italic"),title:"Italic",children:Er(XA,{size:vN})}),Er(lN,{onClick:DT(()=>e.chain().focus().toggleUnderline().run()),active:e.isActive("underline"),title:"Underline",children:Er(ZA,{size:vN})}),Er(lN,{onClick:DT(()=>e.chain().focus().toggleHighlight().run()),active:e.isActive("highlight"),title:"Mark",children:Er(eN,{size:vN})}),Er(hN,{editor:e,colors:n}),Er(xN,{}),Er(lN,{onClick:DT(()=>{e.isActive("link")?e.chain().focus().unsetLink().run():t()}),active:e.isActive("link"),title:"Link",children:Er(tN,{size:vN})}),Er(lN,{onClick:DT(()=>e.chain().focus().clearNodes().unsetAllMarks().run()),title:"Clear",children:Er(nN,{size:vN})})]})}var kN=Sr(uD)({borderRadius:25,backgroundColor:"#444",color:"#FFF",height:40,display:"flex",padding:"0 1em"}),xN=Sr.div({width:".5em",flex:"none"}),CN=Sr.input({border:"none",height:30,color:"inherit",font:"inherit",background:"transparent",outline:"none"}),SN=sb.create({name:"doc",topNode:!0,group:"block",content:"inline*"});function MN({value:e,onChange:t,multiline:n=!1,colors:o=[],defaultAlign:i,backgroundColor:a,color:s}){const[l,c]=(0,r.useState)(!1),d=(0,r.useRef)(t);d.current=t;const u=qC({extensions:[...n?[ew]:[SN],Xx,Jx,Ub,Kx,eC,yb,qw,lw,rC,Xb,Kb,nw,Bw,pb,qx.configure({openOnClick:!1}),ow.configure({levels:[1,2,3,4,5,6]}),tC.configure({types:["heading","bulletList","listItem","orderedList","blockquote","paragraph"],defaultAlignment:i})],onUpdate:({editor:e})=>d.current(DN(e.getHTML(),n)),onFocus:()=>c(!0),onBlur:()=>c(!1),content:e});return(0,r.useEffect)(()=>{u&&(u.extensionManager.extensions.find(e=>"textAlign"===e.name).options.defaultAlignment=i,u.commands.setContent(e))},[i]),Tr(_N,{focused:l,style:{textAlign:i,color:s,backgroundColor:a},children:[Er(jC,{editor:u}),u&&Er(yN,{editor:u,colors:o})]})}var DN=(e,t)=>{let n=e.replaceAll(/(<[uo]l[^>]*>)(.*?)(<\/[uo]l>)/gi,(e,t,n,r)=>`${t}${EN(n)}${r}`);return t||(n=EN(n)),n.trim()};function EN(e){return e.replaceAll(/<\/p><p[^>]*>/gi,"<br>").replaceAll(/<p[^>]*>/gi,"").replaceAll(/<\/p>/gi,"")}var TN,_N=Sr.div({color:"var(--ve-color)",background:"transparent",padding:".5rem .75em",lineHeight:"1.25rem",borderRadius:".2rem",display:"block",width:"100%",border:"solid 1px var(--ve-field-border)",boxShadow:"var(--ve-field-shadow)",outline:"none","p, ul, ol, h2, h3, h4, h5, h1":{margin:"0 0 1em 0"},"li p":{margin:0},".ProseMirror":{outline:"none"},".ProseMirror > *:last-child":{margin:0},".ProseMirror-focused ~ div":{zIndex:200}},e=>({...e.focused?o_.FocusState:void 0,p:{marginBottom:e.singleLine?"0":"1em"}})),ON=({value:e,onChange:t,options:n,backgroundColor:r,textColor:o,defaultAlign:i})=>Er(kT,{label:n.label,help:n.help,children:Er(MN,{value:e,onChange:t,backgroundColor:r,color:o,colors:n.colors,multiline:n.multiline,defaultAlign:i})}),AN=(e,t={})=>({name:e,options:{multiline:!0,allowHeadings:!1,default:"",...t},extraProps:e=>({backgroundColor:pN(t.backgroundColor&&e[t.backgroundColor]),textColor:pN(t.textColor&&e[t.textColor]),defaultAlign:t.defaultAlign?e[t.defaultAlign]:void 0}),render:ON,...IA()}),NN=RA({defaultOptions:{default:"",colors:[]},render:({value:e,onChange:t,options:n})=>{const[o,i]=(0,r.useState)(!1),a=e=>DT(()=>{t(e),i(!1)});return Er(kT,{label:n.label,children:Tr(kE,{open:o,onOpenChange:()=>i(e=>!e),children:[Er(xE,{asChild:!0,children:Er(RN,{focused:o||void 0,color:e||"",style:e?{"--ve-selected-color":pN(e)}:void 0})}),Tr(PN,{side:"top",children:[Tr(LN,{style:{"--children":n.colors.length+1},children:[Er(FN,{onClick:DT(()=>t(null))}),n.colors.map(e=>Er(zN,{style:{"--ve-color":pN(e)},onClick:a(e)},e))]}),Er(HN,{})]})]})})}}),RN=Sr(pT)({width:"38px",height:"38px",backgroundColor:"#fff",boxShadow:"var(--ve-field-shadow)",border:"1px solid var(--ve-field-border)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",borderRadius:"3px","&::before":{content:"''",display:"block",width:"28px",height:"28px",flex:"none",background:"var(--ve-selected-color, red)",borderRadius:"2px"},"&:focus":o_.FocusState},e=>({...e.focused?o_.FocusState:null,"&::before":e.color?null:o_.Mosaic})),IN=Uo({from:{transform:"translateY(-.2em)",opacity:0}}),PN=Sr(CE)({padding:3,backgroundColor:"white",border:"solid 1px rgba(0, 0, 0, 0.1)",boxShadow:"rgba(0, 0, 0, 0.1) 0 10px 15px -3px, rgba(0, 0, 0, 0.05) 0 4px 6px -2px",borderRadius:"4px",animation:`${IN} 0.3s ease-out`}),LN=Sr.div({flexWrap:"wrap",display:"flex",width:"calc(27px * var(--children) * 0.5)"}),zN=Sr(pT)({position:"relative",backgroundColor:"var(--ve-color)",width:"25px",height:"25px",margin:1,flex:"none",zIndex:2,cursor:"pointer",borderRadius:"2px",border:"1px solid var(--ve-field-border)",boxShadow:"var(--ve-field-shadow)","&:hover":{zIndex:3,transform:"scale(1.2)",borderColor:"var(--ve-primary)",outline:"0",boxShadow:"0 0 0 0.25rem rgb(23 113 230 / 25%)"}}),FN=Sr(zN)({...o_.Mosaic,position:"relative",overflow:"hidden","&::before":{position:"absolute",top:"-9px",left:"calc(50% - 1px)",content:"''",width:"2px",height:"40px",background:"red",transform:"rotate(45deg)"}}),HN=Sr(SE)({fill:"white"}),jN=(TN={defaultOptions:{},render:({options:e,children:t})=>Er(kT,{label:e.label,children:Er(BN,{columns:e.columns,children:t})})},(e,t={})=>({...PA(TN,t),group:!0,fields:e,render:TN.render})),BN=Sr(HT)({"& > *":{width:"100%"}},({columns:e})=>e?{display:"grid",gridTemplateColumns:e}:{});function $N({value:e,onChange:t,icon:n,...r}){return Tr(VN,{children:[Er("input",{type:"radio",value:e,onChange:()=>t(e),title:P_(e),...r}),Er("div",{children:Er(n,{})})]})}var VN=Sr.div({position:"relative",borderRight:"1px solid var(--ve-field-border)","&:last-of-type":{border:"none"},"&:hover":{backgroundColor:"var(--ve-hover)"},"& div":{cursor:"pointer",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2,transition:".3s"},"& input":{opacity:0,position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:3,cursor:"pointer"},"& input:checked + div":{backgroundColor:"var(--ve-primary)",color:"#FFF",boxShadow:"0 0 0 1px var(--ve-primary)",borderRadius:".2em"},"& input:focus + div":{boxShadow:"0 0 0 1px var(--ve-primary), 0 0 0 0.25rem rgb(23 113 230 / 25%)",borderRadius:".2em"}}),UN=Sr.div({display:"inline-flex",border:"1px solid var(--ve-field-border)",boxShadow:"var(--ve-field-shadow)",borderRadius:".2em"}),WN={top:function({size:e=24}){return Tr("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Er("defs",{}),Er("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 5H5v5h14V5zM3 3v9h18V3H3z",clipRule:"evenodd"}),Er("path",{fill:"currentColor",d:"M20 14v2H3v-2h17zM14 18v2H3v-2h11z"})]})},left:function({size:e=24}){return Tr("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,fill:"none",viewBox:"0 0 24 24",children:[Er("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 6H5v13h5V6zM3 4v17h9V4H3z",clipRule:"evenodd"}),Er("path",{fill:"currentColor",d:"M22 7v2h-7V7h7zM22 11v2h-7v-2h7zM19 15v2h-4v-2h4z"})]})},bottom:function({size:e=24}){return Tr("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Er("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 14H5v5h14v-5zM3 12v9h18v-9H3z",clipRule:"evenodd"}),Er("path",{fill:"currentColor",d:"M20 4v2H3V4h17zM14 8v2H3V8h11zM7 12v2H3v-2h4z"})]})},right:function({size:e=24}){return Tr("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Er("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 6h-5v13h5V6zm-7-2v17h9V4h-9z",clipRule:"evenodd"}),Er("path",{fill:"currentColor",d:"M10 7v2H3V7h7zM10 11v2H3v-2h7zM7 15v2H3v-2h4z"})]})}},YN=RA({defaultOptions:{default:"left"},render:({value:e,onChange:t,options:n})=>{const r=["left","right",...n.vertical?["top","bottom"]:[]];return Er(kT,{label:n.label,children:Er(UN,{children:r.map(n=>Er($N,{value:n,checked:e===n,onChange:t,icon:WN[n]},n))})})}}),qN=RA({defaultOptions:{default:"",options:[]},render:({value:e,onChange:t,options:n})=>{const r=NA("selectinput");return Er(kT,{id:r,label:n.label,help:n.help,options:n.options,value:e,onInput:e=>t(e.target.value)})}}),KN=RA({defaultOptions:{default:""},render:({value:e,onChange:t,options:n})=>{const r=NA("numberinput");return Er(kT,{label:n.label,type:"number",id:r,value:e,onInput:e=>t(e.target.value),help:n.help})}}),JN=RA({defaultOptions:{default:0,min:0,max:100,step:1},render:({value:e,onChange:t,options:n})=>Er(kT,{label:Tr(Dr,{children:[n.label," ",Tr("small",{children:["(",e,")"]})]}),help:n.help,children:Tr(QN,{min:n.min,max:n.max,value:[void 0===e?n.default||0:e],step:n.step,onValueChange:e=>t(e[0]||0),children:[Er(GN,{children:Er(XN,{})}),Er(ZN,{})]})})}),QN=Sr(ZE)({position:"relative",display:"flex",alignItems:"center",userSelect:"none",touchAction:"none",width:"100%",height:"20px"}),GN=Sr(eT)({position:"relative",display:"block",height:"5px",backgroundColor:"var(--ve-field-border)",width:"100%",borderRadius:"5px"}),XN=Sr(tT)({position:"absolute",left:"0",height:"100%",display:"block",borderRadius:"5px",backgroundColor:"var(--ve-primary)"}),ZN=Sr(nT)({display:"block",backgroundColor:"#FFF",width:"20px",height:"20px",borderRadius:"20px",boxShadow:"rgba(0, 0, 0, 0.1) 0 10px 15px -3px, rgba(0, 0, 0, 0.05) 0 4px 6px -2px",cursor:"pointer",border:"1px solid var(--ve-field-border)","&:focus":o_.FocusState}),eR=({children:e,options:t})=>{const n=t=>(0,r.cloneElement)(e,{fields:t.fields});return Er(FT,{children:t.tabs.map(e=>Er(FT.Tab,{title:e.label,children:Er(HT,{column:!0,children:n(e)})},e.label))})};function tR(...e){return{...IA(),group:!0,options:{tabs:e},render:eR,fields:e.reduce((e,t)=>[...e,...t.fields],[])}}var nR=Vo`
  .react-datepicker__year-read-view--down-arrow,
  .react-datepicker__month-read-view--down-arrow,
  .react-datepicker__month-year-read-view--down-arrow,
  .react-datepicker__navigation-icon::before {
    border-color: #ccc;
    border-style: solid;
    border-width: 3px 3px 0 0;
    content: '';
    display: block;
    height: 9px;
    position: absolute;
    top: 6px;
    width: 9px;
  }
  .react-datepicker-popper[data-placement^='top'] .react-datepicker__triangle,
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle {
    margin-left: -4px;
    position: absolute;
    width: 0;
  }
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::before,
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::before,
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::after,
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::after {
    box-sizing: content-box;
    position: absolute;
    border: 8px solid transparent;
    height: 0;
    width: 1px;
    content: '';
    z-index: -1;
    border-width: 8px;
    left: -8px;
  }
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::before,
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::before {
    border-bottom-color: #aeaeae;
  }

  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle {
    top: 0;
    margin-top: -8px;
  }
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::before,
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::after {
    border-top: none;
    border-bottom-color: #f0f0f0;
  }
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::after {
    top: 0;
  }
  .react-datepicker-popper[data-placement^='bottom']
    .react-datepicker__triangle::before {
    top: -1px;
    border-bottom-color: #aeaeae;
  }

  .react-datepicker-popper[data-placement^='top'] .react-datepicker__triangle {
    bottom: 0;
    margin-bottom: -8px;
  }
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::before,
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::after {
    border-bottom: none;
    border-top-color: #fff;
  }
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::after {
    bottom: 0;
  }
  .react-datepicker-popper[data-placement^='top']
    .react-datepicker__triangle::before {
    bottom: -1px;
    border-top-color: #aeaeae;
  }

  .react-datepicker-wrapper {
    display: inline-block;
    padding: 0;
    border: 0;
    width: 100%;
  }

  .react-datepicker {
    font-family: 'Helvetica Neue', helvetica, arial, sans-serif;
    font-size: 0.8rem;
    background-color: #fff;
    color: #000;
    border: 1px solid #aeaeae;
    border-radius: 0.3rem;
    display: inline-block;
    position: relative;
  }

  .react-datepicker--time-only .react-datepicker__triangle {
    left: 35px;
  }
  .react-datepicker--time-only .react-datepicker__time-container {
    border-left: 0;
  }
  .react-datepicker--time-only .react-datepicker__time,
  .react-datepicker--time-only .react-datepicker__time-box {
    border-bottom-left-radius: 0.3rem;
    border-bottom-right-radius: 0.3rem;
  }

  .react-datepicker__triangle {
    position: absolute;
    left: 50px;
  }

  .react-datepicker-popper {
    z-index: 1;
  }
  .react-datepicker-popper[data-placement^='bottom'] {
    padding-top: 10px;
  }
  .react-datepicker-popper[data-placement='bottom-end']
    .react-datepicker__triangle,
  .react-datepicker-popper[data-placement='top-end']
    .react-datepicker__triangle {
    left: auto;
    right: 50px;
  }
  .react-datepicker-popper[data-placement^='top'] {
    padding-bottom: 10px;
  }
  .react-datepicker-popper[data-placement^='right'] {
    padding-left: 8px;
  }
  .react-datepicker-popper[data-placement^='right']
    .react-datepicker__triangle {
    left: auto;
    right: 42px;
  }
  .react-datepicker-popper[data-placement^='left'] {
    padding-right: 8px;
  }
  .react-datepicker-popper[data-placement^='left'] .react-datepicker__triangle {
    left: 42px;
    right: auto;
  }

  .react-datepicker__header {
    text-align: center;
    background-color: #f0f0f0;
    border-bottom: 1px solid #aeaeae;
    border-top-left-radius: 0.3rem;
    padding: 8px 0;
    position: relative;
  }
  .react-datepicker__header--time {
    padding-bottom: 8px;
    padding-left: 5px;
    padding-right: 5px;
  }
  .react-datepicker__header--time:not(.react-datepicker__header--time--only) {
    border-top-left-radius: 0;
  }
  .react-datepicker__header:not(.react-datepicker__header--has-time-select) {
    border-top-right-radius: 0.3rem;
  }

  .react-datepicker__year-dropdown-container--select,
  .react-datepicker__month-dropdown-container--select,
  .react-datepicker__month-year-dropdown-container--select,
  .react-datepicker__year-dropdown-container--scroll,
  .react-datepicker__month-dropdown-container--scroll,
  .react-datepicker__month-year-dropdown-container--scroll {
    display: inline-block;
    margin: 0 2px;
  }

  .react-datepicker__current-month,
  .react-datepicker-time__header,
  .react-datepicker-year-header {
    margin-top: 0;
    color: #000;
    font-weight: bold;
    font-size: 0.944rem;
  }

  .react-datepicker-time__header {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  .react-datepicker__navigation {
    align-items: center;
    background: none;
    display: flex;
    justify-content: center;
    text-align: center;
    cursor: pointer;
    position: absolute;
    top: 2px;
    padding: 0;
    border: none;
    z-index: 1;
    height: 32px;
    width: 32px;
    text-indent: -999em;
    overflow: hidden;
  }
  .react-datepicker__navigation--previous {
    left: 2px;
  }
  .react-datepicker__navigation--next {
    right: 2px;
  }
  .react-datepicker__navigation--next--with-time:not(.react-datepicker__navigation--next--with-today-button) {
    right: 85px;
  }
  .react-datepicker__navigation--years {
    position: relative;
    top: 0;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
  .react-datepicker__navigation--years-previous {
    top: 4px;
  }
  .react-datepicker__navigation--years-upcoming {
    top: -4px;
  }
  .react-datepicker__navigation:hover *::before {
    border-color: #a6a6a6;
  }

  .react-datepicker__navigation-icon {
    position: relative;
    top: -1px;
    font-size: 20px;
    width: 0;
  }
  .react-datepicker__navigation-icon--next {
    left: -2px;
  }
  .react-datepicker__navigation-icon--next::before {
    transform: rotate(45deg);
    left: -7px;
  }
  .react-datepicker__navigation-icon--previous {
    right: -2px;
  }
  .react-datepicker__navigation-icon--previous::before {
    transform: rotate(225deg);
    right: -7px;
  }

  .react-datepicker__month-container {
    float: left;
  }

  .react-datepicker__year {
    margin: 0.4rem;
    text-align: center;
  }
  .react-datepicker__year-wrapper {
    display: flex;
    flex-wrap: wrap;
    max-width: 180px;
  }
  .react-datepicker__year .react-datepicker__year-text {
    display: inline-block;
    width: 4rem;
    margin: 2px;
  }

  .react-datepicker__month {
    margin: 0.4rem;
    text-align: center;
  }
  .react-datepicker__month .react-datepicker__month-text,
  .react-datepicker__month .react-datepicker__quarter-text {
    display: inline-block;
    width: 4rem;
    margin: 2px;
  }

  .react-datepicker__input-time-container {
    clear: both;
    width: 100%;
    float: left;
    margin: 5px 0 10px 15px;
    text-align: left;
  }
  .react-datepicker__input-time-container .react-datepicker-time__caption {
    display: inline-block;
  }
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container {
    display: inline-block;
  }
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container
    .react-datepicker-time__input {
    display: inline-block;
    margin-left: 10px;
  }
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container
    .react-datepicker-time__input
    input {
    width: auto;
  }
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container
    .react-datepicker-time__input
    input[type='time']::-webkit-inner-spin-button,
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container
    .react-datepicker-time__input
    input[type='time']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container
    .react-datepicker-time__input
    input[type='time'] {
    -moz-appearance: textfield;
  }
  .react-datepicker__input-time-container
    .react-datepicker-time__input-container
    .react-datepicker-time__delimiter {
    margin-left: 5px;
    display: inline-block;
  }

  .react-datepicker__time-container {
    float: right;
    border-left: 1px solid #aeaeae;
    width: 85px;
  }
  .react-datepicker__time-container--with-today-button {
    display: inline;
    border: 1px solid #aeaeae;
    border-radius: 0.3rem;
    position: absolute;
    right: -72px;
    top: 0;
  }
  .react-datepicker__time-container .react-datepicker__time {
    position: relative;
    background: white;
    border-bottom-right-radius: 0.3rem;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box {
    width: 85px;
    overflow-x: hidden;
    margin: 0 auto;
    text-align: center;
    border-bottom-right-radius: 0.3rem;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list {
    list-style: none;
    margin: 0;
    height: calc(195px + (1.7rem / 2));
    overflow-y: scroll;
    padding-right: 0;
    padding-left: 0;
    width: 100%;
    box-sizing: content-box;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list
    li.react-datepicker__time-list-item {
    height: 30px;
    padding: 5px 10px;
    white-space: nowrap;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list
    li.react-datepicker__time-list-item:hover {
    cursor: pointer;
    background-color: #f0f0f0;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list
    li.react-datepicker__time-list-item--selected {
    background-color: #216ba5;
    color: white;
    font-weight: bold;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list
    li.react-datepicker__time-list-item--selected:hover {
    background-color: #216ba5;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list
    li.react-datepicker__time-list-item--disabled {
    color: #ccc;
  }
  .react-datepicker__time-container
    .react-datepicker__time
    .react-datepicker__time-box
    ul.react-datepicker__time-list
    li.react-datepicker__time-list-item--disabled:hover {
    cursor: default;
    background-color: transparent;
  }

  .react-datepicker__week-number {
    color: #ccc;
    display: inline-block;
    width: 1.7rem;
    line-height: 1.7rem;
    text-align: center;
    margin: 0.166rem;
  }
  .react-datepicker__week-number.react-datepicker__week-number--clickable {
    cursor: pointer;
  }
  .react-datepicker__week-number.react-datepicker__week-number--clickable:hover {
    border-radius: 0.3rem;
    background-color: #f0f0f0;
  }

  .react-datepicker__day-names,
  .react-datepicker__week {
    white-space: nowrap;
  }

  .react-datepicker__day-names {
    margin-bottom: -8px;
  }

  .react-datepicker__day-name,
  .react-datepicker__day,
  .react-datepicker__time-name {
    color: #000;
    display: inline-block;
    width: 1.7rem;
    line-height: 1.7rem;
    text-align: center;
    margin: 0.166rem;
  }

  .react-datepicker__month--selected,
  .react-datepicker__month--in-selecting-range,
  .react-datepicker__month--in-range,
  .react-datepicker__quarter--selected,
  .react-datepicker__quarter--in-selecting-range,
  .react-datepicker__quarter--in-range {
    border-radius: 0.3rem;
    background-color: #216ba5;
    color: #fff;
  }
  .react-datepicker__month--selected:hover,
  .react-datepicker__month--in-selecting-range:hover,
  .react-datepicker__month--in-range:hover,
  .react-datepicker__quarter--selected:hover,
  .react-datepicker__quarter--in-selecting-range:hover,
  .react-datepicker__quarter--in-range:hover {
    background-color: #1d5d90;
  }
  .react-datepicker__month--disabled,
  .react-datepicker__quarter--disabled {
    color: #ccc;
    pointer-events: none;
  }
  .react-datepicker__month--disabled:hover,
  .react-datepicker__quarter--disabled:hover {
    cursor: default;
    background-color: transparent;
  }

  .react-datepicker__day,
  .react-datepicker__month-text,
  .react-datepicker__quarter-text,
  .react-datepicker__year-text {
    cursor: pointer;
  }
  .react-datepicker__day:hover,
  .react-datepicker__month-text:hover,
  .react-datepicker__quarter-text:hover,
  .react-datepicker__year-text:hover {
    border-radius: 0.3rem;
    background-color: #f0f0f0;
  }
  .react-datepicker__day--today,
  .react-datepicker__month-text--today,
  .react-datepicker__quarter-text--today,
  .react-datepicker__year-text--today {
    font-weight: bold;
  }
  .react-datepicker__day--highlighted,
  .react-datepicker__month-text--highlighted,
  .react-datepicker__quarter-text--highlighted,
  .react-datepicker__year-text--highlighted {
    border-radius: 0.3rem;
    background-color: #3dcc4a;
    color: #fff;
  }
  .react-datepicker__day--highlighted:hover,
  .react-datepicker__month-text--highlighted:hover,
  .react-datepicker__quarter-text--highlighted:hover,
  .react-datepicker__year-text--highlighted:hover {
    background-color: #32be3f;
  }
  .react-datepicker__day--highlighted-custom-1,
  .react-datepicker__month-text--highlighted-custom-1,
  .react-datepicker__quarter-text--highlighted-custom-1,
  .react-datepicker__year-text--highlighted-custom-1 {
    color: magenta;
  }
  .react-datepicker__day--highlighted-custom-2,
  .react-datepicker__month-text--highlighted-custom-2,
  .react-datepicker__quarter-text--highlighted-custom-2,
  .react-datepicker__year-text--highlighted-custom-2 {
    color: green;
  }
  .react-datepicker__day--selected,
  .react-datepicker__day--in-selecting-range,
  .react-datepicker__day--in-range,
  .react-datepicker__month-text--selected,
  .react-datepicker__month-text--in-selecting-range,
  .react-datepicker__month-text--in-range,
  .react-datepicker__quarter-text--selected,
  .react-datepicker__quarter-text--in-selecting-range,
  .react-datepicker__quarter-text--in-range,
  .react-datepicker__year-text--selected,
  .react-datepicker__year-text--in-selecting-range,
  .react-datepicker__year-text--in-range {
    border-radius: 0.3rem;
    background-color: #216ba5;
    color: #fff;
  }
  .react-datepicker__day--selected:hover,
  .react-datepicker__day--in-selecting-range:hover,
  .react-datepicker__day--in-range:hover,
  .react-datepicker__month-text--selected:hover,
  .react-datepicker__month-text--in-selecting-range:hover,
  .react-datepicker__month-text--in-range:hover,
  .react-datepicker__quarter-text--selected:hover,
  .react-datepicker__quarter-text--in-selecting-range:hover,
  .react-datepicker__quarter-text--in-range:hover,
  .react-datepicker__year-text--selected:hover,
  .react-datepicker__year-text--in-selecting-range:hover,
  .react-datepicker__year-text--in-range:hover {
    background-color: #1d5d90;
  }
  .react-datepicker__day--keyboard-selected,
  .react-datepicker__month-text--keyboard-selected,
  .react-datepicker__quarter-text--keyboard-selected,
  .react-datepicker__year-text--keyboard-selected {
    border-radius: 0.3rem;
    background-color: #2a87d0;
    color: #fff;
  }
  .react-datepicker__day--keyboard-selected:hover,
  .react-datepicker__month-text--keyboard-selected:hover,
  .react-datepicker__quarter-text--keyboard-selected:hover,
  .react-datepicker__year-text--keyboard-selected:hover {
    background-color: #1d5d90;
  }
  .react-datepicker__day--in-selecting-range:not(.react-datepicker__day--in-range, .react-datepicker__month-text--in-range, .react-datepicker__quarter-text--in-range, .react-datepicker__year-text--in-range),
  .react-datepicker__month-text--in-selecting-range:not(.react-datepicker__day--in-range, .react-datepicker__month-text--in-range, .react-datepicker__quarter-text--in-range, .react-datepicker__year-text--in-range),
  .react-datepicker__quarter-text--in-selecting-range:not(.react-datepicker__day--in-range, .react-datepicker__month-text--in-range, .react-datepicker__quarter-text--in-range, .react-datepicker__year-text--in-range),
  .react-datepicker__year-text--in-selecting-range:not(.react-datepicker__day--in-range, .react-datepicker__month-text--in-range, .react-datepicker__quarter-text--in-range, .react-datepicker__year-text--in-range) {
    background-color: rgba(33, 107, 165, 0.5);
  }
  .react-datepicker__month--selecting-range
    .react-datepicker__day--in-range:not(.react-datepicker__day--in-selecting-range, .react-datepicker__month-text--in-selecting-range, .react-datepicker__quarter-text--in-selecting-range, .react-datepicker__year-text--in-selecting-range),
  .react-datepicker__month--selecting-range
    .react-datepicker__month-text--in-range:not(.react-datepicker__day--in-selecting-range, .react-datepicker__month-text--in-selecting-range, .react-datepicker__quarter-text--in-selecting-range, .react-datepicker__year-text--in-selecting-range),
  .react-datepicker__month--selecting-range
    .react-datepicker__quarter-text--in-range:not(.react-datepicker__day--in-selecting-range, .react-datepicker__month-text--in-selecting-range, .react-datepicker__quarter-text--in-selecting-range, .react-datepicker__year-text--in-selecting-range),
  .react-datepicker__month--selecting-range
    .react-datepicker__year-text--in-range:not(.react-datepicker__day--in-selecting-range, .react-datepicker__month-text--in-selecting-range, .react-datepicker__quarter-text--in-selecting-range, .react-datepicker__year-text--in-selecting-range) {
    background-color: #f0f0f0;
    color: #000;
  }
  .react-datepicker__day--disabled,
  .react-datepicker__month-text--disabled,
  .react-datepicker__quarter-text--disabled,
  .react-datepicker__year-text--disabled {
    cursor: default;
    color: #ccc;
  }
  .react-datepicker__day--disabled:hover,
  .react-datepicker__month-text--disabled:hover,
  .react-datepicker__quarter-text--disabled:hover,
  .react-datepicker__year-text--disabled:hover {
    background-color: transparent;
  }

  .react-datepicker__month-text.react-datepicker__month--selected:hover,
  .react-datepicker__month-text.react-datepicker__month--in-range:hover,
  .react-datepicker__month-text.react-datepicker__quarter--selected:hover,
  .react-datepicker__month-text.react-datepicker__quarter--in-range:hover,
  .react-datepicker__quarter-text.react-datepicker__month--selected:hover,
  .react-datepicker__quarter-text.react-datepicker__month--in-range:hover,
  .react-datepicker__quarter-text.react-datepicker__quarter--selected:hover,
  .react-datepicker__quarter-text.react-datepicker__quarter--in-range:hover {
    background-color: #216ba5;
  }
  .react-datepicker__month-text:hover,
  .react-datepicker__quarter-text:hover {
    background-color: #f0f0f0;
  }

  .react-datepicker__input-container {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  .react-datepicker__year-read-view,
  .react-datepicker__month-read-view,
  .react-datepicker__month-year-read-view {
    border: 1px solid transparent;
    border-radius: 0.3rem;
    position: relative;
  }
  .react-datepicker__year-read-view:hover,
  .react-datepicker__month-read-view:hover,
  .react-datepicker__month-year-read-view:hover {
    cursor: pointer;
  }
  .react-datepicker__year-read-view:hover
    .react-datepicker__year-read-view--down-arrow,
  .react-datepicker__year-read-view:hover
    .react-datepicker__month-read-view--down-arrow,
  .react-datepicker__month-read-view:hover
    .react-datepicker__year-read-view--down-arrow,
  .react-datepicker__month-read-view:hover
    .react-datepicker__month-read-view--down-arrow,
  .react-datepicker__month-year-read-view:hover
    .react-datepicker__year-read-view--down-arrow,
  .react-datepicker__month-year-read-view:hover
    .react-datepicker__month-read-view--down-arrow {
    border-top-color: #b3b3b3;
  }
  .react-datepicker__year-read-view--down-arrow,
  .react-datepicker__month-read-view--down-arrow,
  .react-datepicker__month-year-read-view--down-arrow {
    transform: rotate(135deg);
    right: -16px;
    top: 0;
  }

  .react-datepicker__year-dropdown,
  .react-datepicker__month-dropdown,
  .react-datepicker__month-year-dropdown {
    background-color: #f0f0f0;
    position: absolute;
    width: 50%;
    left: 25%;
    top: 30px;
    z-index: 1;
    text-align: center;
    border-radius: 0.3rem;
    border: 1px solid #aeaeae;
  }
  .react-datepicker__year-dropdown:hover,
  .react-datepicker__month-dropdown:hover,
  .react-datepicker__month-year-dropdown:hover {
    cursor: pointer;
  }
  .react-datepicker__year-dropdown--scrollable,
  .react-datepicker__month-dropdown--scrollable,
  .react-datepicker__month-year-dropdown--scrollable {
    height: 150px;
    overflow-y: scroll;
  }

  .react-datepicker__year-option,
  .react-datepicker__month-option,
  .react-datepicker__month-year-option {
    line-height: 20px;
    width: 100%;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
  .react-datepicker__year-option:first-of-type,
  .react-datepicker__month-option:first-of-type,
  .react-datepicker__month-year-option:first-of-type {
    border-top-left-radius: 0.3rem;
    border-top-right-radius: 0.3rem;
  }
  .react-datepicker__year-option:last-of-type,
  .react-datepicker__month-option:last-of-type,
  .react-datepicker__month-year-option:last-of-type {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border-bottom-left-radius: 0.3rem;
    border-bottom-right-radius: 0.3rem;
  }
  .react-datepicker__year-option:hover,
  .react-datepicker__month-option:hover,
  .react-datepicker__month-year-option:hover {
    background-color: #ccc;
  }
  .react-datepicker__year-option:hover
    .react-datepicker__navigation--years-upcoming,
  .react-datepicker__month-option:hover
    .react-datepicker__navigation--years-upcoming,
  .react-datepicker__month-year-option:hover
    .react-datepicker__navigation--years-upcoming {
    border-bottom-color: #b3b3b3;
  }
  .react-datepicker__year-option:hover
    .react-datepicker__navigation--years-previous,
  .react-datepicker__month-option:hover
    .react-datepicker__navigation--years-previous,
  .react-datepicker__month-year-option:hover
    .react-datepicker__navigation--years-previous {
    border-top-color: #b3b3b3;
  }
  .react-datepicker__year-option--selected,
  .react-datepicker__month-option--selected,
  .react-datepicker__month-year-option--selected {
    position: absolute;
    left: 15px;
  }

  .react-datepicker__close-icon {
    cursor: pointer;
    background-color: transparent;
    border: 0;
    outline: 0;
    padding: 0 6px 0 0;
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
    display: table-cell;
    vertical-align: middle;
  }
  .react-datepicker__close-icon::after {
    cursor: pointer;
    background-color: #216ba5;
    color: #fff;
    border-radius: 50%;
    height: 16px;
    width: 16px;
    padding: 2px;
    font-size: 12px;
    line-height: 1;
    text-align: center;
    display: table-cell;
    vertical-align: middle;
    content: '';
  }

  .react-datepicker__today-button {
    background: #f0f0f0;
    border-top: 1px solid #aeaeae;
    cursor: pointer;
    text-align: center;
    font-weight: bold;
    padding: 5px 0;
    clear: left;
  }

  .react-datepicker__portal {
    position: fixed;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.8);
    left: 0;
    top: 0;
    justify-content: center;
    align-items: center;
    display: flex;
    z-index: 2147483647;
  }
  .react-datepicker__portal .react-datepicker__day-name,
  .react-datepicker__portal .react-datepicker__day,
  .react-datepicker__portal .react-datepicker__time-name {
    width: 3rem;
    line-height: 3rem;
  }
  @media (max-width: 400px), (max-height: 550px) {
    .react-datepicker__portal .react-datepicker__day-name,
    .react-datepicker__portal .react-datepicker__day,
    .react-datepicker__portal .react-datepicker__time-name {
      width: 2rem;
      line-height: 2rem;
    }
  }
  .react-datepicker__portal .react-datepicker__current-month,
  .react-datepicker__portal .react-datepicker-time__header {
    font-size: 1.44rem;
  }
`,rR=Sr(mT)({width:"32px",height:"32px",color:"var(--ve-color-light)"}),oR=RA({defaultOptions:{default:"",time:!1},render:({value:e,onChange:t,options:n})=>{const o=e?new Date(1e3*e):null,[i,a]=(0,r.useState)(!1),s=o?new Intl.DateTimeFormat(void 0,{dateStyle:"long",timeStyle:n.time?"short":void 0}).format(o):"",l="function"==typeof rT?rT:rT.default,c=NA("datepickerinput");return Er(kT,{id:c,label:n.label,help:n.help,icon:Er(rR,{onClick:DT(()=>a(!0)),children:Er(C_,{size:16})}),children:Tr("div",{css:nR,children:[Er(uT,{id:c,onFocus:()=>a(!0),value:s,readOnly:!0}),i&&Er("div",{css:{position:"absolute",zIndex:4},children:Er(l,{selected:o,showTimeInput:n.time,inline:!0,onChange:e=>{t(e.getTime()/1e3),n.time||a(!1)},onClickOutside:()=>a(!1)})})]})})}}),iR={left:function({size:e=24}){return Er("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:Er("path",{fill:"currentColor",d:"M3 8V6h8v2zM3 13v-2h18v2zM3 18v-2h14v2z"})})},center:function({size:e=24}){return Er("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:Er("path",{fill:"currentColor",d:"M8 8V6h8v2zM3 13v-2h18v2zM5 18v-2h14v2z"})})},right:function({size:e=24}){return Er("svg",{width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:Er("path",{fill:"currentColor",d:"M11 8V6h10v2zM3 13v-2h18v2zM6 18v-2h15v2z"})})}},aR=RA({defaultOptions:{default:"left"},render:({value:e,onChange:t,options:n})=>{const r=Object.keys(iR),o=NA();return Er(kT,{label:n.label,children:Er(UN,{children:r.map(n=>Er($N,{name:o,value:n,checked:e===n,onChange:t,icon:iR[n]},n))})})}}),sR={},lR=[],cR=[],dR=[{name:"Mobile",width:390,height:"100%",icon:"mobile"},{name:"Desktop",width:"100%",height:"100%",icon:"desktop"}],uR=class e{constructor(t={}){e.i18n=t.lang??OA,e.devices=t.devices??dR,e.postMessagePreview=t.postMessagePreview??!1}registerComponent(e,t){sR[e]={label:"title",...t}}registerTemplate(e){lR.push(e)}registerButton(e){cR.push(e)}defineElement(t="visual-editor"){class n extends HTMLElement{constructor(){super(...arguments),iT(this,"_root",null),iT(this,"_store",null)}static get observedAttributes(){return["hidden","value"]}get value(){return N_(this.valueAsArray)}get valueAsArray(){return this._store?.getState().data??[]}set value(e){if(!this._store)return void(e?this.setAttribute("value","string"==typeof e?e:JSON.stringify(e)):this.removeAttribute("value"));const t=this._store.getState();"string"!=typeof e?"function"!=typeof e?t.setDataFromOutside(R_(e)):t.setDataFromOutside(e(t.data)):t.setDataFromOutside(this.parseValue(e))}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){if(!this._root)return!1;"value"===e&&n?this.value=n:this.render()}disconnectedCallback(){this._root&&(this._root.unmount(),this._store=null,this._root=null)}parseValue(e){if(!e)return[];try{return R_(JSON.parse(e)).map(e=>z_(e,sR[e._name]?.fields??[]))}catch(Ol){return console.error("Impossible de parser les donn\xe9es",e,Ol),alert("Impossible de parser les donn\xe9es de l'\xe9diteur visuel"),[]}}render(){const t=this.parseValue(this.getAttribute("value")?.toString()),n=this.getAttribute("hidden-categories")?.split(";")??[];this._root||(this._root=(0,i.createRoot)(this)),this._root.render(Er($_,{data:t,definitions:sR,actions:cR,templates:lR,hiddenCategories:n,rootElement:this,devices:e.devices,insertPosition:this.getAttribute("insertPosition")??"start",onStore:e=>this._store=e,children:Er(hR,{element:this,previewUrl:this.getAttribute("preview")??"",iconsUrl:this.getAttribute("iconsUrl")??"/",name:this.getAttribute("name")??"",visible:null===this.getAttribute("hidden")})}))}}iT(n,"changeEventName","change"),customElements.define(t,n)}};iT(uR,"i18n",OA),iT(uR,"postMessagePreview",!1),iT(uR,"devices");var pR=uR;function hR({previewUrl:e,name:t,element:n,iconsUrl:o,visible:i}){const a=function(e,t=700,n=!0){const[o,i]=(0,r.useState)(e);return(0,r.useEffect)(()=>{if(!e||!n){const t=window.setTimeout(()=>i(e),700);return()=>window.clearTimeout(t)}i(e)},[e]),o}(i);!function(e){const{insertData:t}=U_("insertData");(0,r.useEffect)(()=>{if(!e)return;const n=e=>{try{let n=(e.clipboardData||window.clipboardData).getData("text").trim();if(n.startsWith("{")){e.preventDefault();const r=JSON.parse(n);r._name&&t(r._name,0,R_(r))}else if(n.startsWith("[")){e.preventDefault();const r=JSON.parse(n);if(r.length>0)for(let e=r.length-1;e>=0;e--)t(r[e]._name,0,R_(r[e]))}}catch(Ol){}};return document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}},[t,e])}(a);const s=(0,r.useRef)(null);var l,c;return l=s,c=["change","close"],(0,r.useEffect)(()=>{if(l.current)return c.map(e=>{l.current.addEventListener(e,AA)}),()=>{l.current&&c.map(e=>{l.current.removeEventListener(e,AA)})}}),a?Tr("div",{ref:s,children:[Er(IO,{children:Er(MA,{onClose:()=>{n.dispatchEvent(new Event("close"))},previewUrl:e,iconsUrl:o})}),Er(fR,{name:t})]}):Er(fR,{name:t})}function fR({name:e}){const{data:t}=U_("data"),n=(0,r.useMemo)(()=>N_(t),[t]);return Er("textarea",{hidden:!0,name:e,value:n,onChange:()=>null})}}}]);